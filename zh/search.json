[
  {
    "objectID": "Hiplot/151-rcs-cox.html",
    "href": "Hiplot/151-rcs-cox.html",
    "title": "限制性立方样条 COX 模型",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot RCS-COX 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/rcs-cox?lang=zh_cn\n非线性回归分析。",
    "crumbs": [
      "HIPLOT",
      "RCS-COX"
    ]
  },
  {
    "objectID": "Hiplot/151-rcs-cox.html#环境配置",
    "href": "Hiplot/151-rcs-cox.html#环境配置",
    "title": "限制性立方样条 COX 模型",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; rms; survival; ggplot2; stringr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"rms\", quietly = TRUE)) {\n  install.packages(\"rms\")\n}\nif (!requireNamespace(\"survival\", quietly = TRUE)) {\n  install.packages(\"survival\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(rms)\nlibrary(survival)\nlibrary(ggplot2)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "RCS-COX"
    ]
  },
  {
    "objectID": "Hiplot/151-rcs-cox.html#数据准备",
    "href": "Hiplot/151-rcs-cox.html#数据准备",
    "title": "限制性立方样条 COX 模型",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/rcs-cox/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- na.omit(data)\nex &lt;- set::not(colnames(data), c(\"main\", \"time\", \"event\"))\nex &lt;- str_c(ex, collapse = \"+\")\ndd &lt;&lt;- datadist(data)\noptions(datadist = \"dd\")\nfor (i in 3:5) {\n  fit &lt;- coxph(as.formula(paste0(\"Surv(time, event) ~ rcs(main, nk = i, inclx = T)+\", ex, collapse = \"+\")), data = data, x = TRUE)\n  tmp &lt;- extractAIC(fit)\n  if (i == 3) {\n    AIC &lt;- tmp[2]\n    nk &lt;&lt;- 3\n  }\n  if (tmp[2] &lt; AIC) {\n    AIC &lt;- tmp[2]\n    nk &lt;&lt;- i\n  }\n}\nfit &lt;- cph(as.formula(paste0(\"Surv(time, event) ~ rcs(main, nk = nk, inclx = T)+\", ex, collapse = \"+\")), data = data, x = TRUE)\ndd$limits$main[2] &lt;- median(data$main)\nfit &lt;- update(fit)\norr &lt;- Predict(fit, main, fun = exp, ref.zero = TRUE)\n\n# 查看数据\nhead(data)\n\n      main x1 x2 time event\n1 25.54051  1  1 2178     0\n2 24.02398  1  2 2172     0\n3 22.14290  1  3 2190     0\n4 26.63187  1  4  297     1\n5 24.41255  1  5 2131     0\n6 23.24236  1  6    1     1",
    "crumbs": [
      "HIPLOT",
      "RCS-COX"
    ]
  },
  {
    "objectID": "Hiplot/151-rcs-cox.html#可视化",
    "href": "Hiplot/151-rcs-cox.html#可视化",
    "title": "限制性立方样条 COX 模型",
    "section": "可视化",
    "text": "可视化\n\n# 限制性立方样条 COX 模型\np &lt;- ggplot() +\n  geom_line(data = orr, aes(main, yhat), linetype = \"solid\", size = 1, alpha = 1,\n            colour = \"#FF0000\") +\n  geom_ribbon(data = orr, aes(main, ymin = lower, ymax = upper), alpha = 0.6, \n              fill = \"#FFC0CB\") +\n  geom_hline(yintercept = 1, linetype = 2, size = 0.5) +\n  geom_vline(xintercept = dd$limits$main[2], linetype = 2, size = 0.5) +\n  labs(x = \" \", y = \"Hazard Ratio(95%CI)\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n \np\n\n\n\n\n\n\n\n图 1: 限制性立方样条 COX 模型",
    "crumbs": [
      "HIPLOT",
      "RCS-COX"
    ]
  },
  {
    "objectID": "Hiplot/066-ggdist.html",
    "href": "Hiplot/066-ggdist.html",
    "title": "分布图",
    "section": "",
    "text": "分布图是一种采用置信分布的可视化图形。",
    "crumbs": [
      "HIPLOT",
      "Dist Plot"
    ]
  },
  {
    "objectID": "Hiplot/066-ggdist.html#环境配置",
    "href": "Hiplot/066-ggdist.html#环境配置",
    "title": "分布图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggdist; tidyr; broom; modelr; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggdist\", quietly = TRUE)) {\n  install.packages(\"ggdist\")\n}\nif (!requireNamespace(\"tidyr\", quietly = TRUE)) {\n  install.packages(\"tidyr\")\n}\nif (!requireNamespace(\"broom\", quietly = TRUE)) {\n  install.packages(\"broom\")\n}\nif (!requireNamespace(\"modelr\", quietly = TRUE)) {\n  install.packages(\"modelr\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggdist)\nlibrary(tidyr)\nlibrary(broom)\nlibrary(modelr)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Dist Plot"
    ]
  },
  {
    "objectID": "Hiplot/066-ggdist.html#数据准备",
    "href": "Hiplot/066-ggdist.html#数据准备",
    "title": "分布图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 5 种条件及其对应的值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggdist/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- factor(data[, 1], levels = rev(unique(data[, 1])))\ndata &lt;- tibble(data)\ndata2 = lm(response ~ condition, data = data)\ndata3 &lt;- data_grid(data, condition) %&gt;%\n  augment(data2, newdata = ., se_fit = TRUE)\n\n# 查看数据\nhead(data)\n\n# A tibble: 6 × 2\n  condition response\n  &lt;fct&gt;        &lt;dbl&gt;\n1 A           -0.420\n2 B            1.69 \n3 C            1.37 \n4 D            1.04 \n5 E           -0.144\n6 A           -0.301",
    "crumbs": [
      "HIPLOT",
      "Dist Plot"
    ]
  },
  {
    "objectID": "Hiplot/066-ggdist.html#可视化",
    "href": "Hiplot/066-ggdist.html#可视化",
    "title": "分布图",
    "section": "可视化",
    "text": "可视化\n\n# 分布图\np &lt;- ggplot(data3, aes_(y = as.name(colnames(data[1])))) +\n  stat_dist_halfeye(aes(dist = \"student_t\", arg1 = df.residual(data2),\n                        arg2 = .fitted, arg3 = .se.fit),\n                    scale = .5) +\n  geom_point(aes_(x = as.name(colnames(data[2]))),\n             data = data, pch = \"|\", size = 2,\n             position = position_nudge(y = -.15)) +\n  ggtitle(\"ggdist Plot\") + \n  xlab(\"response\") + ylab(\"condition\") +\n  theme_ggdist() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 分布图\n\n\n\n\n\n图示给出的是条件下均值的置信度分布，可以看出 5 种条件下对应值的大致分布情况。",
    "crumbs": [
      "HIPLOT",
      "Dist Plot"
    ]
  },
  {
    "objectID": "Hiplot/035-custom-icon-scatter.html",
    "href": "Hiplot/035-custom-icon-scatter.html",
    "title": "自定义图标散点图",
    "section": "",
    "text": "可自定义图标的散点图。",
    "crumbs": [
      "HIPLOT",
      "Custom Icon Scatter"
    ]
  },
  {
    "objectID": "Hiplot/035-custom-icon-scatter.html#环境配置",
    "href": "Hiplot/035-custom-icon-scatter.html#环境配置",
    "title": "自定义图标散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; echarts4r; echarts4r.assets\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"echarts4r\", quietly = TRUE)) {\n  install.packages(\"echarts4r\")\n}\nif (!requireNamespace(\"echarts4r.assets\", quietly = TRUE)) {\n  install_github(\"JohnCoene/echarts4r.assets\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(echarts4r)\nlibrary(echarts4r.assets)",
    "crumbs": [
      "HIPLOT",
      "Custom Icon Scatter"
    ]
  },
  {
    "objectID": "Hiplot/035-custom-icon-scatter.html#数据准备",
    "href": "Hiplot/035-custom-icon-scatter.html#数据准备",
    "title": "自定义图标散点图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/custom-icon-scatter/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndraw_data &lt;- data.frame(\n  x = data[[\"mpg\"]],\n  y = data[[\"wt\"]],\n  size = data[[\"qsec\"]]\n  )\nrm(data)\n\n# 查看数据\nhead(draw_data)\n\n     x     y  size\n1 21.0 2.620 16.46\n2 21.0 2.875 17.02\n3 22.8 2.320 18.61\n4 21.4 3.215 19.44\n5 18.7 3.440 17.02\n6 18.1 3.460 20.22",
    "crumbs": [
      "HIPLOT",
      "Custom Icon Scatter"
    ]
  },
  {
    "objectID": "Hiplot/035-custom-icon-scatter.html#可视化",
    "href": "Hiplot/035-custom-icon-scatter.html#可视化",
    "title": "自定义图标散点图",
    "section": "可视化",
    "text": "可视化\n\n# 自定义图标散点图\np &lt;- draw_data |&gt;\n  e_charts(x) |&gt;\n  e_scatter(\n    y,\n    size,\n    symbol = ea_icons(\"warning\"),\n    name = \"warning\"\n    )\n\np\n\n\n\n\n\n\n\n图 1: 自定义图标散点图",
    "crumbs": [
      "HIPLOT",
      "Custom Icon Scatter"
    ]
  },
  {
    "objectID": "Hiplot/168-streamgraph.html",
    "href": "Hiplot/168-streamgraph.html",
    "title": "流动图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Streamgraph 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/streamgraph?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Streamgraph"
    ]
  },
  {
    "objectID": "Hiplot/168-streamgraph.html#环境配置",
    "href": "Hiplot/168-streamgraph.html#环境配置",
    "title": "流动图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; streamgraph\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"streamgraph\", quietly = TRUE)) {\n  install_github(\"hrbrmstr/streamgraph\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(streamgraph)",
    "crumbs": [
      "HIPLOT",
      "Streamgraph"
    ]
  },
  {
    "objectID": "Hiplot/168-streamgraph.html#数据准备",
    "href": "Hiplot/168-streamgraph.html#数据准备",
    "title": "流动图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/streamgraph/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"date\",\"key\",\"value\")\n\n# 查看数据\nhead(data)\n\n  date key  value\n1 1990   a 0.7688\n2 1990   b 0.5782\n3 1990   c 0.8164\n4 1990   d 0.4791\n5 1990   e 0.8793\n6 1990   f 0.4640",
    "crumbs": [
      "HIPLOT",
      "Streamgraph"
    ]
  },
  {
    "objectID": "Hiplot/168-streamgraph.html#可视化",
    "href": "Hiplot/168-streamgraph.html#可视化",
    "title": "流动图",
    "section": "可视化",
    "text": "可视化\n\n# 流动图\np &lt;- streamgraph(data, key = \"key\", value = \"value\", date = \"date\",\n                 offset = \"silhouette\", interpolate = \"cardinal\",\n                 interactive = F, scale = \"date\") %&gt;% \n  sg_fill_brewer(palette = \"Spectral\")\n\np\n\n\n\n\n\n\n\n\n图 1: 流动图",
    "crumbs": [
      "HIPLOT",
      "Streamgraph"
    ]
  },
  {
    "objectID": "Hiplot/129-neural-network.html",
    "href": "Hiplot/129-neural-network.html",
    "title": "神经网络",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Neural Network 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/neural-network?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Neural Network"
    ]
  },
  {
    "objectID": "Hiplot/129-neural-network.html#环境配置",
    "href": "Hiplot/129-neural-network.html#环境配置",
    "title": "神经网络",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; NeuralNetTools; nnet\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"NeuralNetTools\", quietly = TRUE)) {\n  install.packages(\"NeuralNetTools\")\n}\nif (!requireNamespace(\"nnet\", quietly = TRUE)) {\n  install.packages(\"nnet\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(NeuralNetTools)\nlibrary(nnet)",
    "crumbs": [
      "HIPLOT",
      "Neural Network"
    ]
  },
  {
    "objectID": "Hiplot/129-neural-network.html#数据准备",
    "href": "Hiplot/129-neural-network.html#数据准备",
    "title": "神经网络",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/neural-network/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n         Y1        Y2          X1         X2         X3\n1 0.7646258 0.5494452 -0.89691455 -1.8923489  0.6408445\n2 0.2383994 0.4605024  0.18484918  1.2928042 -1.6013778\n3 0.3800247 0.2527468  1.58784533 -0.6182543 -0.7778154\n4 0.3545279 0.6319730 -1.13037567  1.0409383 -1.6473925\n5 0.3667356 0.4684437 -0.08025176  1.1758795  0.1542662\n6 0.5509560 0.4439474  0.13242028 -1.5018321 -1.1756313",
    "crumbs": [
      "HIPLOT",
      "Neural Network"
    ]
  },
  {
    "objectID": "Hiplot/129-neural-network.html#可视化",
    "href": "Hiplot/129-neural-network.html#可视化",
    "title": "神经网络",
    "section": "可视化",
    "text": "可视化\n\n# 神经网络\nmod &lt;- nnet(Y1 ~ X1 + X2 + X3, data = neuraldat, size = 10,\n            maxint = 100, decay = 0)\n\n# weights:  51\ninitial  value 113.420264 \niter  10 value 0.676705\niter  20 value 0.235322\niter  30 value 0.166554\niter  40 value 0.132462\niter  50 value 0.036222\niter  60 value 0.016571\niter  70 value 0.010242\niter  80 value 0.006327\niter  90 value 0.005438\niter 100 value 0.004949\nfinal  value 0.004949 \nstopped after 100 iterations\n\n# plot\npar(mar = numeric(4))\nplotnet(mod)\n\n\n\n\n\n\n\n图 1: 神经网络",
    "crumbs": [
      "HIPLOT",
      "Neural Network"
    ]
  },
  {
    "objectID": "Hiplot/174-tricolor-histogram.html",
    "href": "Hiplot/174-tricolor-histogram.html",
    "title": "三色直方图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Tricolor Histogram 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/tricolor-histogram?lang=zh_cn\n通过三种颜色将直方图分为低值区，中值区和高值区。",
    "crumbs": [
      "HIPLOT",
      "Tricolor Histogram"
    ]
  },
  {
    "objectID": "Hiplot/174-tricolor-histogram.html#环境配置",
    "href": "Hiplot/174-tricolor-histogram.html#环境配置",
    "title": "三色直方图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Tricolor Histogram"
    ]
  },
  {
    "objectID": "Hiplot/174-tricolor-histogram.html#数据准备",
    "href": "Hiplot/174-tricolor-histogram.html#数据准备",
    "title": "三色直方图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/tricolor-histogram/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$draw_color &lt;- ifelse(data$value &lt; 5, \"#F44336\",\n                          ifelse(data$value &gt; 7, \"#006064\", \"#3F51B5\")\n)\n\n# 查看数据\nhead(data)\n\n    values draw_color\n1 6.063364    #3F51B5\n2 4.354496    #F44336\n3 5.569931    #3F51B5\n4 5.602465    #3F51B5\n5 6.831472    #3F51B5\n6 6.055604    #3F51B5",
    "crumbs": [
      "HIPLOT",
      "Tricolor Histogram"
    ]
  },
  {
    "objectID": "Hiplot/174-tricolor-histogram.html#可视化",
    "href": "Hiplot/174-tricolor-histogram.html#可视化",
    "title": "三色直方图",
    "section": "可视化",
    "text": "可视化\n\n# 三色直方图\np &lt;- ggplot(data, aes(x = values, fill = draw_color)) +\n  geom_histogram(alpha = 0.5, binwidth = 0.05, position = \"identity\") +\n    scale_fill_manual(values = c(\"#3F51B5\", \"#006064\", \"#F44336\")) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 三色直方图",
    "crumbs": [
      "HIPLOT",
      "Tricolor Histogram"
    ]
  },
  {
    "objectID": "Hiplot/185-waterfalls-plot.html",
    "href": "Hiplot/185-waterfalls-plot.html",
    "title": "瀑布图2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Waterfalls Plot2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/waterfalls-plot?lang=zh_cn\n用于展示数据的变化情况，区别于1的一点是2可以自定义上升值和下降值颜色。",
    "crumbs": [
      "HIPLOT",
      "Waterfalls Plot2"
    ]
  },
  {
    "objectID": "Hiplot/185-waterfalls-plot.html#环境配置",
    "href": "Hiplot/185-waterfalls-plot.html#环境配置",
    "title": "瀑布图2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; waterfalls; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"waterfalls\", quietly = TRUE)) {\n  install.packages(\"waterfalls\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(waterfalls)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Waterfalls Plot2"
    ]
  },
  {
    "objectID": "Hiplot/185-waterfalls-plot.html#数据准备",
    "href": "Hiplot/185-waterfalls-plot.html#数据准备",
    "title": "瀑布图2",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/waterfalls-plot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[[\"name\"]] &lt;- factor(data[[\"name\"]], levels = data[[\"name\"]])\ndata$fill &lt;- ifelse(data$value &gt; 0, \"#B71C1C\", \"#1B5E20\")\n\n# 查看数据\nhead(data)\n\n  name value    fill\n1    A   100 #B71C1C\n2    B   -20 #1B5E20\n3    C   120 #B71C1C\n4    D   -40 #1B5E20\n5    E  -100 #1B5E20\n6    F    80 #B71C1C",
    "crumbs": [
      "HIPLOT",
      "Waterfalls Plot2"
    ]
  },
  {
    "objectID": "Hiplot/185-waterfalls-plot.html#可视化",
    "href": "Hiplot/185-waterfalls-plot.html#可视化",
    "title": "瀑布图2",
    "section": "可视化",
    "text": "可视化\n\n# 瀑布图2\np &lt;- waterfall(data, calc_total = T, rect_width = 0.7, fill_by_sign = F,\n               fill_colours = data$fill, total_rect_color = \"#1E065D\") +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 瀑布图2",
    "crumbs": [
      "HIPLOT",
      "Waterfalls Plot2"
    ]
  },
  {
    "objectID": "Hiplot/125-multiple-histograms.html",
    "href": "Hiplot/125-multiple-histograms.html",
    "title": "多直方图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Multiple Histograms 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/multiple-histograms?lang=zh_cn\n将多个直方图绘制在同一图像上，可对比多组数据之间的差异。",
    "crumbs": [
      "HIPLOT",
      "Multiple Histograms"
    ]
  },
  {
    "objectID": "Hiplot/125-multiple-histograms.html#环境配置",
    "href": "Hiplot/125-multiple-histograms.html#环境配置",
    "title": "多直方图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Multiple Histograms"
    ]
  },
  {
    "objectID": "Hiplot/125-multiple-histograms.html#数据准备",
    "href": "Hiplot/125-multiple-histograms.html#数据准备",
    "title": "多直方图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/multiple-histograms/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  type    value\n1   v1 3.059937\n2   v1 1.907186\n3   v1 4.278629\n4   v1 3.834794\n5   v1 5.493830\n6   v1 1.380032",
    "crumbs": [
      "HIPLOT",
      "Multiple Histograms"
    ]
  },
  {
    "objectID": "Hiplot/125-multiple-histograms.html#可视化",
    "href": "Hiplot/125-multiple-histograms.html#可视化",
    "title": "多直方图",
    "section": "可视化",
    "text": "可视化\n\n# 多直方图\np &lt;- ggplot(data, aes(x = value, fill = type)) +\n  geom_histogram(color = \"black\", alpha = 0.5, \n                 position = \"identity\", binwidth = 0.3) +\n  scale_fill_manual(values = c(\"#BC3C29FF\",\"#0072B5FF\")) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 多直方图",
    "crumbs": [
      "HIPLOT",
      "Multiple Histograms"
    ]
  },
  {
    "objectID": "Hiplot/082-group-comparison.html",
    "href": "Hiplot/082-group-comparison.html",
    "title": "分组比较热图",
    "section": "",
    "text": "分组比较热图提供了一种进行多组比较并使用热图可视化的紧凑方式，以替换绘制许多个箱线图。",
    "crumbs": [
      "HIPLOT",
      "Group-comparison Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/082-group-comparison.html#环境配置",
    "href": "Hiplot/082-group-comparison.html#环境配置",
    "title": "分组比较热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; sigminer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"sigminer\", quietly = TRUE)) {\n  install_github(\"ShixiangWang/sigminer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(sigminer)",
    "crumbs": [
      "HIPLOT",
      "Group-comparison Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/082-group-comparison.html#数据准备",
    "href": "Hiplot/082-group-comparison.html#数据准备",
    "title": "分组比较热图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/group-comparison/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  g1 g2 e1         e2\n1  A AA  N -1.8060313\n2  A AA  N -0.5820759\n3  A AA  N -1.1088896\n4  A AA  N -1.0149620\n5  A AA  P -0.1623095\n6  A AA  N  0.5630558",
    "crumbs": [
      "HIPLOT",
      "Group-comparison Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/082-group-comparison.html#可视化",
    "href": "Hiplot/082-group-comparison.html#可视化",
    "title": "分组比较热图",
    "section": "可视化",
    "text": "可视化\n\n# 定义绘图函数\nunlist_and_covert &lt;- function(x, recursive = FALSE) {\n  if (!is.null(x)) {\n    x &lt;- unlist(x, recursive = recursive)\n    if (!is.null(x)) {\n      y &lt;- sapply(x, function(x) {\n        if (identical(x, \"NA\")) NA else x\n      })\n      names(y) &lt;- names(x)\n      x &lt;- y\n    }\n  }\n  x\n}\n\nplotentry &lt;- function(data,\n                      grp_vars = NULL, enrich_vars = NULL, cross = TRUE,\n                      co_method = c(\"t.test\", \"wilcox.test\"), ref_group = NA,\n                      scales = \"free\", add_text_annotation = TRUE,\n                      fill_by_p_value = TRUE, use_fdr = TRUE, cut_p_value = FALSE,\n                      cluster_row = FALSE) {\n  ref_group &lt;- unlist_and_covert(ref_group)\n  if (is.null(ref_group)) ref_group &lt;- NA\n  rv &lt;- group_enrichment(data, grp_vars, enrich_vars, cross, co_method, ref_group)\n  if (length(unique(rv$grp_var)) == 1) {\n    p &lt;- show_group_enrichment(rv,\n      return_list = TRUE,\n      scales = scales, add_text_annotation = add_text_annotation,\n      fill_by_p_value = fill_by_p_value, use_fdr = use_fdr, cut_p_value = cut_p_value,\n      cluster_row = cluster_row\n    )\n    p &lt;- p[[1]]\n  } else {\n    p &lt;- show_group_enrichment(rv,\n      scales = scales, add_text_annotation = add_text_annotation,\n      fill_by_p_value = fill_by_p_value, use_fdr = use_fdr, cut_p_value = cut_p_value,\n      cluster_row = cluster_row\n    )\n  }\n  return(p)\n}\n\n# 绘制图形\np &lt;- plotentry(\n  data = data,\n  grp_vars = \"g1\",\n  enrich_vars = c(\"e1\", \"e2\"),\n  cross = T,\n  add_text_annotation = T,\n  fill_by_p_value = T,\n  use_fdr = T,\n  cut_p_value = F,\n  cluster_row = F,\n  co_method = \"t.test\",\n  scales = \"free\"\n)\n\np\n\n\n\n\n\n\n\n图 1: 分组比较热图",
    "crumbs": [
      "HIPLOT",
      "Group-comparison Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/074-ggseqlogo.html",
    "href": "Hiplot/074-ggseqlogo.html",
    "title": "序列 Logo",
    "section": "",
    "text": "序列 Logo 是一种用来描述结合位点序列模式的图形。",
    "crumbs": [
      "HIPLOT",
      "Seqlogo"
    ]
  },
  {
    "objectID": "Hiplot/074-ggseqlogo.html#环境配置",
    "href": "Hiplot/074-ggseqlogo.html#环境配置",
    "title": "序列 Logo",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggseqlogo; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggseqlogo\", quietly = TRUE)) {\n  install.packages(\"ggseqlogo\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggseqlogo)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Seqlogo"
    ]
  },
  {
    "objectID": "Hiplot/074-ggseqlogo.html#数据准备",
    "href": "Hiplot/074-ggseqlogo.html#数据准备",
    "title": "序列 Logo",
    "section": "数据准备",
    "text": "数据准备\n载入数据为多个转录因子在多个基因上的结合位点的序列。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggseqlogo/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[, !sapply(data, function(x) {all(is.na(x))})]\ndata &lt;- as.list(data)\ndata &lt;- lapply(data, function(x) {return(x[!is.na(x)])})\n\n# 查看数据\nstr(data[1:5])\n\nList of 5\n $ MA0001.1: chr [1:97] \"CCATATATAG\" \"CCATATATAG\" \"CCATAAATAG\" \"CCATAAATAG\" ...\n $ MA0002.1: chr [1:26] \"AATTGTGGTTA\" \"ATCTGTGGTTA\" \"AATTGTGGTAA\" \"TTCTGCGGTTA\" ...\n $ MA0004.1: chr [1:20] \"CACGTG\" \"CACGTG\" \"CACGTG\" \"CACGTG\" ...\n $ MA0005.1: chr [1:90] \"CCTAATTGGGC\" \"CCTAATTTGGC\" \"CCTAATCGGGC\" \"CCTAATCGGGC\" ...\n $ MA0006.1: chr [1:24] \"CGCGTG\" \"CGCGTG\" \"CGCGTG\" \"CGCGTG\" ...",
    "crumbs": [
      "HIPLOT",
      "Seqlogo"
    ]
  },
  {
    "objectID": "Hiplot/074-ggseqlogo.html#可视化",
    "href": "Hiplot/074-ggseqlogo.html#可视化",
    "title": "序列 Logo",
    "section": "可视化",
    "text": "可视化\n\n# 序列 Logo\np &lt;- ggseqlogo(\n  data,\n  ncol = 4,\n  col_scheme = \"nucleotide\",\n  seq_type = \"dna\",\n  method = \"bits\") + \n  theme(plot.title = element_text(hjust = 0.5))\n\np\n\n\n\n\n\n\n\n图 1: 序列 Logo\n\n\n\n\n\n采用 bits 计算的方式将一个结合位点序列展示在图表一列，可以清晰观测到不同序列占比较大的碱基。",
    "crumbs": [
      "HIPLOT",
      "Seqlogo"
    ]
  },
  {
    "objectID": "Hiplot/053-ezcox.html",
    "href": "Hiplot/053-ezcox.html",
    "title": "Cox 模型森林图",
    "section": "",
    "text": "COX 模型森林图对 COX 模型构建风险森林图，以便于筛选变量的一种可视化图形。",
    "crumbs": [
      "HIPLOT",
      "Cox Models Forest"
    ]
  },
  {
    "objectID": "Hiplot/053-ezcox.html#环境配置",
    "href": "Hiplot/053-ezcox.html#环境配置",
    "title": "Cox 模型森林图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ezcox\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ezcox\", quietly = TRUE)) {\n  install.packages(\"ezcox\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ezcox)",
    "crumbs": [
      "HIPLOT",
      "Cox Models Forest"
    ]
  },
  {
    "objectID": "Hiplot/053-ezcox.html#数据准备",
    "href": "Hiplot/053-ezcox.html#数据准备",
    "title": "Cox 模型森林图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为时间，生存结局及多个变量因素。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ezcox/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  time status sex ph.ecog age\n1  306      2   1       1  74\n2  455      2   1       0  68\n3 1010      1   1       0  56\n4  210      2   1       1  57\n5  883      2   1       0  60\n6 1022      1   1       1  74",
    "crumbs": [
      "HIPLOT",
      "Cox Models Forest"
    ]
  },
  {
    "objectID": "Hiplot/053-ezcox.html#可视化",
    "href": "Hiplot/053-ezcox.html#可视化",
    "title": "Cox 模型森林图",
    "section": "可视化",
    "text": "可视化\n\n# Cox 模型森林图\np &lt;- show_forest(\n  data = data,\n  covariates = c(\"sex\", \"ph.ecog\"),\n  controls = \"age\",\n  merge_models = F,\n  drop_controls = F,\n  add_caption = T\n)\n\np\n\n\n\n\n\n\n\n图 1: Cox 模型森林图\n\n\n\n\n\n图示表格第一列表示变量及样本数，第二列森林图图示，第三列表示CI95%置信区间范围及其平均值和 P 值\n森林图解读\n中间垂直线表示无效线，横线表示该变量因素的95%置信区间，长短表示置信区间范围的大小，若某变量因素置信区间与无效线相交，则认为该变量因素无统计学意义，方块的位置是HR的点估计。\nage 因素为控制变量。\nph.ecog 因素的发生率大于年龄因素的发生率，且 ph.ecog 因素会增加生存的发生（P &lt; 0.001，有统计学意义）。\nsex 因素的发生率小于年龄因素的发生率，且 sex 因素会减少生存的发生（P = 0.002 &lt; 0.05，有统计学意义）。",
    "crumbs": [
      "HIPLOT",
      "Cox Models Forest"
    ]
  },
  {
    "objectID": "Hiplot/055-fishplot.html",
    "href": "Hiplot/055-fishplot.html",
    "title": "鱼形图",
    "section": "",
    "text": "克隆演化分析。",
    "crumbs": [
      "HIPLOT",
      "Fishplot"
    ]
  },
  {
    "objectID": "Hiplot/055-fishplot.html#环境配置",
    "href": "Hiplot/055-fishplot.html#环境配置",
    "title": "鱼形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; fishplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"fishplot\", quietly = TRUE)) {\n  install_github(\"chrisamiller/fishplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(fishplot)",
    "crumbs": [
      "HIPLOT",
      "Fishplot"
    ]
  },
  {
    "objectID": "Hiplot/055-fishplot.html#数据准备",
    "href": "Hiplot/055-fishplot.html#数据准备",
    "title": "鱼形图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/fishplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  timepoints parents sample.name event1 event2 event3 event4\n1          0       0     Sample1    100      2      2     98\n2         30       1     Sample1     45      0      0      0\n3         75       1     Sample1      0      0      2     95\n4        150       3     Sample1      0      0      1     40\n\n\n\ntimepoints：为矩阵的每一列指定时间点\nparents：指定克隆之间的父母关系\nsamplename：样品名称（支持多个样品）\nother：包含所有时间点所有克隆的肿瘤比例估计值的数值矩阵",
    "crumbs": [
      "HIPLOT",
      "Fishplot"
    ]
  },
  {
    "objectID": "Hiplot/055-fishplot.html#可视化",
    "href": "Hiplot/055-fishplot.html#可视化",
    "title": "鱼形图",
    "section": "可视化",
    "text": "可视化\n\n## 创建一个 fish 对象\nfish = createFishObject(as.matrix(data[,4:7]), parents=data$parents, \n                        timepoints=data$timepoints, \n                        col = c(\"#888888\",\"#e8130c\",\"#f8150d\",\"#55158f\"))\n## 计算绘图的布局\nfish = layoutClones(fish)\n## 使用 splining 方法绘制图（推荐），并提供标签和绘图标题的时间点\nfishPlot(fish,shape=\"spline\", title.btm=\"Sample1\", title = \"Fishplot\",\n         cex.title=1, vlines=c(0,30,75,150), \n         vlab=c(\"Day 0\",\"Day 30\",\"Day 75\",\"Day 150\"))\n\n\n\n\n\n\n\n图 1: 鱼形图",
    "crumbs": [
      "HIPLOT",
      "Fishplot"
    ]
  },
  {
    "objectID": "Hiplot/052-extended-scatter.html",
    "href": "Hiplot/052-extended-scatter.html",
    "title": "扩展散点图",
    "section": "",
    "text": "在散点图的基础上拓展边缘图像。",
    "crumbs": [
      "HIPLOT",
      "Extended Scatter"
    ]
  },
  {
    "objectID": "Hiplot/052-extended-scatter.html#环境配置",
    "href": "Hiplot/052-extended-scatter.html#环境配置",
    "title": "扩展散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggExtra\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggExtra\", quietly = TRUE)) {\n  install.packages(\"ggExtra\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggExtra)",
    "crumbs": [
      "HIPLOT",
      "Extended Scatter"
    ]
  },
  {
    "objectID": "Hiplot/052-extended-scatter.html#数据准备",
    "href": "Hiplot/052-extended-scatter.html#数据准备",
    "title": "扩展散点图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/extended-scatter/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "HIPLOT",
      "Extended Scatter"
    ]
  },
  {
    "objectID": "Hiplot/052-extended-scatter.html#可视化",
    "href": "Hiplot/052-extended-scatter.html#可视化",
    "title": "扩展散点图",
    "section": "可视化",
    "text": "可视化\n\n# 比例韦恩图\np &lt;- ggplot(data, aes(x = wt, y = mpg, color = cyl, size = cyl)) +\n  geom_point() +\n  geom_rug(alpha = 0.2, size = 1.5, col = \"#4f80b3\") +\n  theme(legend.position = \"none\")\n\np &lt;- ggMarginal(\n  p, type = \"densigram\", fill = \"#7054cc\", color = \"#7f0080\",\n  size = 4, bins = 30)\n\np\n\n\n\n\n\n\n\n图 1: 比例韦恩图",
    "crumbs": [
      "HIPLOT",
      "Extended Scatter"
    ]
  },
  {
    "objectID": "Hiplot/131-nomogram.html",
    "href": "Hiplot/131-nomogram.html",
    "title": "诺莫图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Nomogram 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/nomogram?lang=zh_cn\n列线图常被用来评价肿瘤和医学的预后，并能直观地反映logistic回归或Cox回归的结果。",
    "crumbs": [
      "HIPLOT",
      "Nomogram"
    ]
  },
  {
    "objectID": "Hiplot/131-nomogram.html#环境配置",
    "href": "Hiplot/131-nomogram.html#环境配置",
    "title": "诺莫图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; survival; rms; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"survival\", quietly = TRUE)) {\n  install.packages(\"survival\")\n}\nif (!requireNamespace(\"rms\", quietly = TRUE)) {\n  install.packages(\"rms\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(survival)\nlibrary(rms)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Nomogram"
    ]
  },
  {
    "objectID": "Hiplot/131-nomogram.html#数据准备",
    "href": "Hiplot/131-nomogram.html#数据准备",
    "title": "诺莫图",
    "section": "数据准备",
    "text": "数据准备\n随时间变化的生存数据帧，根据实例数据用0,1等数字表示性别和状态。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/nomogram/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndd &lt;- datadist(data)\noptions(datadist = \"dd\")\n## 建立 COX 模型并运行列线图\ncox_res &lt;- psm(\n  data = data,\n  as.formula(paste(\n    sprintf(\"Surv(%s, %s) ~ \", colnames(data)[1], colnames(data)[2]),\n    paste(colnames(data)[3:length(colnames(data))],\n      collapse = \"+\"\n    )\n  )),\n  # Surv(time, status) ~ age + sex + ph.ecog + ph.karno + pat.karno,\n  dist = \"lognormal\"\n)\n## 建立 Survival 概率函数\nsurv &lt;- Survival(cox_res)\n## 构建分位数生存时间函数\nmed &lt;- Quantile(cox_res)\n\ncox_nomo &lt;- nomogram(\n  cox_res,\n  fun = list(function(x) surv(365, x), function(x) surv(1095, x),\n             function(x) surv(1825, x), function(x) med(lp = x)),\n  funlabel = c(\"1-year Survival Probability\",\n               \"3-year Survival Probability\",\n               \"5-year Survival Probability\",\n               \"Median Survival Time\"),\n  maxscale = 100\n)\n\n# 查看数据\nhead(data)\n\n  time status age sex ph.ecog ph.karno pat.karno meal.cal wt.loss\n1  306      2  74   1       1       90       100     1175      NA\n2  455      2  68   1       0       90        90     1225      15\n3 1010      1  56   1       0       90        90       NA      15\n4  210      2  57   1       1       90        60     1150      11\n5  883      2  60   1       0      100        90       NA       0\n6 1022      1  74   1       1       50        80      513       0",
    "crumbs": [
      "HIPLOT",
      "Nomogram"
    ]
  },
  {
    "objectID": "Hiplot/131-nomogram.html#可视化",
    "href": "Hiplot/131-nomogram.html#可视化",
    "title": "诺莫图",
    "section": "可视化",
    "text": "可视化\n\n# 诺莫图\np &lt;- as.ggplot(function() {\n  plot(cox_nomo, scale = 1)\n  title(main = \"Nomogram (COX)\")\n})\n\np\n\n\n\n\n\n\n\n图 1: 诺莫图",
    "crumbs": [
      "HIPLOT",
      "Nomogram"
    ]
  },
  {
    "objectID": "Hiplot/183-volcano.html",
    "href": "Hiplot/183-volcano.html",
    "title": "火山图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Volcano 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/volcano?lang=zh_cn\n火山图是一种直观展示两个样本间基因差异表达的分布图。",
    "crumbs": [
      "HIPLOT",
      "Volcano"
    ]
  },
  {
    "objectID": "Hiplot/183-volcano.html#环境配置",
    "href": "Hiplot/183-volcano.html#环境配置",
    "title": "火山图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Volcano"
    ]
  },
  {
    "objectID": "Hiplot/183-volcano.html#数据准备",
    "href": "Hiplot/183-volcano.html#数据准备",
    "title": "火山图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为基因名称及其对应的 logFC 和 p.value。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/volcano/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\n## 对差异p(adj.P.Val一列)进行log10转换\ndata[, \"logP\"] &lt;- -log10(as.numeric(data[, \"P.Value\"]))\ndata[, \"logFC\"] &lt;- as.numeric(data[, \"logFC\"])\n## 新加一列Group\ndata[, \"Group\"] &lt;- \"not-significant\"\n## Up and down\ndata$Group[which((data[, \"P.Value\"] &lt; 0.05) & (data$logFC &gt;= 2))] &lt;- \"Up-regulated\"\ndata$Group[which((data[, \"P.Value\"] &lt; 0.05) & (data$logFC &lt;= 2 * -1))] &lt;- \"Down-regulated\"\n## 新加一列Label\ndata[[\"Label\"]] &lt;- \"\"\n## 对差异表达基因的p值进行从小到大排序\ndata &lt;- data[order(data[, \"P.Value\"]), ]\n## 高表达的基因中，选择adj.P.Val最小的10个\nup_genes &lt;- head(data[, \"Symbol\"][which(data$Group == \"Up-regulated\")], 10)\ndown_genes &lt;- head(data[, \"Symbol\"][which(data$Group == \"Down-regulated\")], 10)\nnot_sig_genes &lt;- NA\n## 将up_genes和down_genes合并，并加入到Label中\ndeg_top_genes &lt;- c(as.character(up_genes), as.character(not_sig_genes),\nas.character(down_genes))\ndeg_top_genes &lt;- deg_top_genes[!is.na(deg_top_genes)]\ndata$Label[match(deg_top_genes, data[, \"Symbol\"])] &lt;- deg_top_genes\n\n# 查看数据\nhead(data)\n\n    Symbol     logFC  P.Value     logP           Group    Label\n1      LTB  2.580831 1.17e-14 13.93181    Up-regulated      LTB\n2    CDCA5 -2.326302 2.46e-13 12.60906  Down-regulated    CDCA5\n3 C10orf54  3.307901 3.53e-13 12.45223    Up-regulated C10orf54\n4    CAPN7  2.514235 1.04e-12 11.98297    Up-regulated    CAPN7\n5     OIP5 -2.166620 1.43e-12 11.84466  Down-regulated     OIP5\n7     PKIG -1.560504 1.58e-12 11.80134 not-significant",
    "crumbs": [
      "HIPLOT",
      "Volcano"
    ]
  },
  {
    "objectID": "Hiplot/183-volcano.html#可视化",
    "href": "Hiplot/183-volcano.html#可视化",
    "title": "火山图",
    "section": "可视化",
    "text": "可视化\n\n# 火山图\noptions(ggrepel.max.overlaps = 100)\np &lt;- ggscatter(data, x = \"logFC\", y = \"logP\", color = \"Group\", \n               palette = c(\"#2f5688\", \"#BBBBBB\", \"#CC0000\"), size = 1, \n               alpha = 0.5, font.label = 8, repel = TRUE, label=data$Label,\n               xlab = \"log2(Fold Change)\", ylab = \"-log10(P Value)\",\n               show.legend.text = FALSE) +\n  ggtitle(\"Volcano Plot\") +\n  geom_hline(yintercept = -log(0.05, 10), linetype = \"dashed\") +\n  geom_vline(xintercept = c(2, -2), linetype = \"dashed\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 火山图\n\n\n\n\n\n横轴用 log2（fold change）表示，差异越大的基因分布在图片两端。纵坐标用 -log10（p.value）表示，取值为 T 检验显著性 P 值的负对数。蓝色的点代表下调的基因，红色的点代表上调的基因，灰色的点代表差异不显著的基因。",
    "crumbs": [
      "HIPLOT",
      "Volcano"
    ]
  },
  {
    "objectID": "Hiplot/132-parallel-coordinate.html",
    "href": "Hiplot/132-parallel-coordinate.html",
    "title": "平行坐标图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Parallel Coordinate 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/parallel-coordinate?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Parallel Coordinate"
    ]
  },
  {
    "objectID": "Hiplot/132-parallel-coordinate.html#环境配置",
    "href": "Hiplot/132-parallel-coordinate.html#环境配置",
    "title": "平行坐标图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GGally; hrbrthemes; viridis; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GGally\", quietly = TRUE)) {\n  install.packages(\"GGally\")\n}\nif (!requireNamespace(\"hrbrthemes\", quietly = TRUE)) {\n  install.packages(\"hrbrthemes\")\n}\nif (!requireNamespace(\"viridis\", quietly = TRUE)) {\n  install.packages(\"viridis\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GGally)\nlibrary(hrbrthemes)\nlibrary(viridis)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Parallel Coordinate"
    ]
  },
  {
    "objectID": "Hiplot/132-parallel-coordinate.html#数据准备",
    "href": "Hiplot/132-parallel-coordinate.html#数据准备",
    "title": "平行坐标图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/parallel-coordinate/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 6] &lt;- factor(data[, 6], levels = unique(data[, 6]))\n\n# 查看数据\nhead(data)\n\n    Name Value1 Value2 Value3 Value4       Group\n1    ATR    5.1    3.5    1.4    0.2 p53 pathway\n2  CHEK1    4.9    3.0    1.4    0.2 p53 pathway\n3  GORAB    4.7    3.2    1.3    0.2 p53 pathway\n4 CDKN2A    4.6    3.1    1.5    0.2 p53 pathway\n5   MDM2    5.0    3.6    1.4    0.2 p53 pathway\n6   MDM4    5.4    3.9    1.7    0.4 p53 pathway",
    "crumbs": [
      "HIPLOT",
      "Parallel Coordinate"
    ]
  },
  {
    "objectID": "Hiplot/132-parallel-coordinate.html#可视化",
    "href": "Hiplot/132-parallel-coordinate.html#可视化",
    "title": "平行坐标图",
    "section": "可视化",
    "text": "可视化\n\n# 平行坐标图\np &lt;- ggparcoord(data, columns = 2:(ncol(data) - 1), groupColumn = ncol(data),\n                title = \"Parallel Coordinate Plot for cancer Data\",\n                alphaLines = 0.3, scale = \"globalminmax\",\n                showPoints = T, boxplot = F) +\n  theme_base() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        axis.title = element_text(size = 10),\n        axis.text = element_text(size = 12),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10)) +\n  scale_color_viridis(discrete = TRUE) +\n  facet_grid(formula(paste(\"~\", (colnames(data)[ncol(data)]))))\n\np\n\n\n\n\n\n\n\n图 1: 平行坐标图",
    "crumbs": [
      "HIPLOT",
      "Parallel Coordinate"
    ]
  },
  {
    "objectID": "Hiplot/141-pie.html",
    "href": "Hiplot/141-pie.html",
    "title": "饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pie 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pie?lang=zh_cn\n饼图是通过将一个圆形切分成多个切片以显示每一部分所占总体比例的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Pie"
    ]
  },
  {
    "objectID": "Hiplot/141-pie.html#环境配置",
    "href": "Hiplot/141-pie.html#环境配置",
    "title": "饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Pie"
    ]
  },
  {
    "objectID": "Hiplot/141-pie.html#数据准备",
    "href": "Hiplot/141-pie.html#数据准备",
    "title": "饼图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pie/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"Group\", \"Value\")\ndata &lt;- data %&gt;%\n  arrange(desc(Group)) %&gt;%\n  mutate(prop = Value / sum(data$Value) * 100) %&gt;%\n  mutate(ypos = Value / length(unique(Group)) +\n           c(0, cumsum(Value)[-length(Value)]) + 5)\n\n# 查看数据\nhead(data)\n\n   Group Value     prop   ypos\n1 Group4    43 38.73874  15.75\n2 Group3    21 18.91892  53.25\n3 Group2    34 30.63063  77.50\n4 Group1    13 11.71171 106.25",
    "crumbs": [
      "HIPLOT",
      "Pie"
    ]
  },
  {
    "objectID": "Hiplot/141-pie.html#可视化",
    "href": "Hiplot/141-pie.html#可视化",
    "title": "饼图",
    "section": "可视化",
    "text": "可视化\n\n# 饼图\np &lt;- ggplot(data, aes(x = \"\", y = Value, fill = Group)) +\n  geom_col(width = 1) +\n  geom_bar(stat = \"identity\", width = 1, color = \"white\") +\n  geom_text(aes(y = ypos, \n                label = sprintf(\"%s\\n(n=%s, %s%%)\", Group, Value,\n                                round(Value / sum(data$Value) * 100, 2))), \n            color = \"white\", fontface = \"bold\") +\n  coord_polar(theta = \"y\", start = 0, direction = -1) +\n  guides(fill = guide_legend(title = \"Group\")) +\n  scale_fill_discrete(\n    breaks = data$Group,\n    labels = paste(data$Group,\" (\", round(data$Value / sum(data$Value) * 100, 2),\n                   \"%)\", sep = \"\")) +\n  scale_fill_manual(values = c(\"#00468BFF\",\"#ED0000FF\",\"#42B540FF\",\"#0099B4FF\")) +\n  ggtitle(\"Pie Plot\") + \n  theme_minimal() +\n  theme(\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.x = element_blank(),\n    axis.text.y = element_blank(),\n    panel.border = element_blank(),\n    panel.grid = element_blank(),\n    axis.ticks = element_blank(),\n    plot.title = element_text(size = 14, face = \"bold\",\n                              hjust = 0.5, vjust = -1),\n    legend.position = \"none\"\n  )\n    \n  \np\n\n\n\n\n\n\n\n图 1: 饼图\n\n\n\n\n\n在一个圆图中，每个切片的弧长（其中心角和中心角所对应区域的弧长）与所表示的数量成正比。该饼图展示了 1~4 组分别的样本数量及样本数量所对应的占比。一组样本数量 13，占比 11.71%，二组样本数量 34，占比 30.63%，三组样本数量 21，占比 18.92%，四组样本数量 43，占比38.74%。",
    "crumbs": [
      "HIPLOT",
      "Pie"
    ]
  },
  {
    "objectID": "Hiplot/102-map-europe.html",
    "href": "Hiplot/102-map-europe.html",
    "title": "欧洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Europe Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-europe?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Europe Map"
    ]
  },
  {
    "objectID": "Hiplot/102-map-europe.html#环境配置",
    "href": "Hiplot/102-map-europe.html#环境配置",
    "title": "欧洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Europe Map"
    ]
  },
  {
    "objectID": "Hiplot/102-map-europe.html#数据准备",
    "href": "Hiplot/102-map-europe.html#数据准备",
    "title": "欧洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-europe/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-europe/eu.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n              region value\n1            Albania   758\n2            Andorra   139\n3            Austria   256\n4            Belgium   959\n5 Bosnia Herzegovina   422\n6            Croatia   791",
    "crumbs": [
      "HIPLOT",
      "Europe Map"
    ]
  },
  {
    "objectID": "Hiplot/102-map-europe.html#可视化",
    "href": "Hiplot/102-map-europe.html#可视化",
    "title": "欧洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 欧洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Europe Map\")\n\np\n\n\n\n\n\n\n\n图 1: 欧洲地图",
    "crumbs": [
      "HIPLOT",
      "Europe Map"
    ]
  },
  {
    "objectID": "Hiplot/096-map-africa.html",
    "href": "Hiplot/096-map-africa.html",
    "title": "非洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Africa Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-africa?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Africa Map"
    ]
  },
  {
    "objectID": "Hiplot/096-map-africa.html#环境配置",
    "href": "Hiplot/096-map-africa.html#环境配置",
    "title": "非洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Africa Map"
    ]
  },
  {
    "objectID": "Hiplot/096-map-africa.html#数据准备",
    "href": "Hiplot/096-map-africa.html#数据准备",
    "title": "非洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-africa/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-africa/afr.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ADM0_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n        region value\n1        Sudan   258\n2       Angola   911\n3        Benin   318\n4     Botswana   759\n5 Burkina Faso   983\n6     Cameroon   618",
    "crumbs": [
      "HIPLOT",
      "Africa Map"
    ]
  },
  {
    "objectID": "Hiplot/096-map-africa.html#可视化",
    "href": "Hiplot/096-map-africa.html#可视化",
    "title": "非洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 非洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(9, 985, 139),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Africa Map\")\n\np\n\n\n\n\n\n\n\n图 1: 非洲地图",
    "crumbs": [
      "HIPLOT",
      "Africa Map"
    ]
  },
  {
    "objectID": "Hiplot/097-map-americas.html",
    "href": "Hiplot/097-map-americas.html",
    "title": "美洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Americas Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-americas?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Americas Map"
    ]
  },
  {
    "objectID": "Hiplot/097-map-americas.html#环境配置",
    "href": "Hiplot/097-map-americas.html#环境配置",
    "title": "美洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Americas Map"
    ]
  },
  {
    "objectID": "Hiplot/097-map-americas.html#数据准备",
    "href": "Hiplot/097-map-americas.html#数据准备",
    "title": "美洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-americas/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-americas/amr.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n               region value\n1 Aruba (Netherlands)    48\n2 Antigua and Barbuda   749\n3           Argentina   667\n4       Anguilla (UK)    14\n5            Barbados    83\n6        Bermuda (UK)   109",
    "crumbs": [
      "HIPLOT",
      "Americas Map"
    ]
  },
  {
    "objectID": "Hiplot/097-map-americas.html#可视化",
    "href": "Hiplot/097-map-americas.html#可视化",
    "title": "美洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 美洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Americas Map\")\n\np\n\n\n\n\n\n\n\n图 1: 美洲地图",
    "crumbs": [
      "HIPLOT",
      "Americas Map"
    ]
  },
  {
    "objectID": "Hiplot/108-map-north-america.html",
    "href": "Hiplot/108-map-north-america.html",
    "title": "北美洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot North America Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-north-america?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "North America Map"
    ]
  },
  {
    "objectID": "Hiplot/108-map-north-america.html#环境配置",
    "href": "Hiplot/108-map-north-america.html#环境配置",
    "title": "北美洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "North America Map"
    ]
  },
  {
    "objectID": "Hiplot/108-map-north-america.html#数据准备",
    "href": "Hiplot/108-map-north-america.html#数据准备",
    "title": "北美洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-north-america/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-north-america/na.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n             region value\n1 ANTIGUA & BARBUDA   918\n2     Anguilla (UK)    95\n3          BARBADOS   878\n4            BELIZE   874\n5      Bermuda (UK)   159\n6            CANADA   118",
    "crumbs": [
      "HIPLOT",
      "North America Map"
    ]
  },
  {
    "objectID": "Hiplot/108-map-north-america.html#可视化",
    "href": "Hiplot/108-map-north-america.html#可视化",
    "title": "北美洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 北美洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"North America Map\")\n\np\n\n\n\n\n\n\n\n图 1: 北美洲地图",
    "crumbs": [
      "HIPLOT",
      "North America Map"
    ]
  },
  {
    "objectID": "Hiplot/075-ggwithinstats.html",
    "href": "Hiplot/075-ggwithinstats.html",
    "title": "复杂小提琴图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Complex-Violin"
    ]
  },
  {
    "objectID": "Hiplot/075-ggwithinstats.html#环境配置",
    "href": "Hiplot/075-ggwithinstats.html#环境配置",
    "title": "复杂小提琴图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Complex-Violin"
    ]
  },
  {
    "objectID": "Hiplot/075-ggwithinstats.html#数据准备",
    "href": "Hiplot/075-ggwithinstats.html#数据准备",
    "title": "复杂小提琴图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggwithinstats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"condition\", \"desire\", \"region\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = unique(data[, axis[1]]))\ndata[, axis[3]] &lt;- factor(data[, axis[3]], levels = unique(data[, axis[3]]))\n\n# 查看数据\nstr(data)\n\n'data.frame':   172 obs. of  6 variables:\n $ subject  : int  1 2 3 4 5 6 7 8 9 11 ...\n $ gender   : chr  \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ region   : Factor w/ 2 levels \"North America\",..: 1 1 2 1 1 2 1 1 1 1 ...\n $ education: chr  \"some\" \"advance\" \"college\" \"college\" ...\n $ condition: Factor w/ 2 levels \"LDLF\",\"LDHF\": 1 1 1 1 1 1 1 1 1 1 ...\n $ desire   : num  6 10 5 6 3 2 10 10 9.5 0 ...",
    "crumbs": [
      "HIPLOT",
      "Complex-Violin"
    ]
  },
  {
    "objectID": "Hiplot/075-ggwithinstats.html#可视化",
    "href": "Hiplot/075-ggwithinstats.html#可视化",
    "title": "复杂小提琴图",
    "section": "可视化",
    "text": "可视化\n\n# 复杂小提琴图\ng &lt;- unique(data[,axis[3]])\nplist &lt;- list()\nfor (i in 1:length(g)) {\n  fil &lt;- data[,axis[3]] == g[i]\n  plist[[i]] &lt;- ggwithinstats(\n    data = data[fil,], x = condition, y = desire,\n    title= paste('', axis[3], g[i], sep = ':'),\n    p.adjust.method = \"holm\",\n    plot.type = \"boxviolin\",\n    pairwise.comparisons = T,\n    pairwise.display = \"significant\",\n    effsize.type = \"unbiased\",\n    notch = T,\n    type = \"parametric\",\n    k = 2,\n    plotgrid.args = list(ncol = 2)\n  ) +\n    scale_color_manual(values = c(\"#3B4992FF\",\"#EE0000FF\"))\n}\n\nplot_grid(plotlist = plist, ncol = 2)\n\n\n\n\n\n\n\n图 1: 复杂小提琴图",
    "crumbs": [
      "HIPLOT",
      "Complex-Violin"
    ]
  },
  {
    "objectID": "Hiplot/071-ggpiestats.html",
    "href": "Hiplot/071-ggpiestats.html",
    "title": "饼状图（ggpiestats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Piestats"
    ]
  },
  {
    "objectID": "Hiplot/071-ggpiestats.html#环境配置",
    "href": "Hiplot/071-ggpiestats.html#环境配置",
    "title": "饼状图（ggpiestats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Piestats"
    ]
  },
  {
    "objectID": "Hiplot/071-ggpiestats.html#数据准备",
    "href": "Hiplot/071-ggpiestats.html#数据准备",
    "title": "饼状图（ggpiestats）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggpiestats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"am\", \"cyl\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = unique(data[, axis[1]]))\ndata[, axis[2]] &lt;- factor(data[, axis[2]], levels = unique(data[, axis[2]]))\n\n# 查看数据\nhead(data)\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "HIPLOT",
      "Piestats"
    ]
  },
  {
    "objectID": "Hiplot/071-ggpiestats.html#可视化",
    "href": "Hiplot/071-ggpiestats.html#可视化",
    "title": "饼状图（ggpiestats）",
    "section": "可视化",
    "text": "可视化\n\n# 饼状图\np &lt;- ggpiestats(data = data, x = am, y = cyl,\n                paired = F) +\n  scale_fill_manual(values = c(\"#3B4992FF\",\"#EE0000FF\"))\n\np\n\n\n\n\n\n\n\n图 1: 饼状图",
    "crumbs": [
      "HIPLOT",
      "Piestats"
    ]
  },
  {
    "objectID": "Hiplot/083-group-dumbbell.html",
    "href": "Hiplot/083-group-dumbbell.html",
    "title": "分组哑铃图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggalt\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggalt\", quietly = TRUE)) {\n  install.packages(\"ggalt\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggalt)",
    "crumbs": [
      "HIPLOT",
      "Group Dumbbell"
    ]
  },
  {
    "objectID": "Hiplot/083-group-dumbbell.html#环境配置",
    "href": "Hiplot/083-group-dumbbell.html#环境配置",
    "title": "分组哑铃图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggalt\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggalt\", quietly = TRUE)) {\n  install.packages(\"ggalt\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggalt)",
    "crumbs": [
      "HIPLOT",
      "Group Dumbbell"
    ]
  },
  {
    "objectID": "Hiplot/083-group-dumbbell.html#数据准备",
    "href": "Hiplot/083-group-dumbbell.html#数据准备",
    "title": "分组哑铃图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/group-dumbbell/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[order(data[[\"group\"]], data[[\"y1952\"]]),]\ndata[[\"country\"]] &lt;- factor(data[[\"country\"]], levels = data[[\"country\"]])\n\n# 查看数据\nhead(data)\n\n              country  y1952  y2007 group\n13              Haiti 37.579 60.916     A\n2             Bolivia 40.414 65.554     A\n12          Guatemala 42.023 70.259     A\n11        El Salvador 45.262 71.878     A\n9  Dominican Republic 45.928 72.235     A\n10            Ecuador 48.357 74.994     A",
    "crumbs": [
      "HIPLOT",
      "Group Dumbbell"
    ]
  },
  {
    "objectID": "Hiplot/083-group-dumbbell.html#可视化",
    "href": "Hiplot/083-group-dumbbell.html#可视化",
    "title": "分组哑铃图",
    "section": "可视化",
    "text": "可视化\n\n# 分组哑铃图\np &lt;- ggplot(data = data, aes(x = y1952, xend = y2007, y = country, color = group)) +\n  geom_dumbbell(size = 1, size_xend = 2, size_x = 2) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 分组哑铃图",
    "crumbs": [
      "HIPLOT",
      "Group Dumbbell"
    ]
  },
  {
    "objectID": "Hiplot/015-boxplot.html",
    "href": "Hiplot/015-boxplot.html",
    "title": "箱式图",
    "section": "",
    "text": "箱形图是一种通过四分位数图形象化地描述一组数据分布特征的方法。",
    "crumbs": [
      "HIPLOT",
      "Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/015-boxplot.html#环境配置",
    "href": "Hiplot/015-boxplot.html#环境配置",
    "title": "箱式图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/015-boxplot.html#数据准备",
    "href": "Hiplot/015-boxplot.html#数据准备",
    "title": "箱式图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集 (不同治疗方案的治疗效果数据)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/boxplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ngroups &lt;- unique(data[, 2])\nmy_comparisons &lt;- combn(groups, 2, simplify = FALSE)\nmy_comparisons &lt;- lapply(my_comparisons, as.character)\n\n# 查看数据\nhead(data)\n\n  Value Group1 Group2\n1   4.2    low treat1\n2  11.5    low treat1\n3   7.3    low treat1\n4   5.8    low treat1\n5   6.4    low treat1\n6  10.0    low treat1",
    "crumbs": [
      "HIPLOT",
      "Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/015-boxplot.html#可视化",
    "href": "Hiplot/015-boxplot.html#可视化",
    "title": "箱式图",
    "section": "可视化",
    "text": "可视化\n\n# 箱式图\np &lt;- ggboxplot(data, x = \"Group1\", y = \"Value\", notch = F, facet.by = \"Group2\",\n               add = \"point\", color = \"Group1\", xlab = \"Group2\", ylab = \"Value\",\n               palette = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\"),\n               title = \"Box Plot\") +\n  stat_compare_means(comparisons = my_comparisons, label = \"p.format\", \n                     method = \"t.test\") +\n  scale_y_continuous(expand = expansion(mult = c(0.1, 0.1))) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 箱式图\n\n\n\n\n\n横坐标表示几组不同的数据，纵坐标分别表示各组数据的四分位数；即方框上、中、下的横线分别代表上四分位数，中位数，下四分位数；上下方线段代表的数值分别指数据最大值和最小值，方框以外的点代表离群值。图示上方数值表示两两变量间的 P 值，可认为治疗方案 1 中，中剂量组同低剂量组疗效有显著差异，以此类推。",
    "crumbs": [
      "HIPLOT",
      "Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/095-line.html",
    "href": "Hiplot/095-line.html",
    "title": "线图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Line 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/line?lang=zh_cn\n线图是指使用线性刻度或对数刻度在二维或三维视图中绘制数据，从而显示数据集或跟踪数据随时间变化的变化特征的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Line"
    ]
  },
  {
    "objectID": "Hiplot/095-line.html#环境配置",
    "href": "Hiplot/095-line.html#环境配置",
    "title": "线图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Line"
    ]
  },
  {
    "objectID": "Hiplot/095-line.html#数据准备",
    "href": "Hiplot/095-line.html#数据准备",
    "title": "线图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为横轴数值及其对应的纵轴数值和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/line/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[,3] &lt;- factor(data[,3], levels = unique(data[,3]))\n\n# 查看数据\nhead(data)\n\n  Value1 Value2  Group\n1      1      1 treat1\n2      2      4 treat1\n3      3      9 treat1\n4      4     16 treat1\n5      5     25 treat1\n6      6     36 treat1",
    "crumbs": [
      "HIPLOT",
      "Line"
    ]
  },
  {
    "objectID": "Hiplot/095-line.html#可视化",
    "href": "Hiplot/095-line.html#可视化",
    "title": "线图",
    "section": "可视化",
    "text": "可视化\n\n# 线图\np &lt;- ggplot(data, aes(x = Value1, y = Value2)) +\n  geom_line(alpha = 1, aes(color = Group, linetype = Group)) +\n  geom_point(aes(color = Group, shape = Group)) +\n  ggtitle(\"Line Regression Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 线图\n\n\n\n\n\n图示表明治疗方案一中 value1 值与 value2 值呈正相关，而治疗方案二 value1 值与 value2 值呈负相关。",
    "crumbs": [
      "HIPLOT",
      "Line"
    ]
  },
  {
    "objectID": "Hiplot/155-risk-plot.html",
    "href": "Hiplot/155-risk-plot.html",
    "title": "风险因子分析",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Risk Factor Analysis 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/risk-plot?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Risk Factor Analysis"
    ]
  },
  {
    "objectID": "Hiplot/155-risk-plot.html#环境配置",
    "href": "Hiplot/155-risk-plot.html#环境配置",
    "title": "风险因子分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; survminer; fastStat; cutoff; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"survminer\", quietly = TRUE)) {\n  install.packages(\"survminer\")\n}\nif (!requireNamespace(\"fastStat\", quietly = TRUE)) {\n  install_github(\"yikeshu0611/fastStat\")\n}\nif (!requireNamespace(\"cutoff\", quietly = TRUE)) {\n  install.packages(\"cutoff\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(survminer)\nlibrary(fastStat)\nlibrary(cutoff)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Risk Factor Analysis"
    ]
  },
  {
    "objectID": "Hiplot/155-risk-plot.html#数据准备",
    "href": "Hiplot/155-risk-plot.html#数据准备",
    "title": "风险因子分析",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/risk-plot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[order(data[, \"riskscore\"], decreasing = F), ]\ncutoff_point &lt;- median(x = data$riskscore, na.rm = TRUE)\ndata$Group &lt;- ifelse(data$riskscore &gt; cutoff_point, \"High\", \"Low\")\ncut.position &lt;- (1:nrow(data))[data$riskscore == cutoff_point]\nif (length(cut.position) == 0) {\n  cut.position &lt;- which.min(abs(data$riskscore - cutoff_point))\n} else if (length(cut.position) &gt; 1) {\n  cut.position &lt;- cut.position[length(cut.position)]\n}\n## 生成画 A B 图所需data.frame\ndata2 &lt;- data[, c(\"time\", \"event\", \"riskscore\", \"Group\")]\n\n# 查看数据\nhead(data)\n\n  time event riskscore    TAGLN2       PDPN     TIMP1      EMP3 Group\n1 1014     0 0.8206424 1.0612565 0.04879016 0.1484200 0.1906204   Low\n2  246     1 1.0582599 1.2584610 0.20701417 0.3506569 0.2546422   Low\n3 2283     0 1.1693457 1.2697605 0.00000000 0.2231436 0.3364722   Low\n4 1757     0 1.2274565 1.7209793 0.00000000 0.5822156 0.2231436   Low\n5 3107     1 1.2806984 0.5933268 0.37156356 0.1043600 0.5709795   Low\n6  332     1 1.2891095 1.2892326 0.09531018 0.2070142 0.3987761   Low",
    "crumbs": [
      "HIPLOT",
      "Risk Factor Analysis"
    ]
  },
  {
    "objectID": "Hiplot/155-risk-plot.html#可视化",
    "href": "Hiplot/155-risk-plot.html#可视化",
    "title": "风险因子分析",
    "section": "可视化",
    "text": "可视化\n\n# 风险因子分析\n## Figure A\nfA &lt;- ggplot(data = data2, aes(x = 1:nrow(data2), y = data2$riskscore, \n                               color = Group)) +\n  geom_point(size = 2) +\n  scale_color_manual(name = \"Risk Group\", \n                     values = c(\"Low\" = \"#0B45A5\", \"High\" = \"#E20B0B\")) +\n  geom_vline(xintercept = cut.position, linetype = \"dotted\", size = 1) +\n  theme(panel.grid = element_blank(), panel.background = element_blank(),\n        axis.ticks.x = element_blank(), axis.line.x = element_blank(),\n        axis.text.x = element_blank(), axis.title.x = element_blank(),\n        axis.title.y = element_text(size = 14, vjust = 1, angle = 90),\n        axis.text.y = element_text(size = 11),\n        axis.line.y = element_line(size = 0.5, colour = \"black\"),\n        axis.ticks.y = element_line(size = 0.5, colour = \"black\"),\n        legend.title = element_text(size = 13), \n        legend.text = element_text(size = 12)) +\n  coord_trans() +\n  ylab(\"Risk Score\") +\n  scale_x_continuous(expand = c(0, 3))\n## Figure B\nfB &lt;- ggplot(data = data2, aes(x = 1:nrow(data2), y = data2[, \"time\"],\n             color = factor(ifelse(data2[, \"event\"] == 1, \"Dead\", \"Alive\")))) +\n  geom_point(size = 2) +\n  scale_color_manual(name = \"Status\", values = c(\"Alive\" = \"#0B45A5\", \"Dead\" = \"#E20B0B\")) +\n  geom_vline(xintercept = cut.position, linetype = \"dotted\", size = 1) +\n  theme(panel.grid = element_blank(), panel.background = element_blank(),\n        axis.ticks.x = element_blank(), axis.line.x = element_blank(),\n        axis.text.x = element_blank(), axis.title.x = element_blank(),\n        axis.title.y = element_text(size = 14, vjust = 2, angle = 90),\n        axis.text.y = element_text(size = 11),\n        axis.ticks.y = element_line(size = 0.5),\n        axis.line.y = element_line(size = 0.5, colour = \"black\"),\n        legend.title = element_text(size = 13),\n        legend.text = element_text(size = 12)) +\n  ylab(\"Survival Time\") +\n  coord_trans() +\n  scale_x_continuous(expand = c(0, 3))\n## middle\nmiddle &lt;- ggplot(data2, aes(x = 1:nrow(data2), y = 1)) +\n  geom_tile(aes(fill = data2$Group)) +\n  scale_fill_manual(name = \"Risk Group\", values = c(\"Low\" = \"#0B45A5\", \"High\" = \"#E20B0B\")) +\n  theme(panel.grid = element_blank(), panel.background = element_blank(),\n        axis.line = element_blank(), axis.ticks = element_blank(),\n        axis.text = element_blank(), axis.title = element_blank(),\n        plot.margin = unit(c(0.15, 0, -0.3, 0), \"cm\"),\n        legend.title = element_text(size = 13),\n        legend.text = element_text(size = 12)) +\n  scale_x_continuous(expand = c(0, 3)) +\n  xlab(\"\")\n## Figure C\nheatmap_genes &lt;- c(\"TAGLN2\", \"PDPN\", \"TIMP1\", \"EMP3\")\ndata3 &lt;- data[, heatmap_genes]\nif (length(heatmap_genes) == 1) {\n  data3 &lt;- data.frame(data3)\n  colnames(data3) &lt;- heatmap_genes\n}\n# 归一化\nfor (i in 1:ncol(data3)) {\n  data3[, i] &lt;- (data3[, i] - mean(data3[, i], na.rm = TRUE)) /\n  sd(data3[, i], na.rm = TRUE)\n}\ndata4 &lt;- cbind(id = 1:nrow(data3), data3)\ndata5 &lt;- reshape2::melt(data4, id.vars = \"id\")\nfC &lt;- ggplot(data5, aes(x = id, y = variable, fill = value)) +\n  geom_raster() +\n  theme(panel.grid = element_blank(), panel.background = element_blank(),\n        axis.line = element_blank(), axis.ticks = element_blank(),\n        axis.text.x = element_blank(), axis.title = element_blank(),\n        plot.background = element_blank()) +\n  scale_fill_gradient2(name = \"Expression\", low = \"#0B45A5\", mid = \"#FFFFFF\",\n                       high = \"#E20B0B\") +\n  theme(axis.text = element_text(size = 11)) +\n  theme(legend.title = element_text(size = 13), \n        legend.text = element_text(size = 12)) +\n  scale_x_continuous(expand = c(0, 3))\n\np &lt;- plot_grid(fA, fB, middle, fC, ncol = 1, rel_heights = c(0.1, 0.1, 0.01, 0.15))\n\np\n\n\n\n\n\n\n\n图 1: 风险因子分析",
    "crumbs": [
      "HIPLOT",
      "Risk Factor Analysis"
    ]
  },
  {
    "objectID": "Hiplot/024-circular-pie-chart.html",
    "href": "Hiplot/024-circular-pie-chart.html",
    "title": "环形饼图",
    "section": "",
    "text": "饼图的另一种形式",
    "crumbs": [
      "HIPLOT",
      "Circular Pie Chart"
    ]
  },
  {
    "objectID": "Hiplot/024-circular-pie-chart.html#环境配置",
    "href": "Hiplot/024-circular-pie-chart.html#环境配置",
    "title": "环形饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Circular Pie Chart"
    ]
  },
  {
    "objectID": "Hiplot/024-circular-pie-chart.html#数据准备",
    "href": "Hiplot/024-circular-pie-chart.html#数据准备",
    "title": "环形饼图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/circular-pie-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$draw_percent &lt;- data[[\"values\"]] / sum(data[[\"values\"]]) * 100\ndata$draw_class &lt;- 1\ndata2 &lt;- data\ndata2[[\"values\"]] &lt;- 0\ndata2$draw_class &lt;- 0\ndata &lt;- rbind(data, data2)\nfiltered_data &lt;- data[data[[\"values\"]] &gt; 0,]\n\n# 查看数据\nhead(data)\n\n  labels values draw_percent draw_class\n1      A     20    16.666667          1\n2      B     30    25.000000          1\n3      C     15    12.500000          1\n4      D     10     8.333333          1\n5      E     45    37.500000          1\n6      A      0    16.666667          0",
    "crumbs": [
      "HIPLOT",
      "Circular Pie Chart"
    ]
  },
  {
    "objectID": "Hiplot/024-circular-pie-chart.html#可视化",
    "href": "Hiplot/024-circular-pie-chart.html#可视化",
    "title": "环形饼图",
    "section": "可视化",
    "text": "可视化\n\n# 环形饼图\np &lt;- ggplot(data, aes(x = draw_class, y = values, fill = labels)) +\n  geom_bar(position = \"stack\", stat = \"identity\", width = 0.7) +\n  geom_text(data = filtered_data, aes(label = sprintf(\"%.2f%%\", draw_percent)),\n            position = position_stack(vjust = 0.5), size = 3) +\n  coord_polar(theta = \"y\") +\n  xlab(\"\") +\n  ylab(\"Pie Chart\") +\n  scale_fill_manual(values = c(\"#e64b35ff\",\"#4dbbd5ff\",\"#00a087ff\",\"#3c5488ff\",\"#f39b7fff\")) +\n  theme_minimal() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(color = \"black\"),\n        axis.text.y = element_blank(),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank())\n\np\n\n\n\n\n\n\n\n图 1: 环形饼图",
    "crumbs": [
      "HIPLOT",
      "Circular Pie Chart"
    ]
  },
  {
    "objectID": "Hiplot/177-upset-plot.html",
    "href": "Hiplot/177-upset-plot.html",
    "title": "Upset 图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Upset Plot 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/upset-plot?lang=zh_cn\nUpset 可用于展示集合之间的交互关系。",
    "crumbs": [
      "HIPLOT",
      "Upset Plot"
    ]
  },
  {
    "objectID": "Hiplot/177-upset-plot.html#环境配置",
    "href": "Hiplot/177-upset-plot.html#环境配置",
    "title": "Upset 图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; VennDiagram; ComplexHeatmap; ggplotify; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"VennDiagram\", quietly = TRUE)) {\n  install.packages(\"VennDiagram\")\n}\nif (!requireNamespace(\"ComplexHeatmap\", quietly = TRUE)) {\n  install_github(\"jokergoo/ComplexHeatmap\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(VennDiagram)\nlibrary(ComplexHeatmap)\nlibrary(ggplotify)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Upset Plot"
    ]
  },
  {
    "objectID": "Hiplot/177-upset-plot.html#数据准备",
    "href": "Hiplot/177-upset-plot.html#数据准备",
    "title": "Upset 图",
    "section": "数据准备",
    "text": "数据准备\n数据表可输入两种类型：list 和 binary。其中 list 格式为每列为一个集合，并包含所有集合对应的元素。binary 格式第一列为全部集合的全部元素，后续列为 0 和 1 组成的数值矩阵，1 则表明对应行元素存在于某个集合，0 则表示不存在。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/upset-plot/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nfor (i in seq_len(ncol(data))) {\n  data[is.na(data[, i]), i] &lt;- \"\"\n}\ndata2 &lt;- as.list(data)\ndata2 &lt;- lapply(data2, function(x) {x[x != \"\"]})\ndata2 &lt;- list_to_matrix(data2)\nm = make_comb_mat(data2, mode = \"distinct\")\nss = set_size(m)\ncs = comb_size(m)\nset_order &lt;- order(ss)\ncomb_order &lt;- order(comb_degree(m), -cs)\n\n# 查看数据\nhead(data)\n\n     Set1      Set2     Set3      Set4    Set5      Set6    Set7     Set8\n1   ISG15      HES5     DVL1   MATP6P1 FAM132A   FAM132A FAM132A  TNFRSF4\n2  TTLL10  AURKAIP1 ARHGEF16   MIR551A    AGRN   MIR551A WBP1LP6   WASH7P\n3    HES4 LINC00982   OR4F16  C1orf222 WBP1LP6   MIR200B   PANK4   TMEM52\n4  OR4G4P    FAM87B      SKI   MIR200B  KLHL17    ATAD3C  OR4G4P   MMP23B\n5 MND2P28       SKI   WASH7P LINC00115  FAM41C   ANKRD65   SSU72   CDK11B\n6  FAM87B     GABRD    MEGF6    ATAD3B   PANK4 LINC01128 MND2P28 C1orf170",
    "crumbs": [
      "HIPLOT",
      "Upset Plot"
    ]
  },
  {
    "objectID": "Hiplot/177-upset-plot.html#可视化",
    "href": "Hiplot/177-upset-plot.html#可视化",
    "title": "Upset 图",
    "section": "可视化",
    "text": "可视化\n\n# Upset 图\np &lt;- as.ggplot(function(){\n  top_annotation &lt;- HeatmapAnnotation(\n    Intersections = anno_barplot(\n      cs, ylim = c(0, max(cs)*1.1), \n      border = FALSE, \n      gp = gpar(fill = \"#000000\", fontsize = 10), \n      height = unit(5, \"cm\")\n    ), \n    annotation_name_side = \"left\", \n    annotation_name_rot = 90\n  )\n  \n  left_annotation &lt;- rowAnnotation(\n    Numbers = anno_barplot(-ss, axis_param = list(\n      at = seq(-max(ss), 0, round(max(ss)/5)),\n      labels = rev(seq(0, max(ss), round(max(ss)/5))),\n      labels_rot = 0),\n      baseline = 0,\n      border = FALSE, \n      gp = gpar(fill = \"#000000\", fontsize = 10), \n      width = unit(4, \"cm\")\n    ),\n    set_name = anno_text(set_name(m), location = 0.5,  just = \"center\",\n                         width = max_text_width(set_name(m)) + unit(5, \"mm\"))\n  )\n  \n  ht = UpSet(m, comb_col = \"#000000\", bg_col = \"#F0F0F0\", bg_pt_col = \"#CCCCCC\",\n             pt_size = unit(3, \"mm\"), lwd = 2, set_order = set_order,\n             comb_order = comb_order, top_annotation = top_annotation,\n             left_annotation = left_annotation,  right_annotation = NULL,\n             show_row_names = FALSE)\n  ht = draw(ht)\n  od = column_order(ht)\n  decorate_annotation(\"Intersections\", {\n    grid.text(cs[od], x = seq_along(cs), y = unit(cs[od], \"native\") + unit(2, \"pt\"),\n              default.units = \"native\", just = c(\"left\", \"bottom\"), \n              gp = gpar(fontsize = 10, col = \"#000000\",\n              fontfamily = \"Arial\"), hjust = 0.5)\n  })\n})\np &lt;- p + ggtitle(\"Upset Plot\") + \n  theme(plot.title = element_text(hjust = 0.6))\n\np\n\n\n\n\n\n\n\n图 1: Upset 图",
    "crumbs": [
      "HIPLOT",
      "Upset Plot"
    ]
  },
  {
    "objectID": "Hiplot/056-flowerplot.html",
    "href": "Hiplot/056-flowerplot.html",
    "title": "花瓣图",
    "section": "",
    "text": "绘制多集合花瓣图。",
    "crumbs": [
      "HIPLOT",
      "Flower plot"
    ]
  },
  {
    "objectID": "Hiplot/056-flowerplot.html#环境配置",
    "href": "Hiplot/056-flowerplot.html#环境配置",
    "title": "花瓣图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; flowerplot; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"flowerplot\", quietly = TRUE)) {\n  install_github(\"dongwei1220/flowerplot\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(flowerplot)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Flower plot"
    ]
  },
  {
    "objectID": "Hiplot/056-flowerplot.html#数据准备",
    "href": "Hiplot/056-flowerplot.html#数据准备",
    "title": "花瓣图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/flowerplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n     Set1   Set2  Set3  Set4   Set5    Set6   Set7     Set8\n1   ZMIZ1  ADCY5  TNS1  TNS1   TNS1   ZMIZ1 SORBS1     RGS3\n2    TNS1  ACTN4 ZMIZ1 ZMIZ1  ZMIZ1    TNS1   TNS1    FHOD3\n3   CASZ1 SORBS1  RXRA  RXRA TSPAN9   CASZ1  ZMIZ1 PPARGC1B\n4    NFIC   TNS1 AHDC1 NCOR2   MIDN    NFIC  RBM20     NNMT\n5 CACNA1C  ZMIZ1 ACTN4  MIDN  NCOR2 CACNA1C TSPAN9   SORBS2\n6   AHDC1  RBM20  MIDN AHDC1  AHDC1   AHDC1  SYNPO   FAM53B",
    "crumbs": [
      "HIPLOT",
      "Flower plot"
    ]
  },
  {
    "objectID": "Hiplot/056-flowerplot.html#可视化",
    "href": "Hiplot/056-flowerplot.html#可视化",
    "title": "花瓣图",
    "section": "可视化",
    "text": "可视化\n\n# 花瓣图\np &lt;- as.ggplot(function(){\n  flowerplot(\n    flower_dat = data,\n    angle = 90,\n    a = 0.5,\n    b = 2,\n    r = 1,\n    ellipse_col = \"RdBu\",\n    circle_col = \"#FFFFFF\",\n    label_text_cex = 1\n  )})\n\np\n\n\n\n\n\n\n\n图 1: 花瓣图",
    "crumbs": [
      "HIPLOT",
      "Flower plot"
    ]
  },
  {
    "objectID": "Hiplot/025.complex-heatmap.html",
    "href": "Hiplot/025.complex-heatmap.html",
    "title": "复合热图",
    "section": "",
    "text": "一个多组学插件同时绘制热图、注释和突变信息。"
  },
  {
    "objectID": "Hiplot/025.complex-heatmap.html#环境配置",
    "href": "Hiplot/025.complex-heatmap.html#环境配置",
    "title": "复合热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ComplexHeatmap; circlize; randomcoloR; ggplotify; stringr; cowplot; hiplotlib\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ComplexHeatmap\", quietly = TRUE)) {\n  install.packages(\"ComplexHeatmap\")\n}\nif (!requireNamespace(\"circlize\", quietly = TRUE)) {\n  install.packages(\"circlize\")\n}\nif (!requireNamespace(\"randomcoloR\", quietly = TRUE)) {\n  install.packages(\"randomcoloR\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\nif (!requireNamespace(\"hiplotlib\", quietly = TRUE)) {\n  remotes::install_github(\"hiplot/hiplotlib\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ComplexHeatmap)\nlibrary(circlize)\nlibrary(randomcoloR)\nlibrary(ggplotify)\nlibrary(stringr)\nlibrary(cowplot)\nlibrary(hiplotlib)"
  },
  {
    "objectID": "Hiplot/025.complex-heatmap.html#数据准备",
    "href": "Hiplot/025.complex-heatmap.html#数据准备",
    "title": "复合热图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/complex-heatmap/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/complex-heatmap/data.json\")$exampleData[[1]]$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\nkeep_vars_ref &lt;- ls() \nrow.names(data) &lt;- data[, 1]\ndata &lt;- data[, -1]\naxis_raw &lt;- c(\"KRAS\",\"GBP4\")\nexp_start_col &lt;- which(colnames(data) == axis_raw[2])\nmut_start_col &lt;- which(colnames(data) == axis_raw[1])\nheat_mat &lt;- as.matrix(t(data[, exp_start_col:ncol(data)]))\nmut_mat &lt;- as.matrix(t(data[, mut_start_col:(exp_start_col - 1)]))\nmut_mat[is.na(mut_mat)] &lt;- \"\"\n\ncolor_key &lt;- c(\"#196ABD\", \"#3399FF\", \"#3399FF\", \"#f4f4f4\", \"#f4f4f4\", \"#f4f4f4\", \"#FF3333\", \"#FF3333\", \"#C20B01\")\n\ncols &lt;- c()\nfor (i in 1:nrow(data2)) {\n  cols[data2[i,1]] &lt;- data2[i,2]\n}\ncol_meta &lt;- list()\ncol_meta_pre &lt;- list()\nitems &lt;- c()\nfor (i in 1:(mut_start_col - 1)) {\n  ref &lt;- unique(data[, i])\n  ref &lt;- ref[!is.na(ref) & ref != \"\"]\n  if (any(is.numeric(ref)) & length(ref) &gt; 2) {\n    col_meta_pre[[colnames(data)[i]]] &lt;- hiplotlib::col_fun_cont(data[,i])\n  } else if (length(ref) == 2 & any(is.numeric(ref))) {\n    col_meta_pre[[colnames(data)[i]]] &lt;- c(\"#f4f4f4\", \"#5a5a5a\")\n    items &lt;- c(items, ref)\n  } else if (length(ref) == 2 & any(is.character(ref))) {\n    col_meta_pre[[colnames(data)[i]]] &lt;- c(\"#196ABD\", \"#C20B01\")\n    items &lt;- c(items, unique(data[, i]))\n  } else if (length(unique(data[, i])) &gt; 2) {\n    col_meta_pre[[colnames(data)[i]]] &lt;- distinctColorPalette(\n      length(unique(data[, i]))\n    )\n    items &lt;- c(items, unique(data[, i]))\n  }\n}\nmeta_mat2 &lt;- NULL\nmeta_mat2_unique_names &lt;- c()\nmeta_mat2_unique_cols &lt;- c()\nfor (i in names(col_meta_pre)) {\n  if (!is.function(col_meta_pre[[i]])) {\n    meta_mat2_unique_names &lt;- c(meta_mat2_unique_names, i)\n    meta_mat2_unique_cols &lt;- c(meta_mat2_unique_cols, col_meta_pre[[i]])\n    meta_mat2 &lt;- cbind(meta_mat2, data[, i])\n    colnames(meta_mat2)[ncol(meta_mat2)] &lt;- i\n  } else {\n    col_meta[[i]] &lt;- col_meta_pre[[i]]\n  }\n}\nmeta_mat2 &lt;- as.matrix(meta_mat2)\ncol_meta[[\"Meta2\"]] &lt;- structure(\n  names = items[!duplicated(items)],\n  meta_mat2_unique_cols[!duplicated(items)]\n)\n\n# 查看数据\nhead(data)\n\n   Age Gender      Fusion Death Relapse     KRAS       TP53                NRAS\nM1  12 Female   ETV6-PMEL     0       0 missense       &lt;NA&gt; missense/frameshift\nM2   5   Male ETV6-BORCS5     0       1 missense       &lt;NA&gt;                &lt;NA&gt;\nM3  16 Female   ETV6-NID1     0       0 missense       &lt;NA&gt;                &lt;NA&gt;\nM4  26 Female     ERG-FUS     0       0     &lt;NA&gt;       &lt;NA&gt;                &lt;NA&gt;\nM5  32 Female RUNX1-UGGT2     1       0     &lt;NA&gt; frameshift                &lt;NA&gt;\nM6   1 Female  ETV6-RUNX1     1       1 missense       &lt;NA&gt;                &lt;NA&gt;\n         JAK1       JAK3       PTEN   NOTCH1      KMT2A               SETD2\nM1       &lt;NA&gt; frameshift       &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt; missense/frameshift\nM2       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;                &lt;NA&gt;\nM3       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt; missense   nonsense            nonsense\nM4       &lt;NA&gt;       &lt;NA&gt; proteinIns     &lt;NA&gt;       &lt;NA&gt;                &lt;NA&gt;\nM5       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt; missense frameshift                &lt;NA&gt;\nM6 frameshift       &lt;NA&gt; proteinIns     &lt;NA&gt;       &lt;NA&gt;                &lt;NA&gt;\n        KDM6A     DNMT3A                        DDX3X     GBP4    BCAT1\nM1                  &lt;NA&gt;                         &lt;NA&gt; 6.599344 5.760380\nM2   nonsense       &lt;NA&gt;                         &lt;NA&gt; 5.226266 4.892783\nM3       &lt;NA&gt;       &lt;NA&gt;                         &lt;NA&gt; 3.693288 5.448924\nM4       &lt;NA&gt;       &lt;NA&gt;                         &lt;NA&gt; 3.938501 3.485413\nM5       &lt;NA&gt;       &lt;NA&gt;                         &lt;NA&gt; 4.527193 3.855669\nM6 proteinDel frameshift missense/frameshift/missense 9.308119 8.662081\n      CMPK2    STOX2    PADI2   SCARNA5 ALOX12P2  SNORA74B HIST1H2BL     MNDA\nM1 9.561905 8.396409 8.419766  7.653074 9.001421  5.538709  6.181270 8.702635\nM2 4.549168 8.717055 8.268430  5.780393 7.753542  7.169053  4.448419 7.322352\nM3 3.998655 8.039064 8.451181 10.633550 4.920960 11.441646  5.604961 9.271821\nM4 5.614384 7.643060 9.200732  5.913684 7.636354  5.982566  6.485168 9.134515\nM5 3.904793 9.274649 8.598207  8.805605 9.888625  8.394403  2.599574 8.339114\nM6 9.790770 4.417013 4.590033  5.890120 6.211944  4.751559  7.630177 4.571902\n      OLFM4     FLT3     CHD7    NFIL3   HSPA1B    AP5B1   IPCEF1     LRG1\nM1 9.345308 5.164306 8.373475 8.055416 5.008199 8.236820 8.263067 8.553083\nM2 6.438607 4.419355 8.728032 8.365100 9.194650 8.972639 9.287856 9.053322\nM3 8.716761 5.063551 8.408818 9.239194 6.598850 8.204217 8.602233 9.074509\nM4 9.685545 5.412784 8.716476 8.536825 7.129509 8.432428 8.491156 8.736700\nM5 7.688262 3.337863 8.373771 8.452351 3.885270 9.224007 8.447699 7.656333\nM6 5.969804 8.585164 4.613199 4.478527 5.712179 4.424204 4.483936 4.529944\n      THBS4     RGL4     MPP7     UGCG   CYSTM1    ANXA2   ENDOD1 ARHGAP24\nM1 8.881039 8.454808 8.690520 8.648366 8.628884 4.983769 5.551640 6.890079\nM2 8.896205 8.019389 8.630346 8.600555 9.238677 6.748022 5.406465 8.883941\nM3 7.844801 8.990836 7.080873 9.431046 8.487243 6.220791 4.663785 9.560651\nM4 8.739369 9.718631 9.838476 7.923021 8.958537 4.719403 3.550765 8.285674\nM5 8.627063 7.908075 8.271824 8.309214 7.357109 3.284346 4.103507 9.043752\nM6 4.699310 4.147051 5.179200 4.902510 4.541605 8.089850 8.393991 3.544010\n       CST7 HIST1H2BM     EREG     EMP1    NFAM1  SLC40A1     CD52 HIST1H2BH\nM1 7.883061  6.186908 8.598145 4.837475 8.656290 9.520822 4.230927  5.805177\nM2 8.546585  4.448803 4.920184 5.999576 9.957289 4.630086 5.932496  4.343197\nM3 8.364553  5.428771 9.227645 6.115168 7.319900 5.116486 5.011898  6.139380\nM4 9.540110  6.747681 5.222157 5.056323 8.073514 9.346003 5.101308  5.817530\nM5 8.697473  2.577579 4.689850 4.808930 9.016658 9.813192 4.398327  2.513284\nM6 3.557674  7.828233 8.703617 6.713164 4.517623 6.101416 6.380094  8.188458\n     PFKFB3 SNORD116-20    STX11    SYNE2     TCN1  SNORA74A     CD74   EIF4E3\nM1 7.424257    8.377058 8.338488 9.110726 8.193179  5.498904 5.017443 9.366888\nM2 9.676785    5.359553 8.565954 9.678361 8.907285  5.062103 5.383978 8.360189\nM3 8.935156    8.694841 8.767868 8.405612 8.713848 12.561499 3.405651 5.655052\nM4 8.045833    8.044567 9.403257 6.946242 8.980928  5.839202 3.264327 4.287721\nM5 8.890690    2.953568 7.892702 8.156073 7.627558  7.581051 5.602966 8.713765\nM6 4.273864    7.268419 4.205835 5.791007 4.626609  5.498296 8.550157 8.880801\n      MYO7B       MX1      LDLR    S100P  PTPRCAP      KIT     OLR1      NKG7\nM1 8.796115 10.739903  3.302395 8.356363 5.028667 5.888212 9.018682  7.312523\nM2 9.265837  4.504043 10.582430 7.915491 4.724011 2.533194 7.936957 10.372964\nM3 7.865640  4.714303  6.209913 9.481770 4.122229 5.077111 9.390897  7.937744\nM4 8.785320  6.244798  3.804214 9.642993 4.188948 4.744693 8.897994  8.161249\nM5 9.209703  4.891501  4.631391 8.363519 3.803051 4.839051 8.668925  9.671051\nM6 4.272202 10.727879  5.534046 3.699451 8.525159 9.085158 5.261595  4.164076"
  },
  {
    "objectID": "Hiplot/025.complex-heatmap.html#可视化",
    "href": "Hiplot/025.complex-heatmap.html#可视化",
    "title": "复合热图",
    "section": "可视化",
    "text": "可视化\n\n# 复合热图\nparams &lt;- list()\nfor (i in names(col_meta)) {\n  if (i != \"Meta2\") {\n    params[[i]] &lt;- data[, i]\n  }\n}\nparams2 &lt;- list(\n  Meta2 = meta_mat2,\n  gap = 0,\n  border = TRUE,\n  show_annotation_name = TRUE,\n  col = col_meta,\n  na_col = \"#FFFFFF\",\n  show_legend = FALSE,\n  annotation_legend_param = list(direction = \"horizontal\")\n)\nfor (i in names(params2)) {\n  params[[i]] &lt;- params2[[i]]\n}\nha &lt;- do.call(HeatmapAnnotation, params)\nhlist &lt;- Heatmap(heat_mat,\n      col = hiplotlib::col_fun_cont(heat_mat, cols = color_key),\n      name = \"Expression\",\n      gap = 0,\n      clustering_distance_columns = \"euclidean\",\n      clustering_distance_rows = \"euclidean\",\n      clustering_method_columns = \"ward.D2\",\n      show_row_dend = TRUE, show_column_dend = TRUE,\n      show_row_names = FALSE,\n      row_title_gp = gpar(col = \"#FFFFFF00\"),\n      cluster_rows = TRUE,\n      cluster_columns = TRUE,\n      bottom_annotation = ha,\n      show_heatmap_legend = TRUE,\n      heatmap_legend_param = list(direction = \"horizontal\")\n    )\np1 &lt;- as.ggplot(\n  function() {\n    draw(hlist, annotation_legend_side = \"right\", heatmap_legend_side = \"top\")\n  }\n)\nidx &lt;- sort(rowSums(!is.na(mut_mat) & mut_mat != \"0\" & mut_mat != \"\"), decreasing = TRUE)\nmut_mat &lt;- mut_mat[names(idx),]\n\np2 &lt;- as.ggplot(\n  function() {\n    params &lt;- list(\n      mut_mat,\n      get_type = function(x) strsplit(x, \"/\")[[1]],\n      alter_fun = hiplotlib::alter_fun, col = cols, row_order = 1:nrow(mut_mat),\n      show_column_names = TRUE,\n      show_pct = TRUE,\n      right_annotation = NULL,\n      top_annotation = NULL,\n      border = TRUE,\n      heatmap_legend_param = list(direction = \"horizontal\"),\n      show_heatmap_legend = FALSE)\n      params$column_order &lt;- unlist(column_order(hlist))\n      draw(do.call(oncoPrint, params), annotation_legend_side = \"bottom\", heatmap_legend_side = \"bottom\")\n    }\n  )\n\np3 &lt;- as.ggplot(function() {\n    legend_tmp &lt;- list()\n    for (i in names(col_meta_pre)) {\n      if (is.function(col_meta_pre[[i]])) {\n        legend_tmp[[i]] &lt;- Legend(\n          col_fun = col_meta_pre[[i]],\n          title = i, direction = \"horizontal\"\n        )\n      } else if (identical(col_meta_pre[[i]], c(\"#f4f4f4\", \"#5a5a5a\"))) {\n        legend_tmp[[i]] &lt;- Legend(\n          at = unique(data[, i]), title = i,\n          direction = \"horizontal\",\n          labels = c(\"No\", \"Yes\"),\n          legend_gp = gpar(fill = col_meta_pre[[i]])\n        )\n      } else {\n         legend_tmp[[i]] &lt;- Legend(\n          at = unique(data[, i]), title = i,\n          direction = \"horizontal\",\n          legend_gp = gpar(fill = col_meta_pre[[i]])\n        )\n      }\n    }\n    ref_mut &lt;- unique(unlist(str_split(mut_mat, \"/\")))\n    ref_mut &lt;- ref_mut[ref_mut != \"\" & ref_mut != \"NANA\"]\n    ref_mut &lt;- ref_mut[!is.na(ref_mut)]\n    lgd_mut &lt;- Legend(\n      at = ref_mut, title = \"Mutations\",\n      direction = \"horizontal\",\n      legend_gp = gpar(fill = cols[ref_mut])\n    )\n    legend_tmp[[length(legend_tmp) + 1]] &lt;- lgd_mut\n    legend_tmp$direction &lt;- \"horizontal\"\n    legend_tmp$max_width &lt;- unit(14, \"cm\")\n    legend_tmp$column_gap &lt;- unit(5, \"mm\")\n    legend_tmp$row_gap &lt;- unit(0.5, \"cm\")\n    draw(do.call(packLegend, legend_tmp))\n  })\nrel_height &lt;- as.numeric(str_split(\"4, 2, 2\", \", |,| |;\")[[1]])\np &lt;- plot_grid(p1, p2, p3, ncol = 1, rel_heights = rel_height)\np\n\n\n\n\n\n\n\n图 1: 复合热图"
  },
  {
    "objectID": "Hiplot/171-time-roc.html",
    "href": "Hiplot/171-time-roc.html",
    "title": "时间依赖 ROC",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Time ROC 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/time-roc?lang=zh_cn\n生存分析中受试者操作特征（ROC）与时间记录分析。",
    "crumbs": [
      "HIPLOT",
      "Time ROC"
    ]
  },
  {
    "objectID": "Hiplot/171-time-roc.html#环境配置",
    "href": "Hiplot/171-time-roc.html#环境配置",
    "title": "时间依赖 ROC",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plotROC; survivalROC; ggplot2; grid\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plotROC\", quietly = TRUE)) {\n  install.packages(\"plotROC\")\n}\nif (!requireNamespace(\"survivalROC\", quietly = TRUE)) {\n  install.packages(\"survivalROC\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"grid\", quietly = TRUE)) {\n  install.packages(\"grid\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plotROC)\nlibrary(survivalROC)\nlibrary(ggplot2)\nlibrary(grid)",
    "crumbs": [
      "HIPLOT",
      "Time ROC"
    ]
  },
  {
    "objectID": "Hiplot/171-time-roc.html#数据准备",
    "href": "Hiplot/171-time-roc.html#数据准备",
    "title": "时间依赖 ROC",
    "section": "数据准备",
    "text": "数据准备\n\n&lt;表1&gt;：（数字）生存数据（即生存，风险）。\n&lt;表2&gt;：（数字）时间数据。\n\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/time-roc/data.json\")$exampleData$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/time-roc/data.json\")$exampleData$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\nsurv_table &lt;- data1\ncolnames(surv_table) &lt;- c(\"surv\", \"cens\", \"risk\")\nmtime &lt;- as.data.frame(data2)[, 1]\nsroc &lt;- lapply(mtime, function(t) {\n  stroc &lt;- survivalROC(\n    Stime = surv_table$surv,\n    status = surv_table$cens,\n    marker = surv_table$risk,\n    predict.time = t,\n    method = \"KM\"\n  )\n  data.frame(\n    TPF = stroc[[\"TP\"]],\n    FPF = stroc[[\"FP\"]],\n    cut = stroc[[\"cut.values\"]],\n    time = rep(\n      stroc[[\"predict.time\"]],\n      length(stroc[[\"TP\"]])\n    ),\n    AUC = rep(\n      stroc$AUC,\n      length(stroc$FP)\n    )\n  )\n})\nmroc &lt;- do.call(rbind, sroc)\nmroc$time &lt;- factor(mroc$time)\n\n# 查看数据\nhead(data1)\n\n       surv cens       risk\n1 11.126027    0 0.19205450\n2  9.794521    0 0.47734974\n3 13.690411    0 0.04605343\n4 10.068493    0 0.29717146\n5  3.317808    0 0.18144610\n6 12.312329    0 0.62681895\n\nhead(data2)\n\n  times\n1     2\n2     4\n3     6\n4     8\n5    10",
    "crumbs": [
      "HIPLOT",
      "Time ROC"
    ]
  },
  {
    "objectID": "Hiplot/171-time-roc.html#可视化",
    "href": "Hiplot/171-time-roc.html#可视化",
    "title": "时间依赖 ROC",
    "section": "可视化",
    "text": "可视化\n\n# 时间依赖 ROC\ncol &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\")\np &lt;- ggplot(mroc, aes(x = FPF, y = TPF, label = cut, color = time)) +\n  plotROC::geom_roc(labels = FALSE, stat = \"identity\", n.cuts = 0) +\n  geom_abline(slope = 1, intercept = 0, color = \"red\", linetype = 2) +\n  labs(title = \"ROC Dependence Time\", x = \"False positive rate\",\n       y = \"True positive rate\", \n       color = paste(\"Time\", \"(\", \"Year\", \")\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        axis.title = element_text(size = 10),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10)) +\n  scale_color_manual(values = col)\n\nauc &lt;- levels(factor(mroc$AUC))\nfor (i in 1:length(auc)) {\n  p &lt;- p + annotate(\"text\",\n    x = 0.75,\n    y = 0.05 + 0.05 * i, ## 注释text的位置\n    col = col[i],\n    label = paste(\n      paste(paste(mtime[i], \"Year\", sep = \" \"), \" = \"),\n      round(as.numeric(auc[i]), 2)\n    )\n  )\n}\n\np\n\n\n\n\n\n\n\n图 1: 时间依赖 ROC",
    "crumbs": [
      "HIPLOT",
      "Time ROC"
    ]
  },
  {
    "objectID": "Hiplot/175-tsne.html",
    "href": "Hiplot/175-tsne.html",
    "title": "tSNE",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot tSNE 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/tsne?lang=zh_cn\nt-SNE 是一种非线性降维算法，适用于高维数据降维到 2 维或 3 维并进行可视化。该算法能够使较大相似度的点，t 分布在低维空间中的距离更近；而对于低相似度的点，t 分布在低维空间中的距离更远。",
    "crumbs": [
      "HIPLOT",
      "tSNE"
    ]
  },
  {
    "objectID": "Hiplot/175-tsne.html#环境配置",
    "href": "Hiplot/175-tsne.html#环境配置",
    "title": "tSNE",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; Rtsne; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"Rtsne\", quietly = TRUE)) {\n  install.packages(\"Rtsne\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(Rtsne)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "tSNE"
    ]
  },
  {
    "objectID": "Hiplot/175-tsne.html#数据准备",
    "href": "Hiplot/175-tsne.html#数据准备",
    "title": "tSNE",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集（基因名称及其对应的基因表达值）和样本信息（样本名称及分组）。\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/tsne/data.json\")$exampleData[[1]]$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/tsne/data.json\")$exampleData[[1]]$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\nsample.info &lt;- data2\nrownames(data1) &lt;- data1[, 1]\ndata1 &lt;- as.matrix(data1[, -1])\n## tsne\nset.seed(123)\ntsne_info &lt;- Rtsne(t(data1), perplexity = 1, theta = 0.1, check_duplicates = FALSE)\ncolnames(tsne_info$Y) &lt;- c(\"tSNE_1\", \"tSNE_2\")\n# handle data\ntsne_data &lt;- data.frame(\n  sample = colnames(data1),\n  tsne_info$Y\n)\ncolorBy &lt;- sample.info[match(colnames(data1), sample.info[, 1]), \"group\"]\ncolorBy &lt;- factor(colorBy, level = colorBy[!duplicated(colorBy)])\ntsne_data$colorBy = colorBy\nshapeBy &lt;- NULL\n\n# 查看数据\nhead(data1)\n\n              M1       M2        M3       M8       M9      M10\nGBP4    6.599344 5.226266  3.693288 7.658312 8.666038 7.419708\nBCAT1   5.760380 4.892783  5.448924 8.765915 8.097206 8.262942\nCMPK2   9.561905 4.549168  3.998655 7.379591 7.938063 6.154118\nSTOX2   8.396409 8.717055  8.039064 3.542217 4.305187 6.964710\nPADI2   8.419766 8.268430  8.451181 4.136667 4.910986 4.080363\nSCARNA5 7.653074 5.780393 10.633550 3.822596 4.041078 7.956589\n\nhead(data2)\n\n  sample group\n1     M1    G1\n2     M2    G1\n3     M3    G1\n4     M8    G2\n5     M9    G2\n6    M10    G2",
    "crumbs": [
      "HIPLOT",
      "tSNE"
    ]
  },
  {
    "objectID": "Hiplot/175-tsne.html#可视化",
    "href": "Hiplot/175-tsne.html#可视化",
    "title": "tSNE",
    "section": "可视化",
    "text": "可视化\n\n# tsne\np &lt;- ggscatter(data = tsne_data, x = \"tSNE_1\", y = \"tSNE_2\", size = 2, \n               palette = \"lancet\", color = \"colorBy\") +\n  labs(color = \"group\") +\n  ggtitle(\"tSNE Plot1\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: tsne\n\n\n\n\n\n不同颜色表示不同样本，与 PCA（主成分分析）图形解释相同，不同之处在于可视化效果，t-SNE 中对于不相似的点，用一个较小的距离会产生较大的梯度来让这些点排斥开来。",
    "crumbs": [
      "HIPLOT",
      "tSNE"
    ]
  },
  {
    "objectID": "Hiplot/057-funnel-plot-metafor.html",
    "href": "Hiplot/057-funnel-plot-metafor.html",
    "title": "漏斗图 (metafor)",
    "section": "",
    "text": "可以用于分析 Meta 分析结果中潜在偏倚因子。",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot (metafor)"
    ]
  },
  {
    "objectID": "Hiplot/057-funnel-plot-metafor.html#环境配置",
    "href": "Hiplot/057-funnel-plot-metafor.html#环境配置",
    "title": "漏斗图 (metafor)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; metafor; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"metafor\", quietly = TRUE)) {\n  install.packages(\"metafor\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(metafor)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot (metafor)"
    ]
  },
  {
    "objectID": "Hiplot/057-funnel-plot-metafor.html#数据准备",
    "href": "Hiplot/057-funnel-plot-metafor.html#数据准备",
    "title": "漏斗图 (metafor)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/funnel-plot-metafor/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata2 &lt;- escalc(ri=ri, ni=ni, data = data, measure=\"ZCOR\")\nres &lt;- rma(yi, vi, data = data2)\n\n# 查看数据\nhead(data)\n\n              authors year  ni    ri controls          design   a_measure\n1     Axelsson et al. 2009 109 0.187     none cross-sectional self-report\n2     Axelsson et al. 2011 749 0.162     none cross-sectional self-report\n3        Bruce et al. 2010  55 0.340     none     prospective       other\n4  Christensen et al. 1999 107 0.320     none cross-sectional self-report\n5 Christensen & Smith 1995  72 0.270     none     prospective       other\n6        Cohen et al. 2004  65 0.000     none     prospective       other\n  c_measure meanage quality\n1     other   22.00       1\n2       NEO   53.59       1\n3       NEO   43.36       2\n4     other   41.70       1\n5       NEO   46.39       2\n6       NEO   41.20       2",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot (metafor)"
    ]
  },
  {
    "objectID": "Hiplot/057-funnel-plot-metafor.html#可视化",
    "href": "Hiplot/057-funnel-plot-metafor.html#可视化",
    "title": "漏斗图 (metafor)",
    "section": "可视化",
    "text": "可视化\n\n# 漏斗图\np &lt;- as.ggplot(function(){\n  funnel(x = res, main = \"Funnel Plot (metafor)\",\n         level = c(90, 95, 99), shade = c(\"white\",\"#a90e07\",\"#d23e0b\"), refline = 0)\n  })\n\np\n\n\n\n\n\n\n\n图 1: 漏斗图",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot (metafor)"
    ]
  },
  {
    "objectID": "Hiplot/159-scatter-3d.html",
    "href": "Hiplot/159-scatter-3d.html",
    "title": "三维散点图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot 3D Scatter 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/scatter-3d?lang=zh_cn\n三维散点图是将多个定量变量运用于空间中的不同轴上，并将不同的变量组合成空间中的坐标，从而对三个定量变量的交互关系进行清晰的解释。",
    "crumbs": [
      "HIPLOT",
      "3D-Scatter"
    ]
  },
  {
    "objectID": "Hiplot/159-scatter-3d.html#环境配置",
    "href": "Hiplot/159-scatter-3d.html#环境配置",
    "title": "三维散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plot3D; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plot3D\", quietly = TRUE)) {\n  install.packages(\"plot3D\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plot3D)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "3D-Scatter"
    ]
  },
  {
    "objectID": "Hiplot/159-scatter-3d.html#数据准备",
    "href": "Hiplot/159-scatter-3d.html#数据准备",
    "title": "三维散点图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为三个变量和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/scatter-3d/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncol_idx &lt;- which(colnames(data) == \"group\")\ndata[, col_idx] &lt;- as.factor(data[, col_idx])\nshapes &lt;- 19\nshape_idx &lt;- \"\"\n\n# 查看数据\nhead(data)\n\n      temp    pressure dtime group\n1 41.11057  0.49351190     1    G1\n2 35.23429  0.76636476     2    G1\n3 26.58407  0.63885937     3    G1\n4 34.76097 -0.08106332     4    G1\n5 25.76521 -0.31731579     5    G1\n6 20.30115 -1.91132873     6    G1",
    "crumbs": [
      "HIPLOT",
      "3D-Scatter"
    ]
  },
  {
    "objectID": "Hiplot/159-scatter-3d.html#可视化",
    "href": "Hiplot/159-scatter-3d.html#可视化",
    "title": "三维散点图",
    "section": "可视化",
    "text": "可视化\n\n# 三维散点图\np &lt;- as.ggplot(function() {\n  plot3d &lt;- scatter3D(data[, 1], data[, 2], data[, 3],\n    pch = shapes, cex = 1,\n    phi = 0, theta = 45, ticktype = \"detailed\",\n    bty = \"b2\", colkey = FALSE, alpha = 1,\n    xlab = colnames(data)[1], ylab = colnames(data)[2],\n    zlab = colnames(data)[3],\n    main = \"3D-Scatter Plot\",\n    colvar = as.numeric(as.factor(data[, 4])),\n    col = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")\n  )\n  \n  legend(\"right\", pch=19, legend = levels(data[, col_idx]),\n         cex = 1.1, bty = 'n', xjust = 0.5, horiz = F,\n         title = colnames(data)[col_idx],\n         col = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\"))\n})\n\np\n\n\n\n\n\n\n\n图 1: 三维散点图\n\n\n\n\n\n图中分别将温度、压力、时间放置在 x（水平轴）、y（垂直轴）、z（透视轴）上，生成一幅三维散点图，直观发现三者变量间的相关关系及相关强弱程度。",
    "crumbs": [
      "HIPLOT",
      "3D-Scatter"
    ]
  },
  {
    "objectID": "Hiplot/165-slopegraph.html",
    "href": "Hiplot/165-slopegraph.html",
    "title": "斜面图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Slopegraph 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/slopegraph?lang=zh_cn\n斜面图可以用于展示数值变化情况。",
    "crumbs": [
      "HIPLOT",
      "Slopegraph"
    ]
  },
  {
    "objectID": "Hiplot/165-slopegraph.html#环境配置",
    "href": "Hiplot/165-slopegraph.html#环境配置",
    "title": "斜面图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; CGPfunctions; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"CGPfunctions\", quietly = TRUE)) {\n  install.packages(\"CGPfunctions\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(CGPfunctions)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Slopegraph"
    ]
  },
  {
    "objectID": "Hiplot/165-slopegraph.html#数据准备",
    "href": "Hiplot/165-slopegraph.html#数据准备",
    "title": "斜面图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/slopegraph/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, \"country\"] &lt;- factor(data[ ,\"country\"], levels = unique(data[ ,\"country\"]))\ndata[, \"year\"] &lt;- factor(data[ ,\"year\"], levels = unique(data[ ,\"year\"]))\n\n# 查看数据\nhead(data)\n\n      country continent year lifeExp     pop gdpPercap\n1  Costa Rica  Americas 1992      76 3173216  6160.416\n2  Costa Rica  Americas 1997      77 3518107  6677.045\n3  Costa Rica  Americas 2002      78 3834934  7723.447\n4  Costa Rica  Americas 2007      79 4133884  9645.061\n5 El Salvador  Americas 1992      67 5274649  4444.232\n6 El Salvador  Americas 1997      70 5783439  5154.825",
    "crumbs": [
      "HIPLOT",
      "Slopegraph"
    ]
  },
  {
    "objectID": "Hiplot/165-slopegraph.html#可视化",
    "href": "Hiplot/165-slopegraph.html#可视化",
    "title": "斜面图",
    "section": "可视化",
    "text": "可视化\n\n# 斜面图\np &lt;- newggslopegraph(data, year, lifeExp, country) +\n  labs(subtitle = \"\", title = \"Slope Graph\", x = \"Life Expectancy (years)\",\n       y = \"country\", caption = \"\") +\n  scale_color_manual(values = c(\"#3B4992FF\", \"#EE0000FF\", \"#008B45FF\",\n                               \"#631879FF\", \"#008280FF\", \"#BB0021FF\")) +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n\np\n\n\n\n\n\n\n\n图 1: 斜面图",
    "crumbs": [
      "HIPLOT",
      "Slopegraph"
    ]
  },
  {
    "objectID": "Hiplot/067-gghistostats.html",
    "href": "Hiplot/067-gghistostats.html",
    "title": "条形图（Histostats）",
    "section": "",
    "text": "展示数据分布及统计推断。",
    "crumbs": [
      "HIPLOT",
      "Histostats"
    ]
  },
  {
    "objectID": "Hiplot/067-gghistostats.html#环境配置",
    "href": "Hiplot/067-gghistostats.html#环境配置",
    "title": "条形图（Histostats）",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)",
    "crumbs": [
      "HIPLOT",
      "Histostats"
    ]
  },
  {
    "objectID": "Hiplot/067-gghistostats.html#数据准备",
    "href": "Hiplot/067-gghistostats.html#数据准备",
    "title": "条形图（Histostats）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gghistostats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"budget\", \"genre\")\ndata[, axis[2]] &lt;- factor(data[, axis[2]], levels = unique(data[, axis[2]]))\n\n# 查看数据\nhead(data)\n\n                                                                 title year\n1                       Lord of the Rings: The Return of the King, The 2003\n2                   Lord of the Rings: The Fellowship of the Ring, The 2001\n3                               Lord of the Rings: The Two Towers, The 2002\n4                                                            Star Wars 1977\n5                       Star Wars: Episode V - The Empire Strikes Back 1980\n6 Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb 1964\n  length budget rating  votes  mpaa  genre\n1    251   94.0    9.0 103631 PG-13 Action\n2    208   93.0    8.8 157608 PG-13 Action\n3    223   94.0    8.8 114797 PG-13 Action\n4    125   11.0    8.8 134640    PG Action\n5    129   18.0    8.8 103706    PG Action\n6     93    1.8    8.7  63471    PG Comedy",
    "crumbs": [
      "HIPLOT",
      "Histostats"
    ]
  },
  {
    "objectID": "Hiplot/067-gghistostats.html#可视化",
    "href": "Hiplot/067-gghistostats.html#可视化",
    "title": "条形图（Histostats）",
    "section": "可视化",
    "text": "可视化\n\n# 条形图\np &lt;- grouped_gghistostats(\n  data = data, x = budget, grouping.var = genre,\n  effsize.type = \"unbiased\",\n  type = \"parametric\",\n  centrality.k = 2,\n  plotgrid.args = list(ncol = 2),\n  centrality.parameter = \"solid\",\n  centrality.line.args = list(size = 1, color = \"black\"),\n  bar.fill = \"#0D47A1\", \n  centrality.label.args = list(color = \"#0D47A1\", size = 3),\n  test.value = as.numeric(0),\n  normal.curve = F,\n  normal.curve.args = list(size = 1)\n)\n\np\n\n\n\n\n\n\n\n图 1: 条形图",
    "crumbs": [
      "HIPLOT",
      "Histostats"
    ]
  },
  {
    "objectID": "Hiplot/029-cor-heatmap-simple.html",
    "href": "Hiplot/029-cor-heatmap-simple.html",
    "title": "简单可变相关热图",
    "section": "",
    "text": "提供一个简单化版本的相关热图可视化。",
    "crumbs": [
      "HIPLOT",
      "Simplified Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/029-cor-heatmap-simple.html#环境配置",
    "href": "Hiplot/029-cor-heatmap-simple.html#环境配置",
    "title": "简单可变相关热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; sigminer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"sigminer\", quietly = TRUE)) {\n  install.packages(\"sigminer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(sigminer)",
    "crumbs": [
      "HIPLOT",
      "Simplified Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/029-cor-heatmap-simple.html#数据准备",
    "href": "Hiplot/029-cor-heatmap-simple.html#数据准备",
    "title": "简单可变相关热图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/cor-heatmap-simple/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "HIPLOT",
      "Simplified Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/029-cor-heatmap-simple.html#可视化",
    "href": "Hiplot/029-cor-heatmap-simple.html#可视化",
    "title": "简单可变相关热图",
    "section": "可视化",
    "text": "可视化\n\n# 简单可变相关热图\np &lt;- show_cor(\n  data = data,\n  x_vars = c(\"mpg\",\"cyl\",\"disp\"),\n  y_vars = c(\"wt\",\"hp\",\"drat\"),\n  cor_method = \"pearson\",\n  vis_method = \"square\",\n  lab = T,\n  test = T,\n  hc_order = F,\n  legend.title = \"Corr\"\n  ) +\n  ggtitle(\"\") +\n  labs(x=\"\", y=\"\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 简单可变相关热图",
    "crumbs": [
      "HIPLOT",
      "Simplified Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/042-diffusion-map.html",
    "href": "Hiplot/042-diffusion-map.html",
    "title": "扩散映射图",
    "section": "",
    "text": "扩散映射（diffusion-map）是一种非线性降维算法，可以用于可视化发育轨迹。",
    "crumbs": [
      "HIPLOT",
      "Diffusion Map"
    ]
  },
  {
    "objectID": "Hiplot/042-diffusion-map.html#环境配置",
    "href": "Hiplot/042-diffusion-map.html#环境配置",
    "title": "扩散映射图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; destiny; ggplotify; scatterplot3d; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"destiny\", quietly = TRUE)) {\n  install_github(\"theislab/destiny\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"scatterplot3d\", quietly = TRUE)) {\n  install.packages(\"scatterplot3d\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(destiny)\nlibrary(ggplotify)\nlibrary(scatterplot3d)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Diffusion Map"
    ]
  },
  {
    "objectID": "Hiplot/042-diffusion-map.html#数据准备",
    "href": "Hiplot/042-diffusion-map.html#数据准备",
    "title": "扩散映射图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/diffusion-map/data.json\")$exampleData[[1]]$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/diffusion-map/data.json\")$exampleData[[1]]$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\nsample.info &lt;- data2\nrownames(data1) &lt;- data1[, 1]\ndata1 &lt;- as.matrix(data1[, -1])\n## tsne\nset.seed(123)\ndm_info &lt;- DiffusionMap(t(data1))\ndm_info &lt;- cbind(DC1 = dm_info$DC1, DC2 = dm_info$DC2, DC3 = dm_info$DC3)\ndm_data &lt;- data.frame(\n  sample = colnames(data1),\n  dm_info\n)\n\ncolorBy &lt;- sample.info[match(colnames(data1), sample.info[, 1]), \"Group\"]\ncolorBy &lt;- factor(colorBy, level = colorBy[!duplicated(colorBy)])\ndm_data$colorBy = colorBy\n\n# 查看数据\nhead(dm_data)\n\n   sample        DC1        DC2         DC3 colorBy\nM1     M1 0.05059918 0.15203860 -0.06533168      G1\nM2     M2 0.05030863 0.14435034 -0.06044277      G1\nM3     M3 0.04271398 0.09273382 -0.02730427      G1\nM4     M4 0.04680742 0.10425273 -0.03789962      G1\nM5     M5 0.04971521 0.12786900 -0.05608321      G1\nM6     M6 0.04840072 0.12728303 -0.05256815      G1",
    "crumbs": [
      "HIPLOT",
      "Diffusion Map"
    ]
  },
  {
    "objectID": "Hiplot/042-diffusion-map.html#可视化",
    "href": "Hiplot/042-diffusion-map.html#可视化",
    "title": "扩散映射图",
    "section": "可视化",
    "text": "可视化\n\n1. 2D\n\n# 2D 扩散映射图\np &lt;- ggscatter(data = dm_data,  x = \"DC1\", y = \"DC2\", color = \"colorBy\",\n               size = 2, palette = \"lancet\", alpha = 1) +\n  labs(color = \"Group\") +\n  ggtitle(\"Diffusion Map\") +\n  scale_color_manual(values = c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\")) +\n  theme_classic() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 2D 扩散映射图\n\n\n\n\n\n\n\n2. 3D\n\n# 3D 扩散映射图\ngroup.color &lt;- c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\")\nnames(group.color) &lt;- unique(dm_data$colorBy)\ngroup.color &lt;- group.color[!is.na(names(group.color))]\nif (length(group.color) == 0) {\n  group.color &lt;- c(Default=\"black\")\n  dm_data$colorBy &lt;- \"Default\"\n}\np &lt;- as.ggplot(function(){\n  scatterplot3d(x = dm_data$DC1, y = dm_data$DC2, z = dm_data$DC3,\n                color =  alpha(group.color[dm_data$colorBy], 1),\n                xlim=c(min(dm_data$DC1), max(dm_data$DC1)),\n                ylim=c(min(dm_data$DC2), max(dm_data$DC2)),\n                zlim=c(min(dm_data$DC3), max(dm_data$DC3)),\n                pch = 16, cex.symbols  = 0.6,\n                scale.y = 0.8,\n                xlab = \"DC1\", ylab = \"DC2\", zlab = \"DC3\",\n                angle = 40,\n                main = \"Diffusion Map\",\n                col.axis = \"#444444\", col.grid = \"#CCCCCC\")\n  legend(\"right\", legend = names(group.color),\n         col = alpha(group.color, 0.8), pch = 16)\n    })\np &lt;- p + theme_classic()\n\np\n\n\n\n\n\n\n\n图 2: 3D 扩散映射图",
    "crumbs": [
      "HIPLOT",
      "Diffusion Map"
    ]
  },
  {
    "objectID": "Hiplot/072-ggpubr-boxplot.html",
    "href": "Hiplot/072-ggpubr-boxplot.html",
    "title": "GGPubr 箱线图",
    "section": "",
    "text": "特性丰富的箱线图（GGPubr 接口）。",
    "crumbs": [
      "HIPLOT",
      "GGPubr Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/072-ggpubr-boxplot.html#环境配置",
    "href": "Hiplot/072-ggpubr-boxplot.html#环境配置",
    "title": "GGPubr 箱线图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "GGPubr Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/072-ggpubr-boxplot.html#数据准备",
    "href": "Hiplot/072-ggpubr-boxplot.html#数据准备",
    "title": "GGPubr 箱线图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggpubr-boxplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   len supp dose\n1  4.2   VC  0.5\n2 11.5   VC  0.5\n3  7.3   VC  0.5\n4  5.8   VC  0.5\n5  6.4   VC  0.5\n6 10.0   VC  0.5",
    "crumbs": [
      "HIPLOT",
      "GGPubr Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/072-ggpubr-boxplot.html#可视化",
    "href": "Hiplot/072-ggpubr-boxplot.html#可视化",
    "title": "GGPubr 箱线图",
    "section": "可视化",
    "text": "可视化\n\n# GGPubr 箱线图\np &lt;- ggboxplot(\n  data = data, x = \"supp\", y = \"len\", facet.by = \"dose\",\n  merge = T,\n  color = \"supp\",\n  fill = \"white\") + \n  stat_compare_means(\n    label = \"p.signif\",\n    label.x.npc = \"center\",\n    method = \"wilcox\") + \n  scale_y_continuous(expand = expansion(mult = c(0.2, 0.2))) +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  ggtitle(\"Complex Boxplot\") + \n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: GGPubr 箱线图",
    "crumbs": [
      "HIPLOT",
      "GGPubr Boxplot"
    ]
  },
  {
    "objectID": "Hiplot/140-pie-matrix.html",
    "href": "Hiplot/140-pie-matrix.html",
    "title": "饼图矩阵",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pie Matrix 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pie-matrix?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Pie Matrix"
    ]
  },
  {
    "objectID": "Hiplot/140-pie-matrix.html#环境配置",
    "href": "Hiplot/140-pie-matrix.html#环境配置",
    "title": "饼图矩阵",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr; tidyr; stringr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"tidyr\", quietly = TRUE)) {\n  install.packages(\"tidyr\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "Pie Matrix"
    ]
  },
  {
    "objectID": "Hiplot/140-pie-matrix.html#数据准备",
    "href": "Hiplot/140-pie-matrix.html#数据准备",
    "title": "饼图矩阵",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pie-matrix/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[,\"genre\"] &lt;- factor(data[,\"genre\"], levels = unique(data[,\"genre\"]))\ndata[,\"mpaa\"] &lt;- factor(data[,\"mpaa\"], levels = unique(data[,\"mpaa\"]))\ndata[,\"status\"] &lt;- factor(data[,\"status\"], levels = unique(data[,\"status\"]))\ncol &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\")\ndf &lt;- matrix(NA, nrow = length(unique(data[,\"mpaa\"])),\n             ncol = length(unique(data[,\"genre\"])))\nrow.names(df) &lt;- unique(data[,\"mpaa\"])\ncolnames(df) &lt;- unique(data[,\"genre\"])\nfor (i in 1:nrow(df)) {\n    for (j in 1:ncol(df)) {\n      for (k in unique(data[,\"status\"])) {\n        if (is.na(df[i, j])) {\n          df[i, j] &lt;- sum(data[,\"genre\"] == unique(data[,\"genre\"])[j] &\n            data[,\"mpaa\"] == unique(data[,\"mpaa\"])[i] &\n            data[,\"status\"] == k)\n        } else {\n          df[i, j] &lt;- paste0(df[i, j], \",\", \n            sum(data[,\"genre\"] == unique(data[,\"genre\"])[j] &\n              data[,\"mpaa\"] == unique(data[,\"mpaa\"])[i] &\n              data[,\"status\"] == k))\n        }\n      }\n    }\n}\ndf &lt;- as.matrix(df)\n\n# 查看数据\nhead(data[,1:5])\n\n                                               title year length budget rating\n1                          Shawshank Redemption, The 1994    142     25    9.1\n2     Lord of the Rings: The Return of the King, The 2003    251     94    9.0\n3 Lord of the Rings: The Fellowship of the Ring, The 2001    208     93    8.8\n4             Lord of the Rings: The Two Towers, The 2002    223     94    8.8\n5                                       Pulp Fiction 1994    168      8    8.8\n6                                   Schindler's List 1993    195     25    8.8",
    "crumbs": [
      "HIPLOT",
      "Pie Matrix"
    ]
  },
  {
    "objectID": "Hiplot/140-pie-matrix.html#可视化",
    "href": "Hiplot/140-pie-matrix.html#可视化",
    "title": "饼图矩阵",
    "section": "可视化",
    "text": "可视化\n\n# 饼图矩阵\np &lt;- df %&gt;% as.table() %&gt;%\n  as.data.frame() %&gt;%\n  mutate(Freq = str_split(Freq,\",\")) %&gt;%\n  unnest(Freq) %&gt;%\n  mutate(Freq = as.integer(Freq)) %&gt;%\n  # 将值转换为百分比（每个图表加起来为 1）\n  group_by(Var1, Var2) %&gt;%\n  mutate(Freq = ifelse(is.na(Freq), NA, Freq / sum(Freq)),\n         color = row_number()) %&gt;%\n  ungroup() %&gt;%\n  # Plot\n  ggplot(aes(\"\", Freq, fill=factor(color, labels = unique(data[,\"status\"])))) + \n  geom_bar(width = 2, stat = \"identity\") +\n  coord_polar(\"y\") +\n  facet_wrap(~Var1+Var2, ncol = ncol(df)) +\n  scale_fill_manual(values = col) +\n  theme_void() +\n  theme(axis.text = element_blank(), axis.ticks = element_blank(),\n        panel.grid = element_blank(), axis.title = element_blank(),\n        legend.position = \"bottom\", legend.direction = \"horizontal\") +\n  guides(fill = guide_legend(nrow = 1, title = \"status\"))\n  \np\n\n\n\n\n\n\n\n图 1: 饼图矩阵",
    "crumbs": [
      "HIPLOT",
      "Pie Matrix"
    ]
  },
  {
    "objectID": "Hiplot/034-custom-heat-map.html",
    "href": "Hiplot/034-custom-heat-map.html",
    "title": "自定义热图",
    "section": "",
    "text": "自定义热图，按照给定数据直接绘制热图。",
    "crumbs": [
      "HIPLOT",
      "Custom Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/034-custom-heat-map.html#环境配置",
    "href": "Hiplot/034-custom-heat-map.html#环境配置",
    "title": "自定义热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Custom Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/034-custom-heat-map.html#数据准备",
    "href": "Hiplot/034-custom-heat-map.html#数据准备",
    "title": "自定义热图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为hiplot.org官方logo的灰度图像。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/custom-heat-map/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndraw_data &lt;- as.matrix(data[, 2:ncol(data)])\nrow_num &lt;- nrow(draw_data)\ncol_num &lt;- ncol(draw_data)\ncol_labels &lt;- colnames(data)\ncol_labels &lt;- col_labels[2:ncol(data)]\nrow_labels &lt;- data$name\nrm(data)\ndf &lt;- expand.grid(row = 1:row_num, col = 1:col_num)\ndf$value &lt;- c(draw_data)\n\n# 查看数据\nhead(df)\n\n  row col value\n1   1   1   236\n2   2   1   236\n3   3   1   236\n4   4   1   236\n5   5   1   236\n6   6   1   236",
    "crumbs": [
      "HIPLOT",
      "Custom Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/034-custom-heat-map.html#可视化",
    "href": "Hiplot/034-custom-heat-map.html#可视化",
    "title": "自定义热图",
    "section": "可视化",
    "text": "可视化\n\n# 自定义热图\np &lt;- ggplot(df, aes(x = col, y = row, fill = value)) +\n  geom_point(shape = 21, size = 8, aes(fill = value), color = \"white\") +\n  scale_fill_gradient(low = \"#DDDDDD\", high = \"#0000F5\") +\n  guides(fill = guide_colorbar(title = \"Value\")) +\n  theme(\n    panel.background = element_rect(fill = \"white\"),\n    panel.grid = element_blank(),\n    axis.text = element_text(size = 10),\n    axis.ticks = element_blank(),\n    axis.title = element_blank()\n    ) +\n  scale_x_continuous(breaks = 1:col_num, labels = col_labels, position = \"top\") +\n  scale_y_reverse(breaks = 1:row_num, labels = row_labels, position = \"left\")\n\np\n\n\n\n\n\n\n\n图 1: 自定义热图",
    "crumbs": [
      "HIPLOT",
      "Custom Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/039-density-histogram.html",
    "href": "Hiplot/039-density-histogram.html",
    "title": "密度图-直方图",
    "section": "",
    "text": "使用密度图或直方图展示数据分布。",
    "crumbs": [
      "HIPLOT",
      "Density-Histogram"
    ]
  },
  {
    "objectID": "Hiplot/039-density-histogram.html#环境配置",
    "href": "Hiplot/039-density-histogram.html#环境配置",
    "title": "密度图-直方图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Density-Histogram"
    ]
  },
  {
    "objectID": "Hiplot/039-density-histogram.html#数据准备",
    "href": "Hiplot/039-density-histogram.html#数据准备",
    "title": "密度图-直方图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/density-histogram/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ny &lt;- \"Doubling_time\"\ngroup &lt;- \"Student\"\ndata[, group] &lt;- factor(data[, group], levels = unique(data[, group]))\ndata &lt;- data %&gt;% \n  mutate(median = median(get(y), na.rm = TRUE),\n         mean = mean(get(y), na.rm = TRUE))\n\n# 查看数据\nhead(data)\n\n  Experiment Student Doubling_time facet   median     mean\n1       Exp1       A      17.36765    F1 20.18114 19.91642\n2       Exp1       B      18.04119    F1 20.18114 19.91642\n3       Exp1       C      18.70120    F1 20.18114 19.91642\n4       Exp1       D      20.06762    F1 20.18114 19.91642\n5       Exp1       E      20.19807    F2 20.18114 19.91642\n6       Exp1       F      22.11908    F2 20.18114 19.91642",
    "crumbs": [
      "HIPLOT",
      "Density-Histogram"
    ]
  },
  {
    "objectID": "Hiplot/039-density-histogram.html#可视化",
    "href": "Hiplot/039-density-histogram.html#可视化",
    "title": "密度图-直方图",
    "section": "可视化",
    "text": "可视化\n\n1. 密度图\n\n# 密度图\np &lt;- plot_density(\n  data = data, \n  ycol = get(y), \n  group = get(group),\n  linethick = 0.5,\n  c_alpha = 0.6) + \n  ggtitle(\"Density Plot\") + \n  geom_vline(aes_string(xintercept = \"median\"),\n        colour = 'black', linetype = 2, size = 0.5) + \n  xlab(y) + \n  ylab(\"density\") + \n  guides(fill = guide_legend(title = group), color = FALSE) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"bottom\",\n        legend.direction = \"horizontal\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 密度图\n\n\n\n\n\n\n\n2. 直方图\n\n# 直方图\np &lt;- plot_histogram(\n  data = data, \n  ycol = get(y), \n  group = get(group),\n  linethick = 0.5,\n  BinSize = 30)  + \n  ggtitle(\"Histogram Plot\") + \n  geom_vline(aes_string(xintercept = \"median\"),\n        colour = 'black', linetype = 2, size = 0.5) + \n  xlab(y) + \n  ylab(\"density\") + \n  guides(fill = guide_legend(title = group), color = FALSE) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"bottom\",\n        legend.direction = \"horizontal\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 2: 直方图",
    "crumbs": [
      "HIPLOT",
      "Density-Histogram"
    ]
  },
  {
    "objectID": "Hiplot/112-map-uk-city.html",
    "href": "Hiplot/112-map-uk-city.html",
    "title": "英国地图 (城市)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot UK Map (City) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-uk-city?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/112-map-uk-city.html#环境配置",
    "href": "Hiplot/112-map-uk-city.html#环境配置",
    "title": "英国地图 (城市)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/112-map-uk-city.html#数据准备",
    "href": "Hiplot/112-map-uk-city.html#数据准备",
    "title": "英国地图 (城市)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-uk-city/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-uk-city/uk_city.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$name)]\n\n# 查看数据\nhead(data)\n\n               name value\n1 Rhondda Cynon Taf   503\n2       Eilean Siar   221\n3          Bridgend   993\n4           Lincoln   798\n5     Richmondshire   169\n6           Ashford   653",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/112-map-uk-city.html#可视化",
    "href": "Hiplot/112-map-uk-city.html#可视化",
    "title": "英国地图 (城市)",
    "section": "可视化",
    "text": "可视化\n\n# 英国地图 (城市)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"UK Map\")\n\np\n\n\n\n\n\n\n\n图 1: 英国地图 (城市)",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/123-mosaic.html",
    "href": "Hiplot/123-mosaic.html",
    "title": "马赛克比例图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Mosaic Ratio Plot 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/mosaic?lang=zh_cn\n使用马赛克方块展示数据比例。",
    "crumbs": [
      "HIPLOT",
      "Mosaic Ratio Plot"
    ]
  },
  {
    "objectID": "Hiplot/123-mosaic.html#环境配置",
    "href": "Hiplot/123-mosaic.html#环境配置",
    "title": "马赛克比例图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; vcd; DescTools; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"vcd\", quietly = TRUE)) {\n  install.packages(\"vcd\")\n}\nif (!requireNamespace(\"DescTools\", quietly = TRUE)) {\n  install.packages(\"DescTools\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(vcd)\nlibrary(DescTools)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Mosaic Ratio Plot"
    ]
  },
  {
    "objectID": "Hiplot/123-mosaic.html#数据准备",
    "href": "Hiplot/123-mosaic.html#数据准备",
    "title": "马赛克比例图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/mosaic/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ntbl &lt;- xtabs(~ Survived + PassengerClass + Gender, data)\n\n# 查看数据\nhead(data)\n\n  PassengerId Survived PassengerClass\n1           1        0              3\n2           2        1              1\n3           3        1              3\n4           4        1              1\n5           5        0              3\n6           6        0              3\n                                                 Name Gender Age SibSp Parch\n1                             Braund, Mr. Owen Harris   Male  22     1     0\n2 Cumings, Mrs. John Bradley (Florence Briggs Thayer) Female  38     1     0\n3                              Heikkinen, Miss. Laina Female  26     0     0\n4        Futrelle, Mrs. Jacques Heath (Lily May Peel) Female  35     1     0\n5                            Allen, Mr. William Henry   Male  35     0     0\n6                                    Moran, Mr. James   Male  NA     0     0\n            Ticket    Fare Cabin Embarked\n1        A/5 21171  7.2500  &lt;NA&gt;        S\n2         PC 17599 71.2833   C85        C\n3 STON/O2. 3101282  7.9250  &lt;NA&gt;        S\n4           113803 53.1000  C123        S\n5           373450  8.0500  &lt;NA&gt;        S\n6           330877  8.4583  &lt;NA&gt;        Q",
    "crumbs": [
      "HIPLOT",
      "Mosaic Ratio Plot"
    ]
  },
  {
    "objectID": "Hiplot/123-mosaic.html#可视化",
    "href": "Hiplot/123-mosaic.html#可视化",
    "title": "马赛克比例图",
    "section": "可视化",
    "text": "可视化\n\n# 马赛克比例图\np &lt;- as.ggplot(function() {\n  mosaic(tbl, shade = TRUE, legend = TRUE, main = \"Mosaic Ratio Plot\",\n         gp = shading_binary(tbl, col = c(\"#3B4992FF\",\"#EE0000FF\")))\n})\n\np\n\n\n\n\n\n\n\n图 1: 马赛克比例图",
    "crumbs": [
      "HIPLOT",
      "Mosaic Ratio Plot"
    ]
  },
  {
    "objectID": "Hiplot/154-ridge.html",
    "href": "Hiplot/154-ridge.html",
    "title": "岭图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Ridge 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/ridge?lang=zh_cn\n岭图是一种将点连接围成形似山岭的图形。",
    "crumbs": [
      "HIPLOT",
      "Ridge"
    ]
  },
  {
    "objectID": "Hiplot/154-ridge.html#环境配置",
    "href": "Hiplot/154-ridge.html#环境配置",
    "title": "岭图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggridges; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggridges\", quietly = TRUE)) {\n  install.packages(\"ggridges\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggridges)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Ridge"
    ]
  },
  {
    "objectID": "Hiplot/154-ridge.html#数据准备",
    "href": "Hiplot/154-ridge.html#数据准备",
    "title": "岭图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为三种分组及其对应的数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ridge/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$group &lt;- factor(data$group, levels = unique(data$group)[length(unique(data$group)):1])\n\n# 查看数据\nhead(data)\n\n  value group\n1   5.1    G1\n2   4.9    G1\n3   4.7    G1\n4   4.6    G1\n5   5.0    G1\n6   5.4    G1",
    "crumbs": [
      "HIPLOT",
      "Ridge"
    ]
  },
  {
    "objectID": "Hiplot/154-ridge.html#可视化",
    "href": "Hiplot/154-ridge.html#可视化",
    "title": "岭图",
    "section": "可视化",
    "text": "可视化\n\n# 岭图\np &lt;- ggplot(data, aes(x = value, y = group, fill = group, col = group)) +\n  geom_density_ridges(scale = 5, alpha = 0.8) +\n  labs(x = \"value\", y = \"group\") +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.position = \"none\") +\n  ggtitle(\"Ridge Plot\") +\n  guides(color = guide_legend(reverse = TRUE),\n         fill = guide_legend(reverse = TRUE)) +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 岭图\n\n\n\n\n\n不同颜色表示不同分组，可以观测数据大致的高低程度。",
    "crumbs": [
      "HIPLOT",
      "Ridge"
    ]
  },
  {
    "objectID": "Hiplot/020-chord.html",
    "href": "Hiplot/020-chord.html",
    "title": "弦图",
    "section": "",
    "text": "复杂的数据关系交互作用以和弦图的形式表现出来。",
    "crumbs": [
      "HIPLOT",
      "Chord Plot"
    ]
  },
  {
    "objectID": "Hiplot/020-chord.html#环境配置",
    "href": "Hiplot/020-chord.html#环境配置",
    "title": "弦图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; circlize; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"circlize\", quietly = TRUE)) {\n  install.packages(\"circlize\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(circlize)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Chord Plot"
    ]
  },
  {
    "objectID": "Hiplot/020-chord.html#数据准备",
    "href": "Hiplot/020-chord.html#数据准备",
    "title": "弦图",
    "section": "数据准备",
    "text": "数据准备\n基因与通路或基因本体相互作用的数据框架或矩阵。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/chord/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nrow.names(data) &lt;- data[, 1]\ndata &lt;- data[, -1]\ndata &lt;- as.matrix(data)\n\n# 查看数据\nhead(data)\n\n   E1 E2 E3 E4 E5\nS1  4 16 12 18 11\nS2  7 11  2 15 10\nS3  9  2 17 16 11\nS4 14  9 12  3 17\nS5  1  1  7  1 12\nS6 10 18  9 13  9",
    "crumbs": [
      "HIPLOT",
      "Chord Plot"
    ]
  },
  {
    "objectID": "Hiplot/020-chord.html#可视化",
    "href": "Hiplot/020-chord.html#可视化",
    "title": "弦图",
    "section": "可视化",
    "text": "可视化\n\n# 弦图\nPalette &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\",\n             \"#8491B4FF\",\"#91D1C2FF\",\"#DC0000FF\",\"#7E6148FF\",\"#B09C85FF\")\ngrid.col &lt;- c(Palette, Palette, Palette[1:5])\np &lt;- as.ggplot(function() {\n  chordDiagram(\n    data, grid.col = grid.col, grid.border = NULL, transparency = 0.5,\n    row.col = NULL, column.col = NULL,  order = NULL,\n    directional = 0, # 1, -1, 0, 2\n    direction.type = \"diffHeight\", # diffHeight and arrows\n    diffHeight = convert_height(2, \"mm\"), reduce = 1e-5, xmax = NULL, \n    self.link = 2, symmetric = FALSE, keep.diagonal = FALSE, \n    preAllocateTracks = NULL,\n    annotationTrack = c(\"name\", \"grid\", \"axis\"),\n    annotationTrackHeight = convert_height(c(3, 3), \"mm\"),\n    link.border = NA, link.lwd = par(\"lwd\"), link.lty = par(\"lty\"), \n    link.sort = FALSE, link.decreasing = TRUE, link.largest.ontop = FALSE,\n    link.visible = T, link.rank = NULL, link.overlap = FALSE,\n    scale = F, group = NULL, big.gap = 10, small.gap = 1\n    )\n  })\n\np\n\n\n\n\n\n\n\n图 1: 弦图",
    "crumbs": [
      "HIPLOT",
      "Chord Plot"
    ]
  },
  {
    "objectID": "Hiplot/008-barplot-gradient.html",
    "href": "Hiplot/008-barplot-gradient.html",
    "title": "渐变柱状图",
    "section": "",
    "text": "同气泡图相似，不过是在柱状图的基础上，用颜色渐变的长方形同时展示两个变量的可视化图形。",
    "crumbs": [
      "HIPLOT",
      "Barplot Gradient"
    ]
  },
  {
    "objectID": "Hiplot/008-barplot-gradient.html#环境配置",
    "href": "Hiplot/008-barplot-gradient.html#环境配置",
    "title": "渐变柱状图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; stringr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "Barplot Gradient"
    ]
  },
  {
    "objectID": "Hiplot/008-barplot-gradient.html#数据准备",
    "href": "Hiplot/008-barplot-gradient.html#数据准备",
    "title": "渐变柱状图",
    "section": "数据准备",
    "text": "数据准备\n案例数据，第一列为Go Term（Go语言编号），第二列为基因数，第三列输入pvalue。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-gradient/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- str_to_sentence(str_remove(data[, 1], pattern = \"\\\\w+:\\\\d+\\\\W\"))\ntopnum &lt;- 7\ndata &lt;- data[1:topnum, ]\ndata[, 1] &lt;- factor(data[, 1], level = rev(unique(data[, 1])))\n\n# 查看数据\nhead(data)\n\n                               Term Count   PValue\n1                   Immune response    20 9.61e-08\n2     Defense response to bacterium    11 3.02e-06\n3                   Cell chemotaxis     8 5.14e-06\n4                     Cell adhesion    17 2.73e-05\n5             Complement activation     8 3.56e-05\n6 Extracellular matrix organization    11 4.23e-05",
    "crumbs": [
      "HIPLOT",
      "Barplot Gradient"
    ]
  },
  {
    "objectID": "Hiplot/008-barplot-gradient.html#可视化",
    "href": "Hiplot/008-barplot-gradient.html#可视化",
    "title": "渐变柱状图",
    "section": "可视化",
    "text": "可视化\n\n# 渐变柱状图\np &lt;- ggplot(data, aes(x = Term, y = Count, fill = -log10(PValue))) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"GO BarPlot\") +\n  scale_fill_continuous(low = \"#00438E\", high = \"#E43535\") +\n  scale_x_discrete(labels = function(x) {str_wrap(x, width = 65)}) +\n  labs(fill = \"-log10 (PValue)\", y = \"Term\", x = \"Count\") +\n  coord_flip() +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 渐变柱状图\n\n\n\n\n\n如图示，蓝色为低pvalue颜色，红色为高pvalue颜色，随着pvalue增大颜色由蓝向红渐变。横坐标表示基因数目。",
    "crumbs": [
      "HIPLOT",
      "Barplot Gradient"
    ]
  },
  {
    "objectID": "Hiplot/103-map-france-town.html",
    "href": "Hiplot/103-map-france-town.html",
    "title": "法国地图 (镇)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot France Map (Town) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-france-town?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "France Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/103-map-france-town.html#环境配置",
    "href": "Hiplot/103-map-france-town.html#环境配置",
    "title": "法国地图 (镇)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "France Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/103-map-france-town.html#数据准备",
    "href": "Hiplot/103-map-france-town.html#数据准备",
    "title": "法国地图 (镇)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-france-town/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-france-town/france_town.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$name)]\n\n# 查看数据\nhead(data)\n\n                   name value\n1           Bischwiller   669\n2              Haguenau   935\n3 Niederbronn-les-Bains   356\n4              Molsheim   199\n5               Rosheim   971\n6                Saales   532",
    "crumbs": [
      "HIPLOT",
      "France Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/103-map-france-town.html#可视化",
    "href": "Hiplot/103-map-france-town.html#可视化",
    "title": "法国地图 (镇)",
    "section": "可视化",
    "text": "可视化\n\n# 法国地图 (镇)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"France Map\")\n\np\n\n\n\n\n\n\n\n图 1: 法国地图 (镇)",
    "crumbs": [
      "HIPLOT",
      "France Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/146-pyramid-stack.html",
    "href": "Hiplot/146-pyramid-stack.html",
    "title": "金字塔堆叠图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pyramid Stack 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pyramid-stack?lang=zh_cn\n金字塔堆叠图可以用于展示年龄组多变量。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack"
    ]
  },
  {
    "objectID": "Hiplot/146-pyramid-stack.html#环境配置",
    "href": "Hiplot/146-pyramid-stack.html#环境配置",
    "title": "金字塔堆叠图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack"
    ]
  },
  {
    "objectID": "Hiplot/146-pyramid-stack.html#数据准备",
    "href": "Hiplot/146-pyramid-stack.html#数据准备",
    "title": "金字塔堆叠图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pyramid-stack/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[,3] &lt;- factor(data[,3], levels = unique(data[,3]))\ndata[,1] &lt;- factor(data[,1], levels = unique(data[,1]))\n\n# 查看数据\nhead(data)\n\n    age gender year       pop\n1   0-4   male 1950 171.85124\n2   5-9   male 1950 137.99242\n3 10-14   male 1950 133.27428\n4 15-19   male 1950 121.69274\n5 20-24   male 1950 112.39438\n6 25-29   male 1950  96.59408",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack"
    ]
  },
  {
    "objectID": "Hiplot/146-pyramid-stack.html#可视化",
    "href": "Hiplot/146-pyramid-stack.html#可视化",
    "title": "金字塔堆叠图",
    "section": "可视化",
    "text": "可视化\n\n# 金字塔堆叠图\np &lt;- ggplot(data = data, aes(x = age, y = pop, fill = year)) +\n  geom_bar(data = data %&gt;% filter(gender == \"female\") %&gt;% arrange(rev(year)),\n           stat = \"identity\", position = \"identity\") +\n  geom_bar(data = data %&gt;% filter(gender == \"male\") %&gt;% arrange(rev(year)),\n           stat = \"identity\", position = \"identity\", mapping = aes(y = -pop)) +\n  coord_flip() +\n  geom_hline(yintercept = 0) +\n  scale_fill_economist() +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  labs(y = \"pop | male (left) - female (right)\", x= \"\") +\n  theme_economist(horizontal = FALSE) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"top\",\n        legend.direction = \"horizontal\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank())\n\np\n\n\n\n\n\n\n\n图 1: 金字塔堆叠图",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack"
    ]
  },
  {
    "objectID": "Hiplot/143-pseudo-enhanced-ma.html",
    "href": "Hiplot/143-pseudo-enhanced-ma.html",
    "title": "MA 图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot EnhancedMA 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pseudo-enhanced-ma?lang=zh_cn\n差异表达基因可视化。",
    "crumbs": [
      "HIPLOT",
      "EnhancedMA"
    ]
  },
  {
    "objectID": "Hiplot/143-pseudo-enhanced-ma.html#环境配置",
    "href": "Hiplot/143-pseudo-enhanced-ma.html#环境配置",
    "title": "MA 图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; EnhancedVolcano\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"EnhancedVolcano\", quietly = TRUE)) {\n  install_github('kevinblighe/EnhancedVolcano')\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(EnhancedVolcano)",
    "crumbs": [
      "HIPLOT",
      "EnhancedMA"
    ]
  },
  {
    "objectID": "Hiplot/143-pseudo-enhanced-ma.html#数据准备",
    "href": "Hiplot/143-pseudo-enhanced-ma.html#数据准备",
    "title": "MA 图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pseudo-enhanced-ma/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nrow.names(data) &lt;- data[,1]\ndata &lt;- data[,-1]\ndata$baseMeanNew &lt;- 1 / (10^log(data$baseMean + 1))\n\n# 查看数据\nhead(data)\n\n              baseMean log2FoldChange      lfcSE       stat       pvalue\nCOL6A3    8.494143e+04    -0.34453583 0.07607842 -4.5305972 5.881720e-06\nZNF157    2.456747e+00    -0.42976616 0.33693867 -1.2957785 1.950518e-01\nRPL23P11  0.000000e+00             NA         NA         NA           NA\nSCARNA10  4.406548e-01    -0.05657159 0.15265730 -0.2329492 8.158009e-01\nRNU6-857P 0.000000e+00             NA         NA         NA           NA\nTOPORS    5.331777e+02     0.10709656 0.12572643  0.8549637 3.925712e-01\n                  padj  baseMeanNew\nCOL6A3    6.207728e-05 4.469624e-12\nZNF157              NA 5.750056e-02\nRPL23P11            NA 1.000000e+00\nSCARNA10            NA 4.314220e-01\nRNU6-857P           NA 1.000000e+00\nTOPORS    6.148749e-01 5.239278e-07",
    "crumbs": [
      "HIPLOT",
      "EnhancedMA"
    ]
  },
  {
    "objectID": "Hiplot/143-pseudo-enhanced-ma.html#可视化",
    "href": "Hiplot/143-pseudo-enhanced-ma.html#可视化",
    "title": "MA 图",
    "section": "可视化",
    "text": "可视化\n\n# MA 图\np &lt;- EnhancedVolcano(\n  data, lab = rownames(data), title = \"MA plot\", subtitle = \"EnhancedMA\",\n  x = 'log2FoldChange', y = 'baseMeanNew', xlab = bquote(~Log[2]~ 'fold change'),\n  ylab = bquote(~Log[e]~ 'base mean + 1'), ylim = c(0,12),\n  pCutoff = as.numeric(1e-05), FCcutoff = 1, pointSize = 3.5,\n  labSize = 4, boxedLabels = T, colAlpha = 1,\n  legendLabels = c('NS', expression(Log[2]~FC),\n                   'Mean expression', \n                   expression(Mean-expression~and~log[2]~FC)),\n  legendPosition = \"bottom\", legendLabSize = 16, legendIconSize = 4.0,\n  encircleCol = 'black', encircleSize = 2.5, encircleFill = 'pink',\n  encircleAlpha = 1/2) + \n  coord_flip() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: MA 图",
    "crumbs": [
      "HIPLOT",
      "EnhancedMA"
    ]
  },
  {
    "objectID": "Hiplot/099-map-china-county.html",
    "href": "Hiplot/099-map-china-county.html",
    "title": "中国地图 (县)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot China Map (County) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-china-county?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "China Map (County)"
    ]
  },
  {
    "objectID": "Hiplot/099-map-china-county.html#环境配置",
    "href": "Hiplot/099-map-china-county.html#环境配置",
    "title": "中国地图 (县)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "China Map (County)"
    ]
  },
  {
    "objectID": "Hiplot/099-map-china-county.html#数据准备",
    "href": "Hiplot/099-map-china-county.html#数据准备",
    "title": "中国地图 (县)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-china-county/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-china-county/china.county.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$county, data$name)]\n\n# 查看数据\nhead(data)\n\n      name value\n1   东城区   739\n2   西城区   536\n3   朝阳区   138\n4   丰台区   561\n5 石景山区   345\n6   海淀区   898",
    "crumbs": [
      "HIPLOT",
      "China Map (County)"
    ]
  },
  {
    "objectID": "Hiplot/099-map-china-county.html#可视化",
    "href": "Hiplot/099-map-china-county.html#可视化",
    "title": "中国地图 (县)",
    "section": "可视化",
    "text": "可视化\n\n# 中国地图 (县)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"China City Map\")\n\np\n\n\n\n\n\n\n\n图 1: 中国地图 (县)",
    "crumbs": [
      "HIPLOT",
      "China Map (County)"
    ]
  },
  {
    "objectID": "Hiplot/079-gocircle.html",
    "href": "Hiplot/079-gocircle.html",
    "title": "GO圈图",
    "section": "",
    "text": "GO圈图用于显示圆图结合了基因表达和基因注释富集数据。术语的子集与GOBar图一起显示与基因表达数据的散点图结合使用。整个图都在特定的坐标系上绘制，以实现圆形布局。该段标记为术语ID。",
    "crumbs": [
      "HIPLOT",
      "GOCircle Plot"
    ]
  },
  {
    "objectID": "Hiplot/079-gocircle.html#环境配置",
    "href": "Hiplot/079-gocircle.html#环境配置",
    "title": "GO圈图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GOplot; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GOplot\", quietly = TRUE)) {\n  install.packages(\"GOplot\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GOplot)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "GOCircle Plot"
    ]
  },
  {
    "objectID": "Hiplot/079-gocircle.html#数据准备",
    "href": "Hiplot/079-gocircle.html#数据准备",
    "title": "GO圈图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据是具有七个列的GO富集的结果：category, GO id, GO term, gene count, gene name, logFC, adjust pvalue and zscore。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gocircle/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"category\",\"ID\",\"term\",\"count\",\"genes\",\"logFC\",\"adj_pval\",\"zscore\")\ndata &lt;- data[!is.na(data$adj_pval),]\ndata$adj_pval &lt;- as.numeric(data$adj_pval)\ndata$zscore &lt;- as.numeric(data$zscore)\ndata$count &lt;- as.numeric(data$count)\n\n# 查看数据\nhead(data)\n\n  category         ID              term count  genes      logFC adj_pval\n1       BP GO:0007507 heart development    54   DLC1 -0.9707875 2.17e-06\n2       BP GO:0007507 heart development    54   NRP2 -1.5153173 2.17e-06\n3       BP GO:0007507 heart development    54   NRP1 -1.1412315 2.17e-06\n4       BP GO:0007507 heart development    54   EDN1  1.3813006 2.17e-06\n5       BP GO:0007507 heart development    54 PDLIM3 -0.8876939 2.17e-06\n6       BP GO:0007507 heart development    54   GJA1 -0.8179480 2.17e-06\n      zscore\n1 -0.8164966\n2 -0.8164966\n3 -0.8164966\n4 -0.8164966\n5 -0.8164966\n6 -0.8164966",
    "crumbs": [
      "HIPLOT",
      "GOCircle Plot"
    ]
  },
  {
    "objectID": "Hiplot/079-gocircle.html#可视化",
    "href": "Hiplot/079-gocircle.html#可视化",
    "title": "GO圈图",
    "section": "可视化",
    "text": "可视化\n\n# GO圈图\np &lt;- function () {\n  GOCircle(data, title = \"GO Enrichment Circleplot\",\n           nsub = 10, rad1 = 2, rad2 = 3, table.legend = T, label.size = 5,\n           zsc.col = c(\"#FC8D59\",\"#FFFFBF\",\"#99D594\")) + \n    theme(plot.title = element_text(hjust = 0.5))\n}\np &lt;- as.ggplot(p)\n\np\n\n\n\n\n\n\n\n图 1: GO圈图\n\n\n\n\n\n如示例图所示，外圈显示了分配基因的logFC的每个项的散点图。默认情况下，红色圆圈显示上调和蓝色的下调。",
    "crumbs": [
      "HIPLOT",
      "GOCircle Plot"
    ]
  },
  {
    "objectID": "Hiplot/117-map-world2.html",
    "href": "Hiplot/117-map-world2.html",
    "title": "世界地图 2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot World Map 2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-world2?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "World Map 2"
    ]
  },
  {
    "objectID": "Hiplot/117-map-world2.html#环境配置",
    "href": "Hiplot/117-map-world2.html#环境配置",
    "title": "世界地图 2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "World Map 2"
    ]
  },
  {
    "objectID": "Hiplot/117-map-world2.html#数据准备",
    "href": "Hiplot/117-map-world2.html#数据准备",
    "title": "世界地图 2",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-world2/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-world/world.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$death_rate[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n          region death_rate\n1    Afghanistan       13.4\n2        Albania        6.8\n3        Algeria        4.3\n4 American Samoa        5.9\n5        Andorra        7.3\n6         Angola        9.2",
    "crumbs": [
      "HIPLOT",
      "World Map 2"
    ]
  },
  {
    "objectID": "Hiplot/117-map-world2.html#可视化",
    "href": "Hiplot/117-map-world2.html#可视化",
    "title": "世界地图 2",
    "section": "可视化",
    "text": "可视化\n\n# 世界地图 2\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(round(min(dt_map$Value)), round(max(dt_map$Value)), \n                 round((max(dt_map$Value)-min(dt_map$Value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"World Map\")\n\np\n\n\n\n\n\n\n\n图 1: 世界地图 2",
    "crumbs": [
      "HIPLOT",
      "World Map 2"
    ]
  },
  {
    "objectID": "Hiplot/044-diy-gsea.html",
    "href": "Hiplot/044-diy-gsea.html",
    "title": "自定义基因富集分析",
    "section": "",
    "text": "自定义基因集。",
    "crumbs": [
      "HIPLOT",
      "DIY GSEA"
    ]
  },
  {
    "objectID": "Hiplot/044-diy-gsea.html#环境配置",
    "href": "Hiplot/044-diy-gsea.html#环境配置",
    "title": "自定义基因富集分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; clusterProfiler\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"clusterProfiler\", quietly = TRUE)) {\n  install_github(\"YuLab-SMU/clusterProfiler\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(clusterProfiler)",
    "crumbs": [
      "HIPLOT",
      "DIY GSEA"
    ]
  },
  {
    "objectID": "Hiplot/044-diy-gsea.html#数据准备",
    "href": "Hiplot/044-diy-gsea.html#数据准备",
    "title": "自定义基因富集分析",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/diy-gsea/data.json\")$exampleData$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/diy-gsea/data.json\")$exampleData$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\ndata1[,2] &lt;- as.numeric(data1[,2])\ngeneList &lt;- data1[,2]\nnames(geneList) &lt;- data1[,1]\ngeneList &lt;- sort(geneList, decreasing = TRUE)\nterm &lt;- data.frame(term=data2[,1], gene=data2[,2])\n\n# 查看数据\nhead(term)\n\n                         term   gene\n1 GO_ADAPTIVE_IMMUNE_RESPONSE ADAM17\n2 GO_ADAPTIVE_IMMUNE_RESPONSE  AICDA\n3 GO_ADAPTIVE_IMMUNE_RESPONSE  ALCAM\n4 GO_ADAPTIVE_IMMUNE_RESPONSE  ANXA1\n5 GO_ADAPTIVE_IMMUNE_RESPONSE   BATF\n6 GO_ADAPTIVE_IMMUNE_RESPONSE  BCL10",
    "crumbs": [
      "HIPLOT",
      "DIY GSEA"
    ]
  },
  {
    "objectID": "Hiplot/044-diy-gsea.html#可视化",
    "href": "Hiplot/044-diy-gsea.html#可视化",
    "title": "自定义基因富集分析",
    "section": "可视化",
    "text": "可视化\n\n# 自定义基因富集分析\ny &lt;- clusterProfiler::GSEA(geneList, TERM2GENE = term, pvalueCutoff = 1)\np &lt;- gseaplot(\n  y,\n  y@result$Description[1],\n  color = \"#000000\",\n  by = \"runningScore\",\n  color.line = \"#4CAF50\",\n  color.vline= \"#FA5860\",\n  title = \"DIY GSEA Plot\",\n  )\n\np\n\n\n\n\n\n\n\n图 1: 自定义基因富集分析",
    "crumbs": [
      "HIPLOT",
      "DIY GSEA"
    ]
  },
  {
    "objectID": "Hiplot/107-map-germany.html",
    "href": "Hiplot/107-map-germany.html",
    "title": "德国地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Germany Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-germany?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Germany Map"
    ]
  },
  {
    "objectID": "Hiplot/107-map-germany.html#环境配置",
    "href": "Hiplot/107-map-germany.html#环境配置",
    "title": "德国地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Germany Map"
    ]
  },
  {
    "objectID": "Hiplot/107-map-germany.html#数据准备",
    "href": "Hiplot/107-map-germany.html#数据准备",
    "title": "德国地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-germany/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-germany/germany.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$name)]\n\n# 查看数据\nhead(data)\n\n               name value\n1 Baden-Württemberg   334\n2            Bayern   562\n3            Berlin   980\n4       Brandenburg   577\n5            Bremen    54\n6           Hamburg   528",
    "crumbs": [
      "HIPLOT",
      "Germany Map"
    ]
  },
  {
    "objectID": "Hiplot/107-map-germany.html#可视化",
    "href": "Hiplot/107-map-germany.html#可视化",
    "title": "德国地图",
    "section": "可视化",
    "text": "可视化\n\n# 德国地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Germany Map\")\n\np\n\n\n\n\n\n\n\n图 1: 德国地图",
    "crumbs": [
      "HIPLOT",
      "Germany Map"
    ]
  },
  {
    "objectID": "Hiplot/065-ggdag.html",
    "href": "Hiplot/065-ggdag.html",
    "title": "有向无环图",
    "section": "",
    "text": "有向无环图可视化。",
    "crumbs": [
      "HIPLOT",
      "Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "Hiplot/065-ggdag.html#环境配置",
    "href": "Hiplot/065-ggdag.html#环境配置",
    "title": "有向无环图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: ggdag\n\n\n# 安装包\nif (!requireNamespace(\"ggdag\", quietly = TRUE)) {\n  install.packages(\"ggdag\")\n}\n\n# 加载包\nlibrary(ggdag)",
    "crumbs": [
      "HIPLOT",
      "Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "Hiplot/065-ggdag.html#数据准备",
    "href": "Hiplot/065-ggdag.html#数据准备",
    "title": "有向无环图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ntidy_ggdag &lt;- dagify(\n  y ~ x + z2 + w2 + w1,\n  x ~ z1 + w1 + w2,\n  z1 ~ w1 + v,\n  z2 ~ w2 + v,\n  w1 ~ ~w2, # bidirected path\n  exposure = \"x\",\n  outcome = \"y\") %&gt;%\n  tidy_dagitty()\n\n# 查看数据\nhead(tidy_ggdag)\n\n$data\n# A tibble: 13 × 8\n   name        x       y direction to      xend    yend circular\n   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;     &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;   \n 1 v     -0.0318 -0.439  -&gt;        z1     0.863 -1.53   FALSE   \n 2 v     -0.0318 -0.439  -&gt;        z2     1.05   0.482  FALSE   \n 3 w1     2.34   -1.24   -&gt;        x      1.74  -1.07   FALSE   \n 4 w1     2.34   -1.24   -&gt;        y      1.82  -0.139  FALSE   \n 5 w1     2.34   -1.24   -&gt;        z1     0.863 -1.53   FALSE   \n 6 w1     2.34   -1.24   &lt;-&gt;       w2     2.45  -0.0573 FALSE   \n 7 w2     2.45   -0.0573 -&gt;        x      1.74  -1.07   FALSE   \n 8 w2     2.45   -0.0573 -&gt;        y      1.82  -0.139  FALSE   \n 9 w2     2.45   -0.0573 -&gt;        z2     1.05   0.482  FALSE   \n10 x      1.74   -1.07   -&gt;        y      1.82  -0.139  FALSE   \n11 y      1.82   -0.139  &lt;NA&gt;      &lt;NA&gt;  NA     NA      FALSE   \n12 z1     0.863  -1.53   -&gt;        x      1.74  -1.07   FALSE   \n13 z2     1.05    0.482  -&gt;        y      1.82  -0.139  FALSE   \n\n$dag\ndag {\nv\nw1\nw2\nx [exposure]\ny [outcome]\nz1\nz2\nv -&gt; z1\nv -&gt; z2\nw1 -&gt; x\nw1 -&gt; y\nw1 -&gt; z1\nw1 &lt;-&gt; w2\nw2 -&gt; x\nw2 -&gt; y\nw2 -&gt; z2\nx -&gt; y\nz1 -&gt; x\nz2 -&gt; y\n}",
    "crumbs": [
      "HIPLOT",
      "Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "Hiplot/065-ggdag.html#可视化",
    "href": "Hiplot/065-ggdag.html#可视化",
    "title": "有向无环图",
    "section": "可视化",
    "text": "可视化\n\n# 有向无环图\np &lt;- ggdag(tidy_ggdag) +\n  theme_dag() \n\np\n\n\n\n\n\n\n\n图 1: 有向无环图",
    "crumbs": [
      "HIPLOT",
      "Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "Hiplot/026-connected-scatterplot.html",
    "href": "Hiplot/026-connected-scatterplot.html",
    "title": "连接散点图",
    "section": "",
    "text": "连接散点图",
    "crumbs": [
      "HIPLOT",
      "Connected Scatterplot"
    ]
  },
  {
    "objectID": "Hiplot/026-connected-scatterplot.html#环境配置",
    "href": "Hiplot/026-connected-scatterplot.html#环境配置",
    "title": "连接散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr; ggrepel\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"ggrepel\", quietly = TRUE)) {\n  install.packages(\"ggrepel\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggrepel)",
    "crumbs": [
      "HIPLOT",
      "Connected Scatterplot"
    ]
  },
  {
    "objectID": "Hiplot/026-connected-scatterplot.html#数据准备",
    "href": "Hiplot/026-connected-scatterplot.html#数据准备",
    "title": "连接散点图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/connected-scatterplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  year Alice Anna\n1 1991   724 7118\n2 1992   686 6846\n3 1993   684 6808\n4 1994   595 7523\n5 1995   579 8564\n6 1996   593 8565",
    "crumbs": [
      "HIPLOT",
      "Connected Scatterplot"
    ]
  },
  {
    "objectID": "Hiplot/026-connected-scatterplot.html#可视化",
    "href": "Hiplot/026-connected-scatterplot.html#可视化",
    "title": "连接散点图",
    "section": "可视化",
    "text": "可视化\n\n# 连接散点图\nconnected_scatterplot &lt;- function(data, x, y, label, label_ratio, line_color, arrow_size, label_size) {\n\n  draw_data &lt;- data.frame(\n    x = data[[x]],\n    y = data[[y]],\n    label = data[[label]]\n  )\n\n  add_label_data &lt;- draw_data %&gt;% sample_frac(label_ratio)\n  rm(data)\n\n  p &lt;- ggplot(draw_data, aes(x = x, y = y, label = label)) +\n    geom_point(color = line_color) +\n    geom_text_repel(data = add_label_data, size = label_size) +\n    geom_segment(\n      color = line_color,\n      aes(\n        xend = c(tail(x, n = -1), NA),\n        yend = c(tail(y, n = -1), NA)\n      ),\n      arrow = arrow(length = unit(arrow_size, \"mm\"))\n    )\n\n  return(p)\n}\n\np &lt;- connected_scatterplot(\n  data = if (exists(\"data\") && is.data.frame(data)) data else \"\",\n  x = \"Alice\",\n  y = \"Anna\",\n  label = \"year\",\n  label_ratio = 0.5,\n  line_color = \"#1A237E\",\n  arrow_size = 2,\n  label_size = 2.5\n) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 连接散点图",
    "crumbs": [
      "HIPLOT",
      "Connected Scatterplot"
    ]
  },
  {
    "objectID": "Hiplot/046-dotchart.html",
    "href": "Hiplot/046-dotchart.html",
    "title": "滑珠图",
    "section": "",
    "text": "滑珠图是一种珠子在柱上滑行的图形，是条形图与散点图的叠加。",
    "crumbs": [
      "HIPLOT",
      "Dotchart"
    ]
  },
  {
    "objectID": "Hiplot/046-dotchart.html#环境配置",
    "href": "Hiplot/046-dotchart.html#环境配置",
    "title": "滑珠图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Dotchart"
    ]
  },
  {
    "objectID": "Hiplot/046-dotchart.html#数据准备",
    "href": "Hiplot/046-dotchart.html#数据准备",
    "title": "滑珠图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为基因名称及其对应的基因表达值和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/dotchart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n      Name Value  Group\n1     BMP2  18.7 Group1\n2     XIST  14.3 Group1\n3 C19orf38  16.4 Group1\n4    PDZD3  17.3 Group1\n5   MAPRE2  15.2 Group1\n6     IRF4  10.4 Group1",
    "crumbs": [
      "HIPLOT",
      "Dotchart"
    ]
  },
  {
    "objectID": "Hiplot/046-dotchart.html#可视化",
    "href": "Hiplot/046-dotchart.html#可视化",
    "title": "滑珠图",
    "section": "可视化",
    "text": "可视化\n\n# 滑珠图\np &lt;- ggdotchart(data, x = \"Name\", y = \"Value\", group = \"Group\", color = \"Group\",\n                rotate = T, sorting = \"descending\",\n                y.text.col = F, add = \"segments\", dot.size = 2) +\n  xlab(\"Name\") +\n  ylab(\"Value\") +\n  ggtitle(\"DotChart Plot\") +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_classic() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 滑珠图\n\n\n\n\n\n每种颜色表示不同的分组，能够直观了解不同基因表达值的差异。",
    "crumbs": [
      "HIPLOT",
      "Dotchart"
    ]
  },
  {
    "objectID": "Hiplot/003-barplot-3d.html",
    "href": "Hiplot/003-barplot-3d.html",
    "title": "三维柱状图",
    "section": "",
    "text": "三维柱状图用于为数据提供三维外观。第三维通常出于美学原因而使用，但其不能改善数据的读取。仍旨在显示离散类别之间的比较。",
    "crumbs": [
      "HIPLOT",
      "3D Barplot"
    ]
  },
  {
    "objectID": "Hiplot/003-barplot-3d.html#环境配置",
    "href": "Hiplot/003-barplot-3d.html#环境配置",
    "title": "三维柱状图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plot3D; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plot3D\", quietly = TRUE)) {\n  install.packages(\"plot3D\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plot3D)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "3D Barplot"
    ]
  },
  {
    "objectID": "Hiplot/003-barplot-3d.html#数据准备",
    "href": "Hiplot/003-barplot-3d.html#数据准备",
    "title": "三维柱状图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同治疗方案中不同剂量药物作用效果数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-3d/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 将数据向量转换为矩阵\nmat &lt;- matrix(rep(1, nrow(data)), nrow = length(unique(data[, 2])))\nrownames(mat) &lt;- unique(data[, 2])\ncolnames(mat) &lt;- unique(data[, 3])\nfor (i in 1:nrow(mat)) {\n  for (j in seq_len(ncol(mat))) {\n    mat[i, j] &lt;- data[, 1][data[, 2] == rownames(mat)[i] &\n      data[, 3] == colnames(mat)[j]]\n  }\n}\n\n# 查看数据\nmat\n\n       high mid low\nGroup1   13  25   5\nGroup2   34   8  25\nGroup3   21  17  12\nGroup4   43  10  19",
    "crumbs": [
      "HIPLOT",
      "3D Barplot"
    ]
  },
  {
    "objectID": "Hiplot/003-barplot-3d.html#可视化",
    "href": "Hiplot/003-barplot-3d.html#可视化",
    "title": "三维柱状图",
    "section": "可视化",
    "text": "可视化\n\n# 三维柱状图\np &lt;- as.ggplot(function() {\n  hist3D(\n    x = 1:nrow(mat), y = seq_len(ncol(mat)), z = mat,\n    bty = \"g\", phi = 20,\n    theta = -55,\n    xlab = colnames(data)[2],\n    ylab = colnames(data)[3], zlab = colnames(data)[1],\n    main = \"3D Bar Plot\", colkey = F,\n    border = \"black\", shade = 0.8, axes = T,\n    ticktype = \"detailed\", space = 0.3, d = 2, cex.axis = 0.3,\n    colvar = as.numeric(as.factor(data[, 2])), alpha = 1,\n    col = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")\n  )\n\n  # 使用 text3D 标记 x 轴\n  text3D(\n    x = 1:nrow(mat), y = rep(0.5, nrow(mat)), z = rep(3, nrow(mat)),\n    labels = rownames(mat),\n    add = TRUE, adj = 0, cex = 0.8\n  )\n  # 使用 text3D 标记 y 轴\n  text3D(\n    x = rep(1, ncol(mat)), y = seq_len(ncol(mat)), z = rep(0, ncol(mat)),\n    labels = colnames(mat), bty = \"g\",\n    add = TRUE, adj = 1, cex = 0.8\n  )\n})\n\np\n\n\n\n\n\n\n\n图 1: 三维柱状图\n\n\n\n\n\n该三维柱状图展示了不同治疗组（组 1 ~ 组 4）分别用低、中、高剂量进行治疗时，不同的治疗效果。组 1 使用中剂量治疗时效果最好，组 2 使用高剂量治疗时效果最好，组3使用剂量治疗时无较大差距，组 4 使用高剂量治疗时效果最好。\n\n\n\n\n\n\n提示\n\n\n\n特殊参数: \n\nPhi: 正值越大，表示趋于从三维图形顶端向下观测；负值越大，表示趋于从三维图形底端向上观测。\nTheta: 三维图形水平旋转的角度。",
    "crumbs": [
      "HIPLOT",
      "3D Barplot"
    ]
  },
  {
    "objectID": "Hiplot/113-map-uk.html",
    "href": "Hiplot/113-map-uk.html",
    "title": "英国地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot UK Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-uk?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/113-map-uk.html#环境配置",
    "href": "Hiplot/113-map-uk.html#环境配置",
    "title": "英国地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/113-map-uk.html#数据准备",
    "href": "Hiplot/113-map-uk.html#数据准备",
    "title": "英国地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-uk/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-uk/uk.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$name, data$name)]\n\n# 查看数据\nhead(data)\n\n              name value\n1 Northern Ireland   691\n2         Scotland   455\n3          England   530\n4            Wales   767",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/113-map-uk.html#可视化",
    "href": "Hiplot/113-map-uk.html#可视化",
    "title": "英国地图",
    "section": "可视化",
    "text": "可视化\n\n# 英国地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"UK Map\")\n\np\n\n\n\n\n\n\n\n图 1: 英国地图",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/120-meta-cont.html",
    "href": "Hiplot/120-meta-cont.html",
    "title": "连续变量 Meta 分析",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Meta-analysis of Continuous Data 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/meta-cont?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Continuous Data"
    ]
  },
  {
    "objectID": "Hiplot/120-meta-cont.html#环境配置",
    "href": "Hiplot/120-meta-cont.html#环境配置",
    "title": "连续变量 Meta 分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; meta; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"meta\", quietly = TRUE)) {\n  install.packages(\"meta\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(meta)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Continuous Data"
    ]
  },
  {
    "objectID": "Hiplot/120-meta-cont.html#数据准备",
    "href": "Hiplot/120-meta-cont.html#数据准备",
    "title": "连续变量 Meta 分析",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/meta-cont/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nm1 &lt;- metacont(n.e, mean.e, sd.e, n.c, mean.c, sd.c, studlab = Study, data = data,\n              sm = \"SMD\")\n\n# 查看数据\nhead(data)\n\n  Study n.e mean.e sd.e n.c mean.c  sd.c\n1     A  13    5.0 4.70  13   6.50  3.80\n2     B  30    4.9 1.71  50   6.10  2.30\n3     C  35   22.5 3.44  35  24.90 10.65\n4     D  20   12.5 1.47  20  12.30  1.66\n5     E   8    6.5 0.76   8   7.38  1.41",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Continuous Data"
    ]
  },
  {
    "objectID": "Hiplot/120-meta-cont.html#可视化",
    "href": "Hiplot/120-meta-cont.html#可视化",
    "title": "连续变量 Meta 分析",
    "section": "可视化",
    "text": "可视化\n\n# 连续变量 Meta 分析\np &lt;- as.ggplot(function(){\n  meta::forest(m1, layout = \"meta\")\n  })\n\np\n\n\n\n\n\n\n\n图 1: 连续变量 Meta 分析",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Continuous Data"
    ]
  },
  {
    "objectID": "Hiplot/061-gene-rank.html",
    "href": "Hiplot/061-gene-rank.html",
    "title": "基因差异表达排序图",
    "section": "",
    "text": "基因表达排序可视化。",
    "crumbs": [
      "HIPLOT",
      "Gene Ranking Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/061-gene-rank.html#环境配置",
    "href": "Hiplot/061-gene-rank.html#环境配置",
    "title": "基因差异表达排序图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggrepel; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggrepel\", quietly = TRUE)) {\n  install.packages(\"ggrepel\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggrepel)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Gene Ranking Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/061-gene-rank.html#数据准备",
    "href": "Hiplot/061-gene-rank.html#数据准备",
    "title": "基因差异表达排序图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gene-rank/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\n## 按 log2FoldChange 和 pvalue 排序\ndata &lt;- data[order(-data$log2FC, data$pvalue), ]\n## 添加 rank 列\ndata$rank &lt;- 1:nrow(data)\n## 获取 top n 上调和下调基因进行标记\ntop_n &lt;- 5\ntop_n_up &lt;- rownames(head(data, top_n))\ntop_n_down &lt;- rownames(tail(data, top_n))\ngenes_to_label &lt;- c(top_n_up, top_n_down)\ndata2 &lt;- data[genes_to_label, ]\n\n\n# 查看数据\nhead(data)\n\n        gene   log2FC       pvalue rank\n514 LOC91370 3.889820 8.478310e-03    1\n293   LRRC25 3.492413 5.000000e-05    2\n470   BEGAIN 3.312996 3.347634e-03    3\n159   RDM1P5 3.125070 1.538852e-02    4\n194    CLDN1 3.096516 2.622163e-02    5\n626    KCNS1 2.949729 2.770000e-09    6",
    "crumbs": [
      "HIPLOT",
      "Gene Ranking Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/061-gene-rank.html#可视化",
    "href": "Hiplot/061-gene-rank.html#可视化",
    "title": "基因差异表达排序图",
    "section": "可视化",
    "text": "可视化\n\n# 基因差异表达排序图\np &lt;- \n  ggplot(data, aes(rank, log2FC, color = pvalue, size = abs(log2FC))) + \n  geom_point() + \n  scale_color_gradientn(colours = colorRampPalette(brewer.pal(11,'RdYlBu'))(100)) +\n  geom_hline(yintercept = c(-1, 1), linetype = 2, size = 0.3) +\n  geom_hline(yintercept = 0, linetype = 1, size = 0.5) +\n  geom_vline(xintercept = median(data$rank), linetype = 2, size = 0.3) + \n  geom_text_repel(data = data2, aes(rank, log2FC, label = gene),\n                  size = 3, color = \"red\") +\n  xlab(\"\") + ylab(\"\") + \n  ylim(c(-max(abs(data$log2FC)), max(abs(data$log2FC)))) +\n  labs(color = \"Pvalue\", size = \"Log2FoldChange\") +\n  theme_bw(base_size = 12) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 基因差异表达排序图",
    "crumbs": [
      "HIPLOT",
      "Gene Ranking Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/152-rcs-lrm.html",
    "href": "Hiplot/152-rcs-lrm.html",
    "title": "限制性立方样条模型",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot RCS-LRM 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/rcs-lrm?lang=zh_cn\n非线性回归分析。",
    "crumbs": [
      "HIPLOT",
      "RCS-LRM"
    ]
  },
  {
    "objectID": "Hiplot/152-rcs-lrm.html#环境配置",
    "href": "Hiplot/152-rcs-lrm.html#环境配置",
    "title": "限制性立方样条模型",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; rms; survival; ggplot2; stringr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"rms\", quietly = TRUE)) {\n  install.packages(\"rms\")\n}\nif (!requireNamespace(\"survival\", quietly = TRUE)) {\n  install.packages(\"survival\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(rms)\nlibrary(survival)\nlibrary(ggplot2)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "RCS-LRM"
    ]
  },
  {
    "objectID": "Hiplot/152-rcs-lrm.html#数据准备",
    "href": "Hiplot/152-rcs-lrm.html#数据准备",
    "title": "限制性立方样条模型",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/rcs-lrm/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- na.omit(data)\nex &lt;- set::not(colnames(data), c(\"main\", \"group\"))\nex &lt;- str_c(ex, collapse = \"+\")\ndd &lt;&lt;- datadist(data)\noptions(datadist = \"dd\")\nfor (i in 3:5) {\n  fit &lt;- lrm(as.formula(paste0(\"group~rcs(main,nk=i,inclx = T)+\", ex, collapse = \"+\")), data = data, x = TRUE)\n  tmp &lt;- AIC(fit)\n  if (i == 3) {\n    AIC &lt;- tmp\n    nk &lt;&lt;- 3\n  }\n  if (tmp &lt; AIC) {\n    AIC &lt;- tmp\n    nk &lt;&lt;- i\n  }\n}\nfit &lt;- lrm(as.formula(paste0(\"group~rcs(main,nk=nk,inclx = T)+\", ex, collapse = \"+\")), data = data, x = TRUE)\ndd$limits$main[2] &lt;- median(data$main)\nfit &lt;- update(fit)\norr &lt;- Predict(fit, main, fun = exp, ref.zero = TRUE)\n\n# 查看数据\nhead(data)\n\n  main   X2 X3 group\n1  100 0.90  0     1\n2   90 0.65  1     1\n3  400 1.36  0     1\n4  200 0.83  0     1\n5  300 1.38  0     1\n6  200 0.69  0     1",
    "crumbs": [
      "HIPLOT",
      "RCS-LRM"
    ]
  },
  {
    "objectID": "Hiplot/152-rcs-lrm.html#可视化",
    "href": "Hiplot/152-rcs-lrm.html#可视化",
    "title": "限制性立方样条模型",
    "section": "可视化",
    "text": "可视化\n\n# 限制性立方样条模型\np &lt;- ggplot() +\n  geom_line(data = orr, aes(main, yhat), linetype = \"solid\", size = 1, alpha = 1,\n            colour = \"#FF0000\") +\n  geom_ribbon(data = orr, aes(main, ymin = lower, ymax = upper), alpha = 0.6, \n              fill = \"#FFC0CB\") +\n  geom_hline(yintercept = 1, linetype = 2, size = 0.5) +\n  geom_vline(xintercept = dd$limits$main[2], linetype = 2, size = 0.5) +\n  labs(x = \"main\", y = \"Odds Ratio(95%CI)\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n \np\n\n\n\n\n\n\n\n图 1: 限制性立方样条模型",
    "crumbs": [
      "HIPLOT",
      "RCS-LRM"
    ]
  },
  {
    "objectID": "Hiplot/115-map-usa.html",
    "href": "Hiplot/115-map-usa.html",
    "title": "美国地图 (州)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot USA Map (States) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-usa?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "USA Map (States)"
    ]
  },
  {
    "objectID": "Hiplot/115-map-usa.html#环境配置",
    "href": "Hiplot/115-map-usa.html#环境配置",
    "title": "美国地图 (州)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "USA Map (States)"
    ]
  },
  {
    "objectID": "Hiplot/115-map-usa.html#数据准备",
    "href": "Hiplot/115-map-usa.html#数据准备",
    "title": "美国地图 (州)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-usa/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-usa/usa.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$state, data$name)]\n\n# 查看数据\nhead(data)\n\n          name value\n1   Washington   438\n2      Montana   103\n3        Maine   614\n4 North Dakota   256\n5 South Dakota   639\n6      Wyoming   599",
    "crumbs": [
      "HIPLOT",
      "USA Map (States)"
    ]
  },
  {
    "objectID": "Hiplot/115-map-usa.html#可视化",
    "href": "Hiplot/115-map-usa.html#可视化",
    "title": "美国地图 (州)",
    "section": "可视化",
    "text": "可视化\n\n# 美国地图 (州)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"USA Map\")\n\np\n\n\n\n\n\n\n\n图 1: 美国地图 (州)",
    "crumbs": [
      "HIPLOT",
      "USA Map (States)"
    ]
  },
  {
    "objectID": "Hiplot/060-gene-density.html",
    "href": "Hiplot/060-gene-density.html",
    "title": "基因密度图",
    "section": "",
    "text": "染色体数据展示。",
    "crumbs": [
      "HIPLOT",
      "Gene Density"
    ]
  },
  {
    "objectID": "Hiplot/060-gene-density.html#环境配置",
    "href": "Hiplot/060-gene-density.html#环境配置",
    "title": "基因密度图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; circlize; ComplexHeatmap; gtrellis; tidyverse; ggplotify; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"circlize\", quietly = TRUE)) {\n  install.packages(\"circlize\")\n}\nif (!requireNamespace(\"ComplexHeatmap\", quietly = TRUE)) {\n  install_github(\"jokergoo/ComplexHeatmap\")\n}\nif (!requireNamespace(\"gtrellis\", quietly = TRUE)) {\n  install_github(\"jokergoo/gtrellis\")\n}\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(circlize)\nlibrary(ComplexHeatmap)\nlibrary(gtrellis)\nlibrary(tidyverse)\nlibrary(ggplotify)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Gene Density"
    ]
  },
  {
    "objectID": "Hiplot/060-gene-density.html#数据准备",
    "href": "Hiplot/060-gene-density.html#数据准备",
    "title": "基因密度图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gene-density/data.json\")$exampleData$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gene-density/data.json\")$exampleData$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 整理数据格式\nchrNum &lt;- str_replace(unique(data1$chr), \"Chr|chr\", \"\")\ndata1$chr &lt;- factor(data1$chr, levels = paste0(\"Chr\", chrNum))\ndata2$chr &lt;- factor(data2$chr, levels = paste0(\"Chr\", chrNum))\n# 设置窗口计算基因密度\nwindows &lt;- 100 * 1000 # 默认:100kb\ngene_density &lt;- genomicDensity(data2, window.size = windows)\ngene_density$chr &lt;- factor(gene_density$chr,\n  levels =  paste0(\"Chr\", chrNum)\n)\n\n# 查看数据\nhead(data1)\n\n    chr start      end\n1  Chr5     0 29958434\n2  Chr8     0 28443022\n3  Chr9     0 23012720\n4 Chr10     0 23207287\n5 Chr12     0 27531856\n\nhead(data2)\n\n    chr start   end\n1 Chr10 38648 40060\n2 Chr10 45941 58338\n3 Chr10 67119 72971\n4 Chr10 75410 76305\n5 Chr10 80964 82250\n6 Chr10 94798 97746",
    "crumbs": [
      "HIPLOT",
      "Gene Density"
    ]
  },
  {
    "objectID": "Hiplot/060-gene-density.html#可视化",
    "href": "Hiplot/060-gene-density.html#可视化",
    "title": "基因密度图",
    "section": "可视化",
    "text": "可视化\n\n# 设置画板颜色\npalettes &lt;- c(\"#B2182B\",\"#EF8A62\",\"#FDDBC7\",\"#D1E5F0\",\"#67A9CF\",\"#2166AC\")\ncol_fun &lt;- colorRamp2(\n  seq(0, max(gene_density[[4]]), length = 6), rev(palettes)\n  )\ncm &lt;- ColorMapping(col_fun = col_fun)\n# 设置图例\nlgd &lt;- color_mapping_legend(\n  cm, plot = F, title = \"density\", color_bar = \"continuous\"\n  )\n# 绘制基因密度分布热图\np &lt;- as.ggplot(function() {\n  gtrellis_layout(\n    data1, n_track = 2, ncol = 1, byrow = FALSE,\n    track_axis = FALSE, add_name_track = FALSE,\n    xpadding = c(0.1, 0), gap = unit(1, \"mm\"),\n    track_height = unit.c(unit(1, \"null\"), unit(4, \"mm\")),\n    track_ylim = c(0, max(gene_density[[4]]), 0, 1),\n    border = FALSE, asist_ticks = FALSE,\n    legend = lgd\n    )\n  # 添加基因面积图 track\n  add_lines_track(gene_density, gene_density[[4]],\n                  area = TRUE, gp = gpar(fill = \"pink\"))\n  # 添加基因密度热图 track\n  add_heatmap_track(gene_density, gene_density[[4]], fill = col_fun)\n  add_track(track = 2, clip = FALSE, panel_fun = function(gr) {\n    chr &lt;- get_cell_meta_data(\"name\")\n    if (chr == paste(\"Chr\", length(chrNum), sep = \"\")) {\n      grid.lines(get_cell_meta_data(\"xlim\"), unit(c(0, 0), \"npc\"),\n                 default.units = \"native\")\n      }\n    grid.text(chr, x = 0.01, y = 0.38, just = c(\"left\", \"bottom\"))\n    })\n  circos.clear()\n  })\n\np\n\n\n\n\n\n\n\n图 1: 基因密度图",
    "crumbs": [
      "HIPLOT",
      "Gene Density"
    ]
  },
  {
    "objectID": "Hiplot/005-barplot-errorbar.html",
    "href": "Hiplot/005-barplot-errorbar.html",
    "title": "误差线柱状图",
    "section": "",
    "text": "带误差线和误差组的条形图。",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/005-barplot-errorbar.html#环境配置",
    "href": "Hiplot/005-barplot-errorbar.html#环境配置",
    "title": "误差线柱状图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; Rmisc; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"Rmisc\", quietly = TRUE)) {\n  install.packages(\"Rmisc\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(Rmisc)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/005-barplot-errorbar.html#数据准备",
    "href": "Hiplot/005-barplot-errorbar.html#数据准备",
    "title": "误差线柱状图",
    "section": "数据准备",
    "text": "数据准备\n数据表:\n第一列: (数值) Y 轴值。\n第二列: (数值或字符串) X 轴类别。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-errorbar/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\ndata_sd &lt;- summarySE(data, measurevar = colnames(data)[1], groupvars = colnames(data)[2])\n\n# 查看数据\nhead(data_sd)\n\n    class N score       sd       se       ci\n1    math 4 63.50 3.109126 1.554563 4.947314\n2 chinese 4 73.75 2.986079 1.493039 4.751518\n3 english 4 83.25 2.362908 1.181454 3.759914",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/005-barplot-errorbar.html#可视化",
    "href": "Hiplot/005-barplot-errorbar.html#可视化",
    "title": "误差线柱状图",
    "section": "可视化",
    "text": "可视化\n\n# 误差线柱状图\np &lt;- ggplot(data_sd, aes(x = data_sd[, 1], y = data_sd[, 3], fill = data_sd[, 1])) +\n  geom_bar(stat = \"identity\", color = \"black\", \n           position = position_dodge(), alpha = 1) +\n  geom_errorbar(aes(ymin = data_sd[, 3] - sd, ymax = data_sd[, 3] + sd),\n                width = 0.2,\n                position = position_dodge(0.9)) +\n  labs(title = \"Barplot (errorbar)\", x = colnames(data_sd)[1], \n       y = colnames(data_sd)[3], fill = colnames(data_sd)[1]) +\n  geom_jitter(data = data, aes(data[, 2], data[, 1], fill = data[, 2]), size = 2, fill = \"black\", pch = 19, width = 0.2) +\n  stat_compare_means(data = data, aes(data[, 2], data[, 1], fill = data[, 2]),\n                     label = \"p.format\", ref.group = \".all.\", vjust = 1, \n                     method = \"t.test\") +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")) +\n  theme_bw() +\n  ylim(0,100) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 误差线柱状图",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/157-rose-chart.html",
    "href": "Hiplot/157-rose-chart.html",
    "title": "玫瑰图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Rose Chart 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/rose-chart?lang=zh_cn\n玫瑰图是一种在极坐标下绘制的柱形图，使用圆弧的半径长短表示数据的大小。",
    "crumbs": [
      "HIPLOT",
      "Rose Chart"
    ]
  },
  {
    "objectID": "Hiplot/157-rose-chart.html#环境配置",
    "href": "Hiplot/157-rose-chart.html#环境配置",
    "title": "玫瑰图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Rose Chart"
    ]
  },
  {
    "objectID": "Hiplot/157-rose-chart.html#数据准备",
    "href": "Hiplot/157-rose-chart.html#数据准备",
    "title": "玫瑰图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为分为三列，第一列是样本名称，第二列为分组，第三列为样本对应的数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/rose-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n\n# 查看数据\nhead(data)\n\n    Sample       Group Freq\n1    Brain Upregulated  142\n2    Colon Upregulated  270\n3   Kidney Upregulated  108\n4 Pancreas Upregulated  194\n5     Skin Upregulated  189\n6   Testis Upregulated   97",
    "crumbs": [
      "HIPLOT",
      "Rose Chart"
    ]
  },
  {
    "objectID": "Hiplot/157-rose-chart.html#可视化",
    "href": "Hiplot/157-rose-chart.html#可视化",
    "title": "玫瑰图",
    "section": "可视化",
    "text": "可视化\n\n# 玫瑰图\np &lt;- ggplot(data, aes(x = Sample, y = Freq)) +\n  geom_col(aes(fill = Group), width = 0.9, size = 0, alpha = 0.8) +\n  coord_polar() +\n  ggtitle(\"Rose Chart\") +\n  scale_fill_manual(values = c(\"#E64B35FF\", \"#4DBBD5FF\")) +\n  theme_bw() +\n  theme(aspect.ratio = 1,\n        axis.text.x = element_text(colour = \"black\"),\n        axis.text.y = element_text(colour = \"black\"),\n        legend.title = element_blank(),\n        legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5))\n\np\n\n\n\n\n\n\n\n图 1: 玫瑰图\n\n\n\n\n\n案例数据中是使用scRNA-Seq对人类不同器官进行测序后，得到的不同器官上下调基因的分布情况。",
    "crumbs": [
      "HIPLOT",
      "Rose Chart"
    ]
  },
  {
    "objectID": "Hiplot/104-map-france.html",
    "href": "Hiplot/104-map-france.html",
    "title": "法国地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot France Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-france?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "France Map"
    ]
  },
  {
    "objectID": "Hiplot/104-map-france.html#环境配置",
    "href": "Hiplot/104-map-france.html#环境配置",
    "title": "法国地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "France Map"
    ]
  },
  {
    "objectID": "Hiplot/104-map-france.html#数据准备",
    "href": "Hiplot/104-map-france.html#数据准备",
    "title": "法国地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-france/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-france/france.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$name)]\n\n# 查看数据\nhead(data)\n\n            name value\n1       Bas-Rhin   338\n2      Haut-Rhin   353\n3       Dordogne   168\n4        Gironde   158\n5         Landes   221\n6 Lot-et-Garonne   658",
    "crumbs": [
      "HIPLOT",
      "France Map"
    ]
  },
  {
    "objectID": "Hiplot/104-map-france.html#可视化",
    "href": "Hiplot/104-map-france.html#可视化",
    "title": "法国地图",
    "section": "可视化",
    "text": "可视化\n\n# 法国地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"France Map\")\n\np\n\n\n\n\n\n\n\n图 1: 法国地图",
    "crumbs": [
      "HIPLOT",
      "France Map"
    ]
  },
  {
    "objectID": "Hiplot/147-pyramid-stack2.html",
    "href": "Hiplot/147-pyramid-stack2.html",
    "title": "金字塔堆叠图2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pyramid Stack2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pyramid-stack2?lang=zh_cn\n金字塔堆叠图可以用于展示年龄组多变量。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack2"
    ]
  },
  {
    "objectID": "Hiplot/147-pyramid-stack2.html#环境配置",
    "href": "Hiplot/147-pyramid-stack2.html#环境配置",
    "title": "金字塔堆叠图2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plotrix; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plotrix\", quietly = TRUE)) {\n  install.packages(\"plotrix\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plotrix)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack2"
    ]
  },
  {
    "objectID": "Hiplot/147-pyramid-stack2.html#数据准备",
    "href": "Hiplot/147-pyramid-stack2.html#数据准备",
    "title": "金字塔堆叠图2",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pyramid-stack2/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nagegrps &lt;- unique(data[,1])\nsplit_var &lt;- unique(data[,2])\ndat_left &lt;- as.matrix(data[data[,2] == split_var[1],-c(1,2)])\ndat_right &lt;- as.matrix(data[data[,2] == split_var[2],-c(1,2)])\n\n# 查看数据\nhead(data)\n\n  Month Year Class1 Class2 Class3 Class4\n1     1 2019      8    6.0      8    6.0\n2     2 2019      4    2.0      4    2.0\n3     3 2019      4    4.5      1    4.5\n4     4 2019      6    8.0      1    9.0\n5     5 2019      8    6.0      8    6.0\n6     6 2019      4    2.0      4    2.0",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack2"
    ]
  },
  {
    "objectID": "Hiplot/147-pyramid-stack2.html#可视化",
    "href": "Hiplot/147-pyramid-stack2.html#可视化",
    "title": "金字塔堆叠图2",
    "section": "可视化",
    "text": "可视化\n\n# 金字塔堆叠图2\np &lt;- as.ggplot(function() {\n  cols &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")\n  names(cols) &lt;- colnames(dat_left)\n  cols &lt;- cols[1:ncol(dat_left)]\n  pyramid.plot(dat_left, dat_right, labels = agegrps, unit = \"Value\",\n               lxcol = cols, rxcol = cols,\n               laxlab=as.numeric(c(0,10,20,30)), raxlab=as.numeric(c(0,10,20,30)),\n               top.labels=c(split_var[1], colnames(data)[1], split_var[2]),\n               gap=4, ppmar=c(4,2,4,7), do.first=\"plot_bg(\\\"#FFFFFF\\\")\")\n  mtext(\"Porridge temperature by age and sex of bear\", 3, 2, cex=1)\n  legend(\"right\", inset=c(-0.25,0), legend = colnames(dat_left), fill = cols)\n  })\n\n32 32 \n\np\n\n\n\n\n\n\n\n图 1: 金字塔堆叠图2",
    "crumbs": [
      "HIPLOT",
      "Pyramid Stack2"
    ]
  },
  {
    "objectID": "Hiplot/043-diverging-scale.html",
    "href": "Hiplot/043-diverging-scale.html",
    "title": "双侧标准化图",
    "section": "",
    "text": "双侧标准化图是一种将连续的，定量的输入映射到连续的固定的插值器上的图形。",
    "crumbs": [
      "HIPLOT",
      "Diverging Scale"
    ]
  },
  {
    "objectID": "Hiplot/043-diverging-scale.html#环境配置",
    "href": "Hiplot/043-diverging-scale.html#环境配置",
    "title": "双侧标准化图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggcharts\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggcharts\", quietly = TRUE)) {\n  install.packages(\"ggcharts\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggcharts)",
    "crumbs": [
      "HIPLOT",
      "Diverging Scale"
    ]
  },
  {
    "objectID": "Hiplot/043-diverging-scale.html#数据准备",
    "href": "Hiplot/043-diverging-scale.html#数据准备",
    "title": "双侧标准化图",
    "section": "数据准备",
    "text": "数据准备\n导入数据第一列为模型名称列表，其余列输入相关指标及对应数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/diverging-scale/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- dplyr::transmute(.data = data, x = model, y = scale(hp))\n\n# 查看数据\nhead(data)\n\n                  x          y\n1         Mazda RX4 -0.6130929\n2     Mazda RX4 Wag -0.6130929\n3        Datsun 710 -0.9123057\n4    Hornet 4 Drive -0.6130929\n5 Hornet Sportabout  0.5309561\n6           Valiant -0.7010967",
    "crumbs": [
      "HIPLOT",
      "Diverging Scale"
    ]
  },
  {
    "objectID": "Hiplot/043-diverging-scale.html#可视化",
    "href": "Hiplot/043-diverging-scale.html#可视化",
    "title": "双侧标准化图",
    "section": "可视化",
    "text": "可视化\n\n1.条形图\n\n# 双侧条形图\nfill_colors &lt;- c(\"#C20B01\", \"#196ABD\")\nfill_colors &lt;- fill_colors[c(any(data[, \"y\"] &gt; 0), any(data[, \"y\"] &lt; 0))]\np &lt;- diverging_bar_chart(data = data, x = x, y = y, bar_colors = fill_colors,\n                         text_color = '#000000') + \n  theme(axis.text.x = element_text(color = \"#000000\"),\n        axis.title.x = element_text(colour = \"#000000\"),\n        axis.title.y = element_text(colour = \"#000000\"),\n        plot.background = element_blank()) + \n  labs(x = \"model\", y = \"scale(hp)\", title = \"\")\n\np\n\n\n\n\n\n\n\n图 1: 双侧条形图\n\n\n\n\n\n图示横轴表示hp数据，纵轴表示模型名称（分类），红色表示超过平均值的模型，蓝色表示低于平均值的模型，数据是按照大小赋值于 2 的比例尺上面。\n\n\n2.棒棒糖图\n\n# 双侧棒棒糖图\nfill_colors &lt;- c(\"#C20B01\", \"#196ABD\")\nfill_colors &lt;- fill_colors[c(any(data[, \"y\"] &gt; 0), any(data[, \"y\"] &lt; 0))]\np &lt;- diverging_lollipop_chart(\n  data = data, x = x, y = y, lollipop_colors = fill_colors,\n  line_size = 0.3, point_size = 1.9, text_color = '#000000') + \n  theme(axis.text.x = element_text(color = \"#000000\"),\n        axis.title.x = element_text(colour = \"#000000\"),\n        axis.title.y = element_text(colour = \"#000000\"),\n        plot.background = element_blank()) + \n  labs(x = \"model\", y = \"scale(hp)\", title = \"\")\n\np\n\n\n\n\n\n\n\n图 2: 双侧棒棒糖图",
    "crumbs": [
      "HIPLOT",
      "Diverging Scale"
    ]
  },
  {
    "objectID": "Hiplot/004-barplot-color-group.html",
    "href": "Hiplot/004-barplot-color-group.html",
    "title": "颜色组柱状图",
    "section": "",
    "text": "颜色组柱状图可以用于分组展示数据值，并按顺序标注不同颜色。",
    "crumbs": [
      "HIPLOT",
      "Barplot Color Group"
    ]
  },
  {
    "objectID": "Hiplot/004-barplot-color-group.html#环境配置",
    "href": "Hiplot/004-barplot-color-group.html#环境配置",
    "title": "颜色组柱状图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plot3D; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plot3D\", quietly = TRUE)) {\n  install.packages(\"plot3D\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "Barplot Color Group"
    ]
  },
  {
    "objectID": "Hiplot/004-barplot-color-group.html#数据准备",
    "href": "Hiplot/004-barplot-color-group.html#数据准备",
    "title": "颜色组柱状图",
    "section": "数据准备",
    "text": "数据准备\n数据表格（三列）：\nTerm | 条目名称，如 GO/KEGG 通路名称\nCount | 条目的数值大小，如某通路富集到的基因数\nType | 该通路所属大类：如 BP/MF/CC/KEGG\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-color-group/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"term\", \"count\", \"type\")\ndata[,\"term\"] &lt;- str_to_sentence(str_remove(data[,\"term\"], pattern = \"\\\\w+:\\\\d+\\\\W\"))\ndata[,\"term\"] &lt;- factor(data[,\"term\"], \n                        levels =  data[,\"term\"][length(data[,\"term\"]):1])\ndata[,\"type\"] &lt;- factor(data[,\"type\"], \n                        levels = data[!duplicated(data[,\"type\"]), \"type\"])\n\n# 查看数据\ndata\n\n                                                  term count type\n1                                      Immune response    20   BP\n2                        Defense response to bacterium    11   BP\n3                                      Cell chemotaxis     8   BP\n4                                        Cell adhesion    17   BP\n5                                Complement activation     8   BP\n6                  Cytokine-mediated signaling pathway     8   MF\n7                             Phagocytosis, engulfment     5   MF\n8              Negative regulation of jak-stat cascade     5   MF\n9                             Epoxygenase p450 pathway     4   MF\n10                Chemokine-mediated signaling pathway     6   MF\n11  Negative regulation of leukocyte apoptotic process     3   MF\n12                   B cell receptor signaling pathway     5   MF\n13          Cellular response to tumor necrosis factor     6   CC\n14                   Positive regulation of chemotaxis     3   CC\n15                 Positive regulation of angiogenesis     6   CC\n16                        Collagen fibril organization     4   CC\n17 Positive regulation of homotypic cell-cell adhesion    20 KEGG\n18              Regulation of cell projection assembly    14 KEGG\n19                 Prostate epithelial cord elongation    10 KEGG\n20                         Bile acid catabolic process     8 KEGG\n21                           Cellular response to drug     7 KEGG\n22                 Glycosaminoglycan metabolic process     4 KEGG",
    "crumbs": [
      "HIPLOT",
      "Barplot Color Group"
    ]
  },
  {
    "objectID": "Hiplot/004-barplot-color-group.html#可视化",
    "href": "Hiplot/004-barplot-color-group.html#可视化",
    "title": "颜色组柱状图",
    "section": "可视化",
    "text": "可视化\n\n# 三维柱状图\np &lt;- ggplot(data = data, aes(x = term, y = count, fill = type)) +\n  geom_bar(stat = \"identity\", width = 0.8) + \n  theme_bw() +\n  xlab(\"Count\") +\n  ylab(\"Term\") +\n  guides(fill = guide_legend(title=\"Type\")) +\n  ggtitle(\"Barplot Color Group\") + \n  coord_flip() +\n  theme_classic() +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 颜色组柱状图\n\n\n\n\n\n上图展示了 GO/KEGG 通路富集分析结果的可视化。",
    "crumbs": [
      "HIPLOT",
      "Barplot Color Group"
    ]
  },
  {
    "objectID": "Hiplot/077-gobar.html",
    "href": "Hiplot/077-gobar.html",
    "title": "GO 条形图",
    "section": "",
    "text": "GO 条形图用于显示按 z-score 或 adjusted p-value 的负对数排序的 Z-score 彩色条形图。",
    "crumbs": [
      "HIPLOT",
      "GOBar Plot"
    ]
  },
  {
    "objectID": "Hiplot/077-gobar.html#环境配置",
    "href": "Hiplot/077-gobar.html#环境配置",
    "title": "GO 条形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GOplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GOplot\", quietly = TRUE)) {\n  install.packages(\"GOplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GOplot)",
    "crumbs": [
      "HIPLOT",
      "GOBar Plot"
    ]
  },
  {
    "objectID": "Hiplot/077-gobar.html#数据准备",
    "href": "Hiplot/077-gobar.html#数据准备",
    "title": "GO 条形图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据是具有七个列的GO富集的结果：category, GO id, GO term, gene count, gene name, logFC, adjust pvalue and zscore。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gobar/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"category\",\"ID\",\"term\",\"count\",\"genes\",\"logFC\",\"adj_pval\",\"zscore\")\ndata &lt;- data[data$category %in% c(\"BP\",\"CC\",\"MF\"),]\ndata &lt;- data[!is.na(data$adj_pval),]\ndata$adj_pval &lt;- as.numeric(data$adj_pval)\ndata$zscore &lt;- as.numeric(data$zscore)\n\n# 查看数据\nhead(data)\n\n  category         ID              term count  genes      logFC adj_pval\n1       BP GO:0007507 heart development    54   DLC1 -0.9707875 2.17e-06\n2       BP GO:0007507 heart development    54   NRP2 -1.5153173 2.17e-06\n3       BP GO:0007507 heart development    54   NRP1 -1.1412315 2.17e-06\n4       BP GO:0007507 heart development    54   EDN1  1.3813006 2.17e-06\n5       BP GO:0007507 heart development    54 PDLIM3 -0.8876939 2.17e-06\n6       BP GO:0007507 heart development    54   GJA1 -0.8179480 2.17e-06\n      zscore\n1 -0.8164966\n2 -0.8164966\n3 -0.8164966\n4 -0.8164966\n5 -0.8164966\n6 -0.8164966",
    "crumbs": [
      "HIPLOT",
      "GOBar Plot"
    ]
  },
  {
    "objectID": "Hiplot/077-gobar.html#可视化",
    "href": "Hiplot/077-gobar.html#可视化",
    "title": "GO 条形图",
    "section": "可视化",
    "text": "可视化\n\n# GO 条形图\np &lt;- GOBar(data, display = \"multiple\", order.by.zscore = T,\n           title = \"GO Enrichment Barplot \", \n           zsc.col = c(\"#EF8A62\",\"#F7F7F7\",\"#67A9CF\")) + \n    theme(plot.title = element_text(hjust = 0.5),\n          axis.text.x = element_text(size = 8))\n\np\n\n\n\n\n\n\n\n图 1: GO 条形图\n\n\n\n\n\n如示例图所示，x 轴表示每个 GO term，y 轴表示 -log(adj_pvalue)，每个条按 z-score 着色。如果显示分面，则面板的宽度将与 x 刻度的长度成正比。",
    "crumbs": [
      "HIPLOT",
      "GOBar Plot"
    ]
  },
  {
    "objectID": "Hiplot/101-map-china2.html",
    "href": "Hiplot/101-map-china2.html",
    "title": "中国地图 2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot China Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-china2?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "China Map 2"
    ]
  },
  {
    "objectID": "Hiplot/101-map-china2.html#环境配置",
    "href": "Hiplot/101-map-china2.html#环境配置",
    "title": "中国地图 2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "China Map 2"
    ]
  },
  {
    "objectID": "Hiplot/101-map-china2.html#数据准备",
    "href": "Hiplot/101-map-china2.html#数据准备",
    "title": "中国地图 2",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-china2/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-china/china.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$FCNAME, data$name)]\n\n# 查看数据\nhead(data)\n\n    name value\n1 安徽省  6118\n2 福建省  3581\n3 甘肃省  2617\n4 广东省  9449\n5 贵州省  3762\n6 海南省   845",
    "crumbs": [
      "HIPLOT",
      "China Map 2"
    ]
  },
  {
    "objectID": "Hiplot/101-map-china2.html#可视化",
    "href": "Hiplot/101-map-china2.html#可视化",
    "title": "中国地图 2",
    "section": "可视化",
    "text": "可视化\n\n# 中国地图2\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"China Map\")\n\np\n\n\n\n\n\n\n\n图 1: 中国地图2",
    "crumbs": [
      "HIPLOT",
      "China Map 2"
    ]
  },
  {
    "objectID": "Hiplot/092-line-color-dot.html",
    "href": "Hiplot/092-line-color-dot.html",
    "title": "线图（颜色点）",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Line (Color Dot) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/line-color-dot?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Line (Color Dot)"
    ]
  },
  {
    "objectID": "Hiplot/092-line-color-dot.html#环境配置",
    "href": "Hiplot/092-line-color-dot.html#环境配置",
    "title": "线图（颜色点）",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)",
    "crumbs": [
      "HIPLOT",
      "Line (Color Dot)"
    ]
  },
  {
    "objectID": "Hiplot/092-line-color-dot.html#数据准备",
    "href": "Hiplot/092-line-color-dot.html#数据准备",
    "title": "线图（颜色点）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/line-color-dot/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nx &lt;- \"Time\"\ny &lt;- \"PI\"\ngroup &lt;- \"Experiment\"\nfacet &lt;- \"Genotype\"\ndata[, x] &lt;- factor(data[, x], levels = unique(data[, x]))\ndata[, group] &lt;- factor(data[, group], levels = unique(data[, group]))\ndata[, facet] &lt;- factor(data[, facet], levels = unique(data[, facet]))\n\n# 查看数据\nhead(data)\n\n  Experiment Time Subject Genotype       PI Time2\n1         e1 t100      s1       WT 20.47120   100\n2         e2 t100      s2       WT 28.88967   100\n3         e3 t100      s3       WT 11.55061   100\n4         e4 t100      s4       WT 23.24516   100\n5         e5 t100      s5       WT 30.20904   100\n6         e6 t100      s6       WT 28.68300   100",
    "crumbs": [
      "HIPLOT",
      "Line (Color Dot)"
    ]
  },
  {
    "objectID": "Hiplot/092-line-color-dot.html#可视化",
    "href": "Hiplot/092-line-color-dot.html#可视化",
    "title": "线图（颜色点）",
    "section": "可视化",
    "text": "可视化\n\n# 线图（颜色点）\np &lt;- plot_befafter_colours(\n  data = data, xcol = get(x), ycol = get(y), match = get(group),\n  symsize = 5, symthick = 1, s_alpha = 1) +\n  facet_wrap(facet) +\n  guides(fill = guide_legend(title = group)) +\n  scale_fill_grafify() +\n  xlab(x) + ylab(y) +\n  ggtitle(\"Two-way repeated measures\") +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 线图（颜色点）",
    "crumbs": [
      "HIPLOT",
      "Line (Color Dot)"
    ]
  },
  {
    "objectID": "Hiplot/058-funnel-plot.html",
    "href": "Hiplot/058-funnel-plot.html",
    "title": "漏斗图",
    "section": "",
    "text": "可以用于分析 Meta 分析结果中潜在偏倚因子。",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot"
    ]
  },
  {
    "objectID": "Hiplot/058-funnel-plot.html#环境配置",
    "href": "Hiplot/058-funnel-plot.html#环境配置",
    "title": "漏斗图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; FunnelPlotR; gridExtra\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"FunnelPlotR\", quietly = TRUE)) {\n  install.packages(\"FunnelPlotR\")\n}\nif (!requireNamespace(\"gridExtra\", quietly = TRUE)) {\n  install.packages(\"gridExtra\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(FunnelPlotR)\nlibrary(gridExtra)",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot"
    ]
  },
  {
    "objectID": "Hiplot/058-funnel-plot.html#数据准备",
    "href": "Hiplot/058-funnel-plot.html#数据准备",
    "title": "漏斗图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/funnel-plot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  los hmo white died age80 type type1 type2 type3 provnum     prds\n1   4   0     1    0     0    1     1     0     0   30001 9.667315\n2   9   1     1    0     0    1     1     0     0   30001 8.956472\n3   3   1     1    1     1    1     1     0     0   30001 6.856678\n4   9   0     1    0     0    1     1     0     0   30001 9.667315\n5   1   0     1    1     1    1     1     0     0   30001 7.400868\n6   4   0     1    1     0    1     1     0     0   30001 7.561051",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot"
    ]
  },
  {
    "objectID": "Hiplot/058-funnel-plot.html#可视化",
    "href": "Hiplot/058-funnel-plot.html#可视化",
    "title": "漏斗图",
    "section": "可视化",
    "text": "可视化\n\n# 漏斗图\np &lt;- funnel_plot(\n  data, numerator = los, denominator = prds,  group = provnum, data_type = \"SR\",\n  limit = 99, label = \"outlier\", sr_method = \"SHMI\", trim_by=0.1, \n  title = \"Funnel Plot\", x_range = \"auto\", y_range = \"auto\"\n  )\n\np\n\nA funnel plot object with 54 points of which 9 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\n\n\n\n\n\n图 1: 漏斗图",
    "crumbs": [
      "HIPLOT",
      "Funnel Plot"
    ]
  },
  {
    "objectID": "Hiplot/041-deviation-plot.html",
    "href": "Hiplot/041-deviation-plot.html",
    "title": "偏差图",
    "section": "",
    "text": "偏差图可以直观地展示出数据之间的差异。",
    "crumbs": [
      "HIPLOT",
      "Deviation Plot"
    ]
  },
  {
    "objectID": "Hiplot/041-deviation-plot.html#环境配置",
    "href": "Hiplot/041-deviation-plot.html#环境配置",
    "title": "偏差图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Deviation Plot"
    ]
  },
  {
    "objectID": "Hiplot/041-deviation-plot.html#数据准备",
    "href": "Hiplot/041-deviation-plot.html#数据准备",
    "title": "偏差图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/deviation-plot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[[\"z_score\"]] &lt;- (data[[\"mpg\"]] - mean(data[[\"mpg\"]])) / sd(data[[\"mpg\"]])\ndata[[\"Group\"]] &lt;- factor(ifelse(data[[\"z_score\"]] &lt; 0, \"low\", \"high\"),\n                          levels = c(\"low\", \"high\")\n                          )\n\n# 查看数据\nhead(data)\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb              name\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4         Mazda RX4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4     Mazda RX4 Wag\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1        Datsun 710\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1    Hornet 4 Drive\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2 Hornet Sportabout\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1           Valiant\n     z_score Group\n1  0.1508848  high\n2  0.1508848  high\n3  0.4495434  high\n4  0.2172534  high\n5 -0.2307345   low\n6 -0.3302874   low",
    "crumbs": [
      "HIPLOT",
      "Deviation Plot"
    ]
  },
  {
    "objectID": "Hiplot/041-deviation-plot.html#可视化",
    "href": "Hiplot/041-deviation-plot.html#可视化",
    "title": "偏差图",
    "section": "可视化",
    "text": "可视化\n\n# 偏差图\np &lt;- ggbarplot(data,\n    x = \"name\",\n    y = \"z_score\",\n    fill = \"Group\",\n    color = \"white\",\n    sort.val = \"desc\",\n    sort.by.groups = FALSE,\n    x.text.angle = 90,\n    xlab = \"name\",\n    ylab = \"mpg\",\n    rotate = TRUE\n  ) +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 偏差图",
    "crumbs": [
      "HIPLOT",
      "Deviation Plot"
    ]
  },
  {
    "objectID": "Hiplot/170-taylor-diagram.html",
    "href": "Hiplot/170-taylor-diagram.html",
    "title": "泰勒图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Taylor Diagram 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/taylor-diagram?lang=zh_cn\n可以用于同时展示模型标准差（standard deviation, SD）、均方根（root mean square，RMS）误差和相关系数。",
    "crumbs": [
      "HIPLOT",
      "Taylor Diagram"
    ]
  },
  {
    "objectID": "Hiplot/170-taylor-diagram.html#环境配置",
    "href": "Hiplot/170-taylor-diagram.html#环境配置",
    "title": "泰勒图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: openair\n\n\n# 安装包\nif (!requireNamespace(\"openair\", quietly = TRUE)) {\n  install.packages(\"openair\")\n}\n\n# 加载包\nlibrary(openair)",
    "crumbs": [
      "HIPLOT",
      "Taylor Diagram"
    ]
  },
  {
    "objectID": "Hiplot/170-taylor-diagram.html#数据准备",
    "href": "Hiplot/170-taylor-diagram.html#数据准备",
    "title": "泰勒图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndat &lt;- selectByDate(mydata, year = 2003)\n\n# 整理数据格式\ndat &lt;- data.frame(date = mydata$date, obs = mydata$nox, mod = mydata$nox)\ndat &lt;- transform(dat, month = as.numeric(format(date, \"%m\")))\nmod1 &lt;- transform(dat, mod = mod + 10 * month + 10 * month * rnorm(nrow(dat)),\nmodel = \"model 1\")\nmod1 &lt;- transform(mod1, mod = c(mod[5:length(mod)], mod[(length(mod) - 3) :\nlength(mod)]))\nmod2 &lt;- transform(dat, mod = mod + 7 * month + 7 * month * rnorm(nrow(dat)),\nmodel = \"model 2\")\nmod3 &lt;- transform(dat, mod = mod + 3 * month + 3 * month * rnorm(nrow(dat)),\nmodel = \"model 3\")\nmod.dat &lt;- rbind(mod1, mod2, mod3)\n\n# 查看数据\nhead(mod.dat)\n\n                 date obs      mod month   model\n1 1998-01-01 00:00:00 285 479.5738     1 model 1\n2 1998-01-01 01:00:00  NA 267.1331     1 model 1\n3 1998-01-01 02:00:00  NA 187.8270     1 model 1\n4 1998-01-01 03:00:00 493 200.0099     1 model 1\n5 1998-01-01 04:00:00 468 146.5668     1 model 1\n6 1998-01-01 05:00:00 264 127.9447     1 model 1",
    "crumbs": [
      "HIPLOT",
      "Taylor Diagram"
    ]
  },
  {
    "objectID": "Hiplot/170-taylor-diagram.html#可视化",
    "href": "Hiplot/170-taylor-diagram.html#可视化",
    "title": "泰勒图",
    "section": "可视化",
    "text": "可视化\n\n# 泰勒图\nTaylorDiagram(mod.dat, obs = \"obs\", mod = \"mod\", group = \"model\",\n              main = \"Taylor diagram\", \n              cols = c(\"#00468BFF\",\"#8e6097\",\"#BFACF0FF\"))\n\n\n\n\n\n\n\n图 1: 泰勒图",
    "crumbs": [
      "HIPLOT",
      "Taylor Diagram"
    ]
  },
  {
    "objectID": "Hiplot/027-contour-matrix.html",
    "href": "Hiplot/027-contour-matrix.html",
    "title": "等高线图 (矩阵)",
    "section": "",
    "text": "等高图（矩阵）是一种以二维形式展示三维数据的图形。",
    "crumbs": [
      "HIPLOT",
      "Contour (Matrix)"
    ]
  },
  {
    "objectID": "Hiplot/027-contour-matrix.html#环境配置",
    "href": "Hiplot/027-contour-matrix.html#环境配置",
    "title": "等高线图 (矩阵)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; reshape2; ggisoband; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"reshape2\", quietly = TRUE)) {\n  install.packages(\"reshape2\")\n}\nif (!requireNamespace(\"ggisoband\", quietly = TRUE)) {\n  devtools::install_github(\"clauswilke/ggisoband\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(reshape2)\nlibrary(ggisoband)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Contour (Matrix)"
    ]
  },
  {
    "objectID": "Hiplot/027-contour-matrix.html#数据准备",
    "href": "Hiplot/027-contour-matrix.html#数据准备",
    "title": "等高线图 (矩阵)",
    "section": "数据准备",
    "text": "数据准备\n载入数据为一个矩阵。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/contour-matrix/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- as.matrix(data)\ncolnames(data) &lt;- NULL\ndata3d &lt;- reshape2::melt(data)\nnames(data3d) &lt;- c(\"x\", \"y\", \"z\")\n\n# 查看数据\nhead(data3d)\n\n  x y   z\n1 1 1 100\n2 2 1 101\n3 3 1 102\n4 4 1 103\n5 5 1 104\n6 6 1 105",
    "crumbs": [
      "HIPLOT",
      "Contour (Matrix)"
    ]
  },
  {
    "objectID": "Hiplot/027-contour-matrix.html#可视化",
    "href": "Hiplot/027-contour-matrix.html#可视化",
    "title": "等高线图 (矩阵)",
    "section": "可视化",
    "text": "可视化\n\n# 等高线图 (矩阵)\ncomplex_general_theme &lt;- \n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np1 &lt;- ggplot(data3d, aes(x, y, z = z)) +\n  geom_isobands(\n    alpha = 1,\n    aes(color = stat(zmin)), fill = NA\n  ) +\n  scale_color_viridis_c() +\n  coord_cartesian(expand = FALSE) +\n  theme_bw() +\n  complex_general_theme\n\np2 &lt;- ggplot(data3d, aes(x, y, z = z)) +\n  geom_isobands(\n    alpha = 1,\n    aes(fill = stat(zmin)), color = NA\n  ) +\n  scale_fill_viridis_c(guide = \"legend\") +\n  coord_cartesian(expand = FALSE) +\n  theme_bw() +\n  complex_general_theme\n\nplot_grid(p1, p2, labels = c(\"A\", \"B\"), label_size = 12)\n\n\n\n\n\n\n\n图 1: 等高线图 (矩阵)\n\n\n\n\n\n黄色代表最高，深紫色代表最低，高度刻度范围是90-190。",
    "crumbs": [
      "HIPLOT",
      "Contour (Matrix)"
    ]
  },
  {
    "objectID": "Hiplot/179-venn2.html",
    "href": "Hiplot/179-venn2.html",
    "title": "韦恩图2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Venn2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/venn2?lang=zh_cn\n维恩图是一种表示不同有限集合之间所有可能的逻辑关系的图。这些图将集合内元素描述为平面上的点，将集合描述为封闭曲线内的区域。维恩图由多个重叠的闭合曲线 (通常是圆) 组成，每个曲线代表一个集合。标记为S曲线内的点表示集合 S 中的元素，而边界外的点表示集合 S 中不存在的元素。例如，两个集合中的所有元素的交集，S∩T，在视觉上用集合 S 和 T 的重叠区域来表示。在维恩图中，曲线以各种可能的方式重叠，显示了集合之间所有可能的关系。",
    "crumbs": [
      "HIPLOT",
      "Venn2"
    ]
  },
  {
    "objectID": "Hiplot/179-venn2.html#环境配置",
    "href": "Hiplot/179-venn2.html#环境配置",
    "title": "韦恩图2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; venn\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"venn\", quietly = TRUE)) {\n  install.packages(\"venn\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(venn)",
    "crumbs": [
      "HIPLOT",
      "Venn2"
    ]
  },
  {
    "objectID": "Hiplot/179-venn2.html#数据准备",
    "href": "Hiplot/179-venn2.html#数据准备",
    "title": "韦恩图2",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 5 个含有基因名称的集合。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/venn2/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata_venn &lt;- as.list(data)\ndata_venn &lt;- lapply(data_venn, function(x) {\n  x[is.na(x)] &lt;- \"\"\n  x &lt;- x[x != \"\"]\n  return(x)\n})\n\n# 查看数据\nhead(data)\n\n     Set1      Set2     Set3      Set4    Set5\n1   ISG15      HES5     DVL1   MATP6P1 FAM132A\n2  TTLL10  AURKAIP1 ARHGEF16   MIR551A    AGRN\n3    HES4 LINC00982   OR4F16  C1orf222 WBP1LP6\n4  OR4G4P    FAM87B      SKI   MIR200B  KLHL17\n5 MND2P28       SKI   WASH7P LINC00115  FAM41C\n6  FAM87B     GABRD    MEGF6    ATAD3B   PANK4",
    "crumbs": [
      "HIPLOT",
      "Venn2"
    ]
  },
  {
    "objectID": "Hiplot/179-venn2.html#可视化",
    "href": "Hiplot/179-venn2.html#可视化",
    "title": "韦恩图2",
    "section": "可视化",
    "text": "可视化\n\n# 韦恩图2\ncol &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\")\nvenn(x=data_venn, opacity=0.8, ggplot=F, ilabels = TRUE, zcolor=col, box=F)\ntitle(main = \"Vene Plot (5 sets)\", line = -1)\n\n\n\n\n\n\n\n图 1: 韦恩图2\n\n\n\n\n\n5 种颜色的闭合曲线代表 5 个集合，数字表示多个集合重叠或者未重叠的基因数，例如：示例图中 8 代表 5 个示例集合中均含有 8 个相同的基因名称。",
    "crumbs": [
      "HIPLOT",
      "Venn2"
    ]
  },
  {
    "objectID": "Hiplot/134-parliament.html",
    "href": "Hiplot/134-parliament.html",
    "title": "议会图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Parliament 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/parliament?lang=zh_cn\n议会图是一种形似议会坐席，以点代表一个数据，从而更加灵活地展示各组所占份额比的数据处理方式。",
    "crumbs": [
      "HIPLOT",
      "Parliament"
    ]
  },
  {
    "objectID": "Hiplot/134-parliament.html#环境配置",
    "href": "Hiplot/134-parliament.html#环境配置",
    "title": "议会图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpol; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpol\", quietly = TRUE)) {\n  install.packages(\"ggpol\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpol)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Parliament"
    ]
  },
  {
    "objectID": "Hiplot/134-parliament.html#数据准备",
    "href": "Hiplot/134-parliament.html#数据准备",
    "title": "议会图",
    "section": "数据准备",
    "text": "数据准备\n数据载入为分组及其对应数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/parliament/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  group value\n1    G1   200\n2    G2    46\n3    G3    92\n4    G4    80\n5    G5   150",
    "crumbs": [
      "HIPLOT",
      "Parliament"
    ]
  },
  {
    "objectID": "Hiplot/134-parliament.html#可视化",
    "href": "Hiplot/134-parliament.html#可视化",
    "title": "议会图",
    "section": "可视化",
    "text": "可视化\n\n# 议会图\np &lt;- ggplot(data) +\n  geom_parliament(alpha = 1, aes(seats = value, fill = group), color = \"black\") +\n  coord_fixed() +\n  scale_fill_discrete(name = \"group\", labels = unique(data$group)) +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\n                                \"#F39B7FFF\")) +\n  ggtitle(\"Parliament Plot\") +\n  theme_void() +\n  theme(legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5))\n\np\n\n\n\n\n\n\n\n图 1: 议会图\n\n\n\n\n\n不同颜色表示不同分组，每一个点代表一个数据。它是由很多点组成半环形，最小的份额在议会图里可以用一个点来表示。",
    "crumbs": [
      "HIPLOT",
      "Parliament"
    ]
  },
  {
    "objectID": "Hiplot/133-pareto-chart.html",
    "href": "Hiplot/133-pareto-chart.html",
    "title": "帕累托图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pareto Chart 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pareto-chart?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Pareto Chart"
    ]
  },
  {
    "objectID": "Hiplot/133-pareto-chart.html#环境配置",
    "href": "Hiplot/133-pareto-chart.html#环境配置",
    "title": "帕累托图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Pareto Chart"
    ]
  },
  {
    "objectID": "Hiplot/133-pareto-chart.html#数据准备",
    "href": "Hiplot/133-pareto-chart.html#数据准备",
    "title": "帕累托图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为某商品在多个平台的销量数据，插件会为销量数据自动降序排列绘制条形图，同时计算累积销量绘制累积折线图。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pareto-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[order(-data[[\"sales\"]]), ]\ndata[[\"channel\"]] &lt;- factor(data[[\"channel\"]], levels = data[[\"channel\"]])\n## 计算百分比\ndata$accumulating &lt;- cumsum(data[[\"sales\"]])\nmax_y &lt;- max(data[[\"sales\"]])\ncal_num &lt;- sum(data[[\"sales\"]]) / max_y\ndata$accumulating &lt;- data$accumulating / cal_num\n\n# 查看数据\nhead(data)\n\n    channel sales accumulating\n2        JD   500     132.9787\n5     Tmall   400     239.3617\n4 Pinduoduo   300     319.1489\n3    Amazon   230     380.3191\n6    Shopee   200     433.5106\n1    TaoBao   100     460.1064",
    "crumbs": [
      "HIPLOT",
      "Pareto Chart"
    ]
  },
  {
    "objectID": "Hiplot/133-pareto-chart.html#可视化",
    "href": "Hiplot/133-pareto-chart.html#可视化",
    "title": "帕累托图",
    "section": "可视化",
    "text": "可视化\n\n# 帕累托图\np &lt;- ggplot(data, aes(x = channel, y = sales, fill = channel)) +\n  geom_bar(stat = \"identity\") +\n  geom_line(aes(y = accumulating), group = 1) +\n  geom_point(aes(y = accumulating), show.legend = FALSE) +\n  scale_y_continuous(sec.axis = sec_axis(trans = ~ . / max_y * 100, name = \"Percentage\")) +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\n                               \"#F39B7FFF\",\"#8491B4FF\",\"#91D1C2FF\",\"#DC0000FF\")) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 帕累托图",
    "crumbs": [
      "HIPLOT",
      "Pareto Chart"
    ]
  },
  {
    "objectID": "Hiplot/030-cor-heatmap.html",
    "href": "Hiplot/030-cor-heatmap.html",
    "title": "相关性热图",
    "section": "",
    "text": "相关性热图是一种分析多个变量，两两之间相关性的图形。",
    "crumbs": [
      "HIPLOT",
      "Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/030-cor-heatmap.html#环境配置",
    "href": "Hiplot/030-cor-heatmap.html#环境配置",
    "title": "相关性热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggcorrplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggcorrplot\", quietly = TRUE)) {\n  install.packages(\"ggcorrplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggcorrplot)",
    "crumbs": [
      "HIPLOT",
      "Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/030-cor-heatmap.html#数据准备",
    "href": "Hiplot/030-cor-heatmap.html#数据准备",
    "title": "相关性热图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为基因名称及每个样本的表达量。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/cor-heatmap/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[!is.na(data[, 1]), ]\nidx &lt;- duplicated(data[, 1])\ndata[idx, 1] &lt;- paste0(data[idx, 1], \"--dup-\", cumsum(idx)[idx])\nrownames(data) &lt;- data[, 1]\ndata &lt;- data[, -1]\nstr2num_df &lt;- function(x) {\n  final &lt;- NULL\n  for (i in seq_len(ncol(x))) {\n    final &lt;- cbind(final, as.numeric(x[, i]))\n  }\n  colnames(final) &lt;- colnames(x)\n  return(final)\n}\ntmp &lt;- str2num_df(t(data))\ncorr &lt;- round(cor(tmp, use = \"na.or.complete\", method = \"pearson\"), 3)\np_mat &lt;- round(cor_pmat(tmp, method = \"pearson\"), 3)\n\n# 查看数据\nhead(data)\n\n             M1       M2       M3       M4       M5       M6        M7       M8\nRGL4   8.454808 8.019389 8.990836 9.718631 7.908075 4.147051  4.985084 4.576711\nMPP7   8.690520 8.630346 7.080873 9.838476 8.271824 5.179200  5.200868 3.266993\nUGCG   8.648366 8.600555 9.431046 7.923021 8.309214 4.902510  5.750804 4.492856\nCYSTM1 8.628884 9.238677 8.487243 8.958537 7.357109 4.541605  6.370533 4.246651\nANXA2  4.983769 6.748022 6.220791 4.719403 3.284346 8.089850 10.637472 7.214912\nENDOD1 5.551640 5.406465 4.663785 3.550765 4.103507 8.393991  9.538503 9.069923\n             M9      M10\nRGL4   4.930349 4.293700\nMPP7   5.565226 4.300309\nUGCG   4.659987 3.306275\nCYSTM1 4.745769 3.449627\nANXA2  9.002710 5.123359\nENDOD1 8.639664 7.106392",
    "crumbs": [
      "HIPLOT",
      "Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/030-cor-heatmap.html#可视化",
    "href": "Hiplot/030-cor-heatmap.html#可视化",
    "title": "相关性热图",
    "section": "可视化",
    "text": "可视化\n\n# 相关性热图\np &lt;- ggcorrplot(\n  corr,\n  colors = c(\"#4477AA\", \"#FFFFFF\", \"#BB4444\"),\n  method = \"circle\",\n  hc.order = T,\n  hc.method = \"ward.D2\",\n  outline.col = \"white\",\n  ggtheme = theme_bw(),\n  type = \"upper\",\n  lab = F,\n  lab_size = 3,\n  legend.title = \"Correlation\"\n  ) +\n  ggtitle(\"Cor Heatmap Plot\") +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\np\n\n\n\n\n\n\n\n图 1: 相关性热图\n\n\n\n\n\n红色系表示两个基因之间呈正相关，蓝色系表示两个基因之间呈负相关，每一格中的数字表示相关系数。",
    "crumbs": [
      "HIPLOT",
      "Correlation Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/085-half-violin.html",
    "href": "Hiplot/085-half-violin.html",
    "title": "半小提琴图",
    "section": "",
    "text": "半小提琴图是在保留小提琴图右半部分图形的基础上，将左侧部分换成数据频次计数图形，也是用于显示数据分布及概率密度的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Half Violin"
    ]
  },
  {
    "objectID": "Hiplot/085-half-violin.html#环境配置",
    "href": "Hiplot/085-half-violin.html#环境配置",
    "title": "半小提琴图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggpubr)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Half Violin"
    ]
  },
  {
    "objectID": "Hiplot/085-half-violin.html#数据准备",
    "href": "Hiplot/085-half-violin.html#数据准备",
    "title": "半小提琴图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为载入数据为数据集 (不同肿瘤中基因名称及表达水平)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/half-violin/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"Value\", \"Group\")\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n\n# 查看数据\nhead(data)\n\n     Value Group\n1 12.10228   AML\n2 12.61382   AML\n3 12.52741   AML\n4 12.67990   AML\n5 12.64837   AML\n6 12.12146   AML",
    "crumbs": [
      "HIPLOT",
      "Half Violin"
    ]
  },
  {
    "objectID": "Hiplot/085-half-violin.html#可视化",
    "href": "Hiplot/085-half-violin.html#可视化",
    "title": "半小提琴图",
    "section": "可视化",
    "text": "可视化\n\n# 半小提琴图\ngeom_flat_violin &lt;- function(\n  mapping = NULL, data = NULL, stat = \"ydensity\", position = \"dodge\", \n  trim = TRUE, scale = \"area\", show.legend = NA, inherit.aes = TRUE, ...) {\n  ggplot2::layer(data = data, mapping = mapping, stat = stat, \n                 geom = geom_flat_violin_proto, position = position,\n                 show.legend = show.legend, inherit.aes = inherit.aes,\n                 params = list(trim = trim, scale = scale, ...))\n}\n\n\"%||%\" &lt;- function(a, b) {\n  if (!is.null(a)) {\n    a\n  } else {\n    b\n  }\n}\n\ngeom_flat_violin_proto &lt;-\n  ggproto(\"geom_flat_violin_proto\", Geom,\n          setup_data = function(data, params) {\n            data$width &lt;- data$width %||%\n              params$width %||% (resolution(data$x, FALSE) * 0.9)\n            \n            data %&gt;%\n              dplyr::group_by(.data = ., group) %&gt;%\n              dplyr::mutate(.data = ., ymin = min(y), ymax = max(y), xmin = x,\n                            xmax = x + width / 2)\n          },\n          \n          draw_group = function(data, panel_scales, coord) {\n            data &lt;- base::transform(data, xminv = x, \n                                    xmaxv = x + violinwidth * (xmax - x))\n            \n            newdata &lt;- base::rbind(\n              dplyr::arrange(.data = base::transform(data, x = xminv), y),\n              dplyr::arrange(.data = base::transform(data, x = xmaxv), -y))\n            \n            newdata &lt;- rbind(newdata, newdata[1, ])\n            \n            ggplot2:::ggname(\"geom_flat_violin\",\n                             GeomPolygon$draw_panel(newdata, panel_scales, coord))\n          },\n          \n          draw_key = draw_key_polygon,\n          \n          default_aes = ggplot2::aes(weight = 1, colour = \"grey20\", fill = \"white\",\n                                     size = 0.5, alpha = NA, linetype = \"solid\"),\n          required_aes = c(\"x\", \"y\")\n        )\n\np &lt;- ggplot(data = data, aes(Group, Value, fill = Group)) +\n  geom_flat_violin(alpha = 1, scale = \"count\", trim = FALSE) +\n  geom_boxplot(width = 0.05, fill = \"white\", alpha = 1, \n               outlier.colour = NA, position = position_nudge(0.05)) +\n  stat_summary(fun = mean, geom = \"point\", fill = \"white\", shape = 21, size = 2,\n               position = position_nudge(0.05)) +\n  geom_dotplot(alpha = 1, binaxis = \"y\", dotsize = 0.5, stackdir = \"down\", \n               binwidth = 0.1, position = position_nudge(-0.025)) +\n  theme(legend.position = \"none\") +\n  xlab(colnames(data)[2]) +\n  ylab(colnames(data)[1]) +\n  guides(fill = F) +\n  ggtitle(\"Half Violin Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 半小提琴图\n\n\n\n\n\n半小提琴图可以反映数据分布，同箱形图类似，方框中黑色横线显示各肿瘤中基因表达水平的中位数， 白色方框中上下框边代表数据集中的上，下四分位点；左半面可观测数值点的分布状况；小提琴图还可以反映数据密度，数据集数据越集中则图形越胖。图示中 BLGG 组中的基因表达分布更集中，BIC 组次之，AML 组则分布最分散。",
    "crumbs": [
      "HIPLOT",
      "Half Violin"
    ]
  },
  {
    "objectID": "Hiplot/114-map-usa-county.html",
    "href": "Hiplot/114-map-usa-county.html",
    "title": "美国地图 (县)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot USA Map (County) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-usa-county?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/114-map-usa-county.html#环境配置",
    "href": "Hiplot/114-map-usa-county.html#环境配置",
    "title": "美国地图 (县)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/114-map-usa-county.html#数据准备",
    "href": "Hiplot/114-map-usa-county.html#数据准备",
    "title": "美国地图 (县)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-usa-county/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-usa-county/usa.county.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$county, data$name)]\n\n# 查看数据\nhead(data)\n\n               name value\n1 Lake of the Woods   167\n2             Ferry   801\n3           Stevens   785\n4          Okanogan   783\n5      Pend Oreille   796\n6          Boundary   126",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/114-map-usa-county.html#可视化",
    "href": "Hiplot/114-map-usa-county.html#可视化",
    "title": "美国地图 (县)",
    "section": "可视化",
    "text": "可视化\n\n# 美国地图 (县)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"USA County Map\")\n\np\n\n\n\n\n\n\n\n图 1: 美国地图 (县)",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/013-big-corrplot.html",
    "href": "Hiplot/013-big-corrplot.html",
    "title": "大样本相关性热图",
    "section": "",
    "text": "相关性热图是一种分析多个变量，两两之间相关性的图形。",
    "crumbs": [
      "HIPLOT",
      "Corrplot Big Data"
    ]
  },
  {
    "objectID": "Hiplot/013-big-corrplot.html#环境配置",
    "href": "Hiplot/013-big-corrplot.html#环境配置",
    "title": "大样本相关性热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ComplexHeatmap\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ComplexHeatmap\", quietly = TRUE)) {\n  install.packages(\"ComplexHeatmap\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ComplexHeatmap)",
    "crumbs": [
      "HIPLOT",
      "Corrplot Big Data"
    ]
  },
  {
    "objectID": "Hiplot/013-big-corrplot.html#数据准备",
    "href": "Hiplot/013-big-corrplot.html#数据准备",
    "title": "大样本相关性热图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为基因名称及每个样本的表达量。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/big-corrplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[!is.na(data[, 1]), ]\nidx &lt;- duplicated(data[, 1])\ndata[idx, 1] &lt;- paste0(data[idx, 1], \"--dup-\", cumsum(idx)[idx])\nrownames(data) &lt;- data[, 1]\ndata &lt;- data[, -1]\nstr2num_df &lt;- function(x) {\n  x[] &lt;- lapply(x, function(l) as.numeric(l))\n  x\n}\ntmp &lt;- t(str2num_df(data))\ncorr &lt;- round(cor(tmp, use = \"na.or.complete\", method = \"pearson\"), 3)\n\n# 查看数据\nhead(corr)\n\n         RGL4   MPP7   UGCG CYSTM1  ANXA2 ENDOD1 ARHGAP24   CST7 HIST1H2BM\nRGL4    1.000  0.914  0.929  0.936 -0.592 -0.908    0.888  0.949    -0.603\nMPP7    0.914  1.000  0.852  0.907 -0.543 -0.862    0.762  0.899    -0.656\nUGCG    0.929  0.852  1.000  0.956 -0.440 -0.791    0.854  0.840    -0.694\nCYSTM1  0.936  0.907  0.956  1.000 -0.358 -0.762    0.812  0.852    -0.632\nANXA2  -0.592 -0.543 -0.440 -0.358  1.000  0.826   -0.660 -0.723     0.541\nENDOD1 -0.908 -0.862 -0.791 -0.762  0.826  1.000   -0.907 -0.961     0.709\n         EREG   EMP1  NFAM1 SLC40A1   CD52 HIST1H2BH PFKFB3 SNORD116-20  STX11\nRGL4   -0.021 -0.495  0.859   0.506 -0.704    -0.680  0.889       0.188  0.953\nMPP7   -0.196 -0.447  0.898   0.648 -0.734    -0.770  0.842       0.048  0.915\nUGCG    0.153 -0.358  0.858   0.361 -0.671    -0.711  0.943       0.202  0.951\nCYSTM1  0.074 -0.272  0.866   0.339 -0.612    -0.683  0.933       0.225  0.985\nANXA2   0.222  0.902 -0.662  -0.668  0.775     0.626 -0.463       0.375 -0.374\nENDOD1  0.191  0.713 -0.872  -0.611  0.854     0.791 -0.814       0.141 -0.787\n        SYNE2   TCN1\nRGL4    0.780  0.889\nMPP7    0.795  0.888\nUGCG    0.922  0.927\nCYSTM1  0.908  0.973\nANXA2  -0.327 -0.249\nENDOD1 -0.657 -0.708",
    "crumbs": [
      "HIPLOT",
      "Corrplot Big Data"
    ]
  },
  {
    "objectID": "Hiplot/013-big-corrplot.html#可视化",
    "href": "Hiplot/013-big-corrplot.html#可视化",
    "title": "大样本相关性热图",
    "section": "可视化",
    "text": "可视化\n\n# 大样本相关性热图\np &lt;- ComplexHeatmap::Heatmap(\n  corr, col = colorRampPalette(c(\"#4477AA\",\"#FFFFFF\",\"#BB4444\"))(50),\n  clustering_distance_rows = \"euclidean\",\n  clustering_method_rows = \"ward.D2\",\n  clustering_distance_columns = \"euclidean\",\n  clustering_method_columns = \"ward.D2\",\n  show_column_dend = FALSE, show_row_dend = FALSE,\n  column_names_gp = gpar(fontsize = 8),\n  row_names_gp = gpar(fontsize = 8)\n)\n\np\n\n\n\n\n\n\n\n图 1: 大样本相关性热图\n\n\n\n\n\n红色系表示两个基因之间呈正相关，蓝色系表示两个基因之间呈负相关，每一格中的数字表示相关系数。",
    "crumbs": [
      "HIPLOT",
      "Corrplot Big Data"
    ]
  },
  {
    "objectID": "Hiplot/069-ggpiestats-group.html",
    "href": "Hiplot/069-ggpiestats-group.html",
    "title": "分组饼状图（ggpiestats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Piestats Group"
    ]
  },
  {
    "objectID": "Hiplot/069-ggpiestats-group.html#环境配置",
    "href": "Hiplot/069-ggpiestats-group.html#环境配置",
    "title": "分组饼状图（ggpiestats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Piestats Group"
    ]
  },
  {
    "objectID": "Hiplot/069-ggpiestats-group.html#数据准备",
    "href": "Hiplot/069-ggpiestats-group.html#数据准备",
    "title": "分组饼状图（ggpiestats）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggpiestats-group/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"genre\", \"mpaa\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = unique(data[, axis[1]]))\ndata[, axis[2]] &lt;- factor(data[, axis[2]], levels = unique(data[, axis[2]]))\n\n# 查看数据\nhead(data)\n\n                                               title year length budget rating\n1                          Shawshank Redemption, The 1994    142     25    9.1\n2     Lord of the Rings: The Return of the King, The 2003    251     94    9.0\n3 Lord of the Rings: The Fellowship of the Ring, The 2001    208     93    8.8\n4             Lord of the Rings: The Two Towers, The 2002    223     94    8.8\n5                                       Pulp Fiction 1994    168      8    8.8\n6                                   Schindler's List 1993    195     25    8.8\n   votes  mpaa  genre\n1 149494     R  Drama\n2 103631 PG-13 Action\n3 157608 PG-13 Action\n4 114797 PG-13 Action\n5 132745     R  Drama\n6  97667     R  Drama",
    "crumbs": [
      "HIPLOT",
      "Piestats Group"
    ]
  },
  {
    "objectID": "Hiplot/069-ggpiestats-group.html#可视化",
    "href": "Hiplot/069-ggpiestats-group.html#可视化",
    "title": "分组饼状图（ggpiestats）",
    "section": "可视化",
    "text": "可视化\n\n# 分组饼状图\ng &lt;- unique(data[,axis[2]])\nplist &lt;- list()\nfor (i in 1:length(g)) {\n  fil &lt;- data[,axis[2]] == g[i]\n  plist[[i]] &lt;- \n    ggpiestats(\n      data = data[fil,], x = genre, \n      title= paste('', axis[2], g[i], sep = ':'),\n      plotgrid.args = list(ncol = 3),\n      label.repel = TRUE,\n      k = 2\n    ) +\n    scale_fill_manual(values = c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\",\"#631879FF\",\n                                 \"#008280FF\",\"#BB0021FF\",\"#5F559BFF\",\"#A20056FF\",\n                                 \"#808180FF\"))\n}\n\nplot_grid(plotlist = plist, ncol = 3)\n\n\n\n\n\n\n\n图 1: 分组饼状图",
    "crumbs": [
      "HIPLOT",
      "Piestats Group"
    ]
  },
  {
    "objectID": "Hiplot/184-waffle.html",
    "href": "Hiplot/184-waffle.html",
    "title": "华夫饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Waffle Plot 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/waffle?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Waffle Plot"
    ]
  },
  {
    "objectID": "Hiplot/184-waffle.html#环境配置",
    "href": "Hiplot/184-waffle.html#环境配置",
    "title": "华夫饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; waffle\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"waffle\", quietly = TRUE)) {\n  install.packages(\"waffle\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(waffle)",
    "crumbs": [
      "HIPLOT",
      "Waffle Plot"
    ]
  },
  {
    "objectID": "Hiplot/184-waffle.html#数据准备",
    "href": "Hiplot/184-waffle.html#数据准备",
    "title": "华夫饼图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/waffle/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nparts &lt;- data[,2]\n\n# 查看数据\nhead(data)\n\n                      label value\n1 Un-breached US Population   230\n2                   Premera    11\n3                    Anthem    79",
    "crumbs": [
      "HIPLOT",
      "Waffle Plot"
    ]
  },
  {
    "objectID": "Hiplot/184-waffle.html#可视化",
    "href": "Hiplot/184-waffle.html#可视化",
    "title": "华夫饼图",
    "section": "可视化",
    "text": "可视化\n\n# 华夫饼图\np &lt;- waffle(parts, rows = 8, size = 1, legend_pos = \"right\") +\n  ggtitle(\"Waffle Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 华夫饼图",
    "crumbs": [
      "HIPLOT",
      "Waffle Plot"
    ]
  },
  {
    "objectID": "Hiplot/094-line-regression.html",
    "href": "Hiplot/094-line-regression.html",
    "title": "线性回归",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Line Regression 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/line-regression?lang=zh_cn\n线性回归是一种对自变量和因变量之间关系进行线性建模的回归方法。只有一个自变量的情况称为简单回归,大于一个自变量情况的叫做多元回归。",
    "crumbs": [
      "HIPLOT",
      "Line Regression"
    ]
  },
  {
    "objectID": "Hiplot/094-line-regression.html#环境配置",
    "href": "Hiplot/094-line-regression.html#环境配置",
    "title": "线性回归",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggrepel; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggrepel\", quietly = TRUE)) {\n  install.packages(\"ggrepel\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggrepel)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Line Regression"
    ]
  },
  {
    "objectID": "Hiplot/094-line-regression.html#数据准备",
    "href": "Hiplot/094-line-regression.html#数据准备",
    "title": "线性回归",
    "section": "数据准备",
    "text": "数据准备\n载入数据为自变量，因变量和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/line-regression/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$group &lt;- factor(data$group, levels = unique(data$group))\n\n# 查看数据\nhead(data)\n\n  value1 value2 group\n1   36.8  29.44    G1\n2   54.0  43.20    G1\n3   26.0  26.00    G1\n4   39.0  31.20    G1\n5   33.0  29.70    G1\n6   29.0  34.80    G1",
    "crumbs": [
      "HIPLOT",
      "Line Regression"
    ]
  },
  {
    "objectID": "Hiplot/094-line-regression.html#可视化",
    "href": "Hiplot/094-line-regression.html#可视化",
    "title": "线性回归",
    "section": "可视化",
    "text": "可视化\n\n# 线性回归\n## 定义方程\nequation &lt;- function(x, add_p = FALSE) {\n  xs &lt;- summary(x)\n  lm_coef &lt;- list(\n    a = as.numeric(round(coef(x)[1], digits = 2)),\n    b = as.numeric(round(coef(x)[2], digits = 2)),\n    r2 = round(xs$r.squared, digits = 2),\n    pval = xs$coef[2, 4] \n  )\n  if (add_p) {\n    lm_eq &lt;- substitute(italic(y) == a + b %.% italic(x) * \",\" ~ ~\n  italic(R)^2 ~ \"=\" ~ r2 * \",\" ~ ~ italic(p) ~ \"=\" ~ pval, lm_coef)\n  } else {\n    lm_eq &lt;- substitute(italic(y) == a + b %.% italic(x) * \",\" ~ ~\n  italic(R)^2 ~ \"=\" ~ r2, lm_coef)\n  }\n  as.expression(lm_eq)\n}\n## 绘图\np &lt;- ggplot(data, aes(x = value1, y = value2, colour = group)) +\n  geom_point(show.legend = TRUE) +\n  geom_smooth(method = \"lm\", se = T, show.legend = F) +\n  geom_rug(sides = \"bl\", size = 1, show.legend = F) +\n  scale_color_manual(values = c(\"#00468BFF\",\"#ED0000FF\")) +\n  ggtitle(\"Line Reguression Plot\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n  \n## 使用 ggrepel 为每个组添加注释\nrepels &lt;- rep(\"\", nrow(data))\nfor (g in unique(data$group)) {\n  fit &lt;- lm(value2 ~ value1, data = data[data$group == g, ])\n  v &lt;- max(data[data$group == g, \"value2\"])\n  repels[which(data$value2 == v)[1]] &lt;- equation(fit, add_p = F)\n}\np &lt;- p + geom_text_repel(\n  data = data,\n  label = repels,\n  size = 4,\n  force = 5,\n  label.padding = 5,\n  na.rm = TRUE,\n  min.segment.length = 100,\n  show.legend = FALSE,\n  nudge_x = 0,\n  nudge_y = 0\n  )\n\np\n\n\n\n\n\n\n\n图 1: 线性回归\n\n\n\n\n\n不同颜色表示不同分组，可添加线性回归方程，R的平方越接近 1，说明拟合的曲线和实际曲线越趋近。灰色条带代表 95% 置信区间。",
    "crumbs": [
      "HIPLOT",
      "Line Regression"
    ]
  },
  {
    "objectID": "Template/contribution_0323.html",
    "href": "Template/contribution_0323.html",
    "title": "中文",
    "section": "",
    "text": "先建图表征集issue，进行审核确定：\n\n根据目标任务确定执行的可视化图表类型。\n\n分别按图表建issue让成员列资料\n\n确定创建可视化教程所需的生物医学数据类型；\n根据可视化应用场景优化教程撰写的侧重点（eg. 需要着重介绍的函数/参数、是否要加入常用统计学分析）。\n\n分配成员申领完成\n完成图文撰写需要遵循项目文档规范\n\n参考根据现有可视化教程制作的qmd文档撰写；\n主要模块：可视化图表及其应用场景介绍、环境配置、基础绘图代码、进阶绘图代码、生物医学领域应用（及复现）……\n\n翻译任务的申领和处理"
  },
  {
    "objectID": "Ranking/UpsetPlot.html",
    "href": "Ranking/UpsetPlot.html",
    "title": "Upset图",
    "section": "",
    "text": "Upset 图与 Venn 图类似，主要展示不同集合交叉点中的元素数量，然而当 Venn 图中集合达到 5 个时可读性开始急剧下降，Upset 图则可以很好的解决 Venn 图可读性差的问题，并且还能提供元素属性的附加统计信息。",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#示例",
    "href": "Ranking/UpsetPlot.html#示例",
    "title": "Upset图",
    "section": "示例",
    "text": "示例\n\n\n\n\n\n此图为 Upset 图的基本样式，图像分为三部分，分别是上方的不同集合之间交集的元素数量发直方图，左侧为不同集合包含元素数量的直方图。中间的矩阵部分则是集合之间的交集情况，如下图所示：\n\n\n\n\n\n当一个交集的元素存在于某集合时使用黑点标记，否则使用白点标记，例如绿色部分仅在 B 集合处标记为黑色则表明该列为仅在 B 中存在的元素，以此类推。",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#环境配置",
    "href": "Ranking/UpsetPlot.html#环境配置",
    "title": "Upset图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：UpSetR; ggupset\n\n\n# 安装包\nif (!requireNamespace(\"UpSetR\", quietly = TRUE)) {\n  install.packages(\"UpSetR\")\n}\nif (!requireNamespace(\"ggupset\", quietly = TRUE)) {\n  install.packages(\"ggupset\")\n}\n\n# 加载包\nlibrary(UpSetR)\nlibrary(ggupset)",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#数据准备",
    "href": "Ranking/UpsetPlot.html#数据准备",
    "title": "Upset图",
    "section": "数据准备",
    "text": "数据准备\n\nmovies 数据集由 GroupLens 实验室和 Bilal Alsallakh 创建；mutations 数据集最初由 TCGA 联盟创建，表示 284 个多形性胶质母细胞瘤中 100 个常见基因突变的突变情况。\n两个数据集均被包含至 UpSetR 包中\n\n\n# UpSetR 可以接受三种格式的数据，第一种是具有命名向量的list(见listInput变量)，第二种是表达式向量(见expressionInput变量)，第三种是0,1构成的数据框(见movies和mutations变量)\n# 读取 CSV 数据\n# list格式需要对list中的每个向量为一个集合，UpSetR要求对每个集合进行命名，向量中的元素为对应集合的成员。使用upset函数绘图时需要使用fromList函数对list数据进行格式转化。\nlistInput &lt;- list(one = c(1, 2, 3, 5, 7, 8, 11, 12, 13), two = c(1, 2, 4, 5, 10), three = c(1, 5, 6, 7, 8, 9, 10, 12, 13))\n#expression格式则接受一个类表达式的向量。表达式向量的元素是一个交集中集合的名称（以&分隔），以及该交集中的数字元素。使用upset函数绘图时需要使用fromExpression函数对list数据进行格式转化。\nexpressionInput &lt;- c(one = 2, two = 1, three = 2, `one&two` = 1, `one&three` = 4, `two&three` = 1, `one&two&three` = 2)\n\n# 数据框格式每列为一个集合，每行为一个元素。要求数据框由0 1组成，分别表示元素是否存在于集合，当列存在非01的值时，该列被认为是元素的属性。\nmovies &lt;- read.csv( system.file(\"extdata\", \"movies.csv\", package = \"UpSetR\"), header=T, sep=\";\" )\nmutations &lt;- read.csv( system.file(\"extdata\", \"mutations.csv\", package = \"UpSetR\"), header=T, sep = \",\")",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#可视化",
    "href": "Ranking/UpsetPlot.html#可视化",
    "title": "Upset图",
    "section": "可视化",
    "text": "可视化\n\n1. 基础 Upset 图\n此基础 Upset 图展示了包含不同元素的电影数量。\n\n# 使用上面三种数据类型绘制 Upset 图\nupset(fromList(listInput))\nupset(fromExpression(expressionInput))\nupset(movies)\n\n\n\n\n\n\n\n图 1: 基础 Upset 图\n\n\n\n\n\n\n\n\n\n\n\n图 2: 基础 Upset 图\n\n\n\n\n\n\n\n\n\n\n\n图 3: 基础 Upset 图\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: nsets\nnsets 参数决定了使用多少个集合绘制 UpSet 图，未设置时默认为 5。\n\n\n\n# 设置 nset 为 6，使用 mutations 数据集\nupset(mutations, nsets = 6)\n\n\n\n\n\n\n\n图 4: 关键参数: nsets\n\n\n\n\n\n此图使用了突变次数最多的 6 个基因，展示了包含不同突变的多形性胶质母细胞瘤数量。\n\n\n\n\n\n\n提示\n\n\n\n关键参数: order.by\norder.by 参数决定了 UpSet 图中交集的排列顺序，未设置时根据取交集的集合数量从小到大排列，设置为 “degree” 时根据交集的元素数量从大到小排列，设置为 “freq” 时根据交集的大小从大到小排列。\n\n\n\n# order.by不同的三种设置方式，使用mutations数据集\nupset(mutations)\nupset(mutations, order.by = \"degree\")\nupset(mutations, order.by = \"freq\")\n\n\n\n\n\n\n\n图 5: 关键参数: order.by\n\n\n\n\n\n\n\n\n\n\n\n图 6: 关键参数: order.by\n\n\n\n\n\n\n\n\n\n\n\n图 7: 关键参数: order.by\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: sets\nsets 参数可以指定需要绘制的集合，未设置时取元素最多的 nsets 个集合，另外 keep.order 参数可以使集合柱状图的顺序与 sets 输入的顺序保持一致。\n\n\n\n# 指定\"TTN\",\"NF1\",\"FLG\",\"KEL\"四个基因为目标集合，并使集合柱状图顺序与sets参数一致保持\nupset(mutations, sets = c(\"TTN\",\"NF1\",\"FLG\",\"KEL\"), keep.order = T)\n\n\n\n\n\n\n\n图 8: 关键参数: sets\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: empty.intersections\nempty.intersections 参数默认设置为 “NULL”，此时不显示空交集，当设置为任意参数时会显示空交集。\n\n\n\n#显示空交集\nupset(mutations, sets = c(\"TTN\",\"NF1\",\"FLG\",\"KEL\"), keep.order = T, empty.intersections=T)\n\n\n\n\n\n\n\n图 9: 关键参数: empty.intersections\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: decreasing\ndecreasing 参数设置则可以调转 order.by 或 keep.order 的方向，有多个排序方向需要控制时，输入含有多个元素的向量，如”c(T,F)”\n\n\n\n# 调换排序方向\nupset(mutations, sets = c(\"TTN\",\"NF1\",\"FLG\",\"KEL\"), keep.order = T, decreasing = c(T, T))\n\n\n\n\n\n\n\n图 10: 关键参数: decreasing\n\n\n\n\n\n\n\n2. 个性化 Upset 图\n图像比例方面，mb.ratio 参数默认为 “c(0.7, 0.3)”，可以指定交集柱状图与交集矩阵点图之间的比例大小，需要输入一个含有两个元素的向量，分别表示柱状图与矩阵点图的高度占全图的高度比例。\n\nupset(mutations, mb.ratio=c(0.5,0.5))\n\n\n\n\n\n\n\n图 11: 关键参数: mb.ratio\n\n\n\n\n\n图像颜色方面，UpSetR 包提供了多个参数可以设置 Upset 图中不同部分的颜色：\n\nupset(mutations,\n      shade.color = \"#4C4C4C\", # 交集矩阵点图阴影的颜色\n      matrix.color = \"#067522\", # 矩阵中点和线的颜色\n      main.bar.color = \"#3E7B92\", # 交集元素数量柱状图的颜色\n      sets.bar.color = \"#C9AE42\" # 集合数量柱状图的颜色\n)\n\n\n\n\n\n\n\n图 12: Upset图颜色设置\n\n\n\n\n\n如果想要突出某些交集，则需要使用到 UpSetR 包提供的 queries 参数，queries 参数需要输入一个列表 list，这个 list 中至少包含一个子 list，每个子 list 中需要包含以下字段：query、params、color、active 和 query.name。\n\nquery 可输入 intersects 或 elements，效果都一样\nparams 指定一个子集，输入同样为一个 list，list 中的元素可为集合的名称，多个元素表示取这些元素的交集。\ncolor 是将在 plot 上表示的颜色。如果没有提供颜色，将从 UpSetR 默认调色板中选择一种颜色。\nactive 决定查询将如何在图上表示。如果 active 为 TRUE，则交叉大小条将被表示查询的条覆盖。如果 active 为 FALSE，一个抖动点将被放置在相交的大小条上。\nquery.name 为当前突出集合的名称，需要用 query.legend 参数指定图例位置，query.legend 可以输入”top”或”bottom”\n\n\nupset(mutations, sets = c(\"TTN\",\"NF1\",\"FLG\",\"KEL\"), keep.order = T,\n      query.legend = \"top\", \n      queries = list(list(query = intersects, params = list(\"TTN\"), active = T, query.name = \"NAME\"),\n                     list(query = elements, params = list(\"TTN\",\"NF1\"))))\n\n\n\n\n\n\n\n图 13: 关键参数: queries\n\n\n\n\n\n图像标签与字体方面，同样有多个参数可以调整：\n\nupset(mutations,\n      number.angles = 30, # 交集柱状图上方的数字倾斜角度\n      point.size = 2, # 矩阵中点的大小\n      line.size = 1, # 矩阵中线的大小\n      sets.x.label = \"NAME1\", # 集合柱状图的轴标签\n      mainbar.y.label = \"NAME2\", # 交集柱状图的轴标签\n      text.scale = c(1.3, 1.3, 1, 1, 1.2,1)) # 文本大小设置，分别对应交集柱状图的轴标签，分别对应交集柱状图的数字，集合柱状图的轴标签，集合柱状图的数字，集合的名字，交集柱状图上方的数字\n\n\n\n\n\n\n\n图 14: Upset图像标签与字体\n\n\n\n\n\n\n\n3. 进阶 Upset 图\n有时候还需要展示集合中元素的某些属性，如展示 1995 年上市的电影在不同交集中的分布。同样需要用到 queries 参数，在 params 字段中输入一个记录不同电影上市年份信息的列名 与 1995，即可高亮显示对应 1995 年上市电影的分布情况。\n\nupset(movies, sets = c(\"Action\", \"Adventure\", \"Children\", \"War\", \"Noir\"),\n      queries = list(list(query = elements, params = list(\"ReleaseDate\",1995), active = T)))\n\n\n\n\n\n\n\n图 15: params 字段\n\n\n\n\n\n如果是复合条件，例如仅高亮 1995 年上市的动作电影，可以额外引入 expression 参数用于对查询条件进行进一步限制。\n\nupset(movies, sets = c(\"Action\", \"Adventure\", \"Children\", \"War\", \"Noir\"),\n      queries = list(list(query = intersects, params = list(\"Action\"), active = T)),\n      expression = \"ReleaseDate == 1995\")\n\n\n\n\n\n\n\n图 16: 关键参数: expression\n\n\n\n\n\n上述方法仅限于离散型变量，然而元素的属性还可能包括连续性变量，对于连续性变量推荐自定义函数进行查询，以下代码可以用于高亮 Watches 属性大于 100 的元素：\n\nMyfunc &lt;- function(row, num) {\n  data &lt;- row[\"Watches\"] &gt; num\n}\nupset(movies, sets = c(\"Action\", \"Adventure\", \"Children\", \"War\", \"Noir\"),\n      queries = list(list(query = Myfunc, params = list(100), active = T)))\n\n\n\n\n\n\n\n图 17: Upset图连续变量\n\n\n\n\n\nUpsetR 还支持同时绘制其他类型的图像包括直方图、散点图、密度图。前二者需要使用 attribute.plots 参数绘制，箱线图需要使用 boxplot.summary 参数绘制，箱线图与其他三种图像不能兼容。 attribute.plots 包含以下子参数：\n\ngridrows：指定扩展绘图窗口的范围以留出属性图（attribute plots）的空间。UpSetR 绘图基于 100x100 的网格布局。例如，若将 gridrows 设为 50，新的网格布局将变为 150x100，其中 1/3 的区域用于放置属性图。\nplots：接收一个参数 list，包括 plot、x、y（若适用）和 queries。\n\nplot：是一个返回 ggplot 对象的函数，可输入histogram或scatter_plot。\nx：定义 ggplot 中使用的 x 轴美学映射（以字符串形式输入）。\ny：定义 ggplot 中使用的 y 轴美学映射（以字符串形式输入）。\nqueries：控制是否在属性图上叠加查询结果。若为 TRUE，属性图会叠加查询数据；若为 FALSE，则不在属性图中显示查询结果。\n\nncols：指定属性图在 gridrows 预留空间中的排列方式。例如：\n\n若输入两个属性图且 ncols=1，则两图上下排列。\n若输入两个属性图且 ncols=2，则两图并排显示。\n\n\n\nupset(movies, sets = c(\"Action\", \"Adventure\", \"Children\", \"War\", \"Noir\"),\n      queries = list(list(query = intersects, params = list(\"War\"), active = T),\n                     list(query = elements, params = list(\"Noir\"))),\n      attribute.plots=list(gridrows = 100, \n                           ncols = 1,\n                           plots = list(list(plot=histogram, \n                                             x=\"AvgRating\",\n                                             queries=T),\n                                        list(plot = scatter_plot, \n                                             y = \"AvgRating\", \n                                             x = \"Watches\",\n                                             queries = T)\n                                        )\n                           )\n      )\n\n\n\n\n\n\n\n图 18: 关键参数: attribute.plots\n\n\n\n\n\nboxplot.summary 相对简单，只需要指定元素属于对应的列名即可：\n\nupset(movies, sets = c(\"Action\", \"Adventure\", \"Children\", \"War\", \"Noir\"),\n      queries = list(list(query = intersects, params = list(\"War\"), active = T),\n                     list(query = elements, params = list(\"Noir\"))),\n      boxplot.summary = c(\"AvgRating\", \"ReleaseDate\"))\n\n\n\n\n\n\n\n图 19: 关键参数: boxplot.summary\n\n\n\n\n\n\n\n4. 生物数据示例\n数据集采用 ggupset 包中的 df_complex_conditions 数据集\n\n# 整理格式\ndf &lt;- df_complex_conditions\ndf$\"T8\" &lt;- ifelse(df$Timepoint==8,1,0)\ndf$\"T24\" &lt;- ifelse(df$Timepoint==24,1,0)\ndf$\"T48\" &lt;- ifelse(df$Timepoint==48,1,0)\ndf$KO &lt;- ifelse(df$KO==\"TRUE\",1,0)\ndf$DrugA &lt;- ifelse(df$DrugA==\"Yes\",1,0)\n# 需要注意的是UpSetR包不支持tibble数据框，需要转化为传统的dataframe\ndf &lt;- data.frame(df[sample(360,180),c(3,4,1,2,5:7)])  # 这里为了美观随机挑选一半的数据\n\n# upset绘图\nupset(df,\n      queries = list(list(query = intersects, params = list(\"DrugA\",\"T48\"), active = T)),\n      boxplot.summary = c(\"response\"))\n\n\n\n\n\n\n\n图 20: 关键参数: boxplot.summary\n\n\n\n\n\n此图展示了敲除体 KO 与 WT(KO行为白点) 在施加或不施加药物(DrugA)处理在不同时间后生物体的响应情况。",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#应用场景",
    "href": "Ranking/UpsetPlot.html#应用场景",
    "title": "Upset图",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n\n\n图 21: Upset 图应用\n\n\n\n该图展示了人群中患不同疾病的统计情况以及他们的生存时间。 [1]",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Ranking/UpsetPlot.html#参考文献",
    "href": "Ranking/UpsetPlot.html#参考文献",
    "title": "Upset图",
    "section": "参考文献",
    "text": "参考文献\n[1] Peng X, Hu Y, Cai W. Association between urinary incontinence and mortality risk among US adults: a prospective cohort study. BMC Public Health. 2024 Oct 9;24(1):2753. doi: 10.1186/s12889-024-20091-x. PMID: 39385206; PMCID: PMC11463129.",
    "crumbs": [
      "Ranking",
      "UpsetPlot"
    ]
  },
  {
    "objectID": "Omics/VolcanoPlot.html",
    "href": "Omics/VolcanoPlot.html",
    "title": "火山图",
    "section": "",
    "text": "火山图用于两组之间的比较，得到两组之间的上调/下调，筛选依据为 p 值和 FC 值，转换为 -logP 值和 log2(FC) 值。导入数据可以是微生物组的 OTU 表格或 ASV 表格，或者转录组基因表达的表格，或者是代谢组学的 features 表格等多组学数据。"
  },
  {
    "objectID": "Omics/VolcanoPlot.html#示例",
    "href": "Omics/VolcanoPlot.html#示例",
    "title": "火山图",
    "section": "示例",
    "text": "示例"
  },
  {
    "objectID": "Omics/VolcanoPlot.html#环境配置",
    "href": "Omics/VolcanoPlot.html#环境配置",
    "title": "火山图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：tidyverse; readxl; ggrepel\n\n\n# 安装包\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"readxl\", quietly = TRUE)) {\n  install.packages(\"readxl\")\n}\nif (!requireNamespace(\"ggrepel\", quietly = TRUE)) {\n  install.packages(\"ggrepel\")\n}\n\n# 加载包\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(ggrepel)"
  },
  {
    "objectID": "Omics/VolcanoPlot.html#数据准备",
    "href": "Omics/VolcanoPlot.html#数据准备",
    "title": "火山图",
    "section": "数据准备",
    "text": "数据准备\n我们导入来自 omicshare 的火山图示例数据。\n\n# 读取Excel数据\ndata &lt;- read_excel(\"files/volcano.eg.xlsx\")\n\n# 重命名列名（处理特殊字符）\ndata &lt;- data %&gt;%\n  rename(log2FC = \"log2 Ratio(WT0/LOG)\", Pvalue = \"Pvalue\")\n# 处理 p-value 为 0 的情况（避免计算-Inf）\ndata &lt;- data %&gt;%\n  mutate(log10P = -log10(Pvalue + 1e-300)) # 确保处理了 P=0 的情况\n# 转为数值型，并处理转换失败的值（如无效字符）\ndata &lt;- data %&gt;%\n  mutate(\n    log2FC = as.numeric(log2FC) # 转换失败的值会变为 NA\n  )\n\n# 查找导致转换失败的原始值\ndata %&gt;%\n  filter(is.na(log2FC)) %&gt;%\n  select(log2FC) # 查看这些行的 log2FC 原始值\n\n# A tibble: 0 × 1\n# ℹ 1 variable: log2FC &lt;dbl&gt;\n\n# 根据实际情况修复数据（例如替换或删除异常值）\n# 示例：将\"Inf\"替换为实际数值或过滤掉\ndata &lt;- data %&gt;%\n  mutate(\n    log2FC = ifelse(log2FC == \"Inf\", 100, log2FC), # 根据需求调整\n    log2FC = as.numeric(log2FC)\n    ) %&gt;%\n  filter(!is.na(log2FC)) # 删除无法修复的行\n\n# 定义显著性（同时满足P值&lt;0.05且|log2FC|&gt;1）\n# 定义显著性分类（上调、下调、无显著）\ndata &lt;- data %&gt;%\n  mutate(\n    significant = case_when(\n      Pvalue &lt; 0.05 & log2FC &gt; 2 ~ \"Upregulated\", # 上调（红色）\n      Pvalue &lt; 0.05 & log2FC &lt; -2 ~ \"Downregulated\", # 下调（绿色）\n      TRUE ~ \"Not significant\" # 无显著（灰色）\n    )\n  )\n\n# 查看数据结构\nhead(data, 5)\n\n# A tibble: 5 × 10\n  GeneID         LOG_count WT0_count LOG_rpkm WT0_rpkm  log2FC    Pvalue     FDR\n  &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 Unigene0000003     17243     17525   932.     942.    0.0168   5.15e-1 6.73e-1\n2 Unigene0000004        65       101     4.12     6.37  0.629    6.64e-3 1.79e-2\n3 Unigene0000005       909       984    36.9     39.7   0.108    1.26e-1 2.25e-1\n4 Unigene0000006      1376      1082    74.7     58.5  -0.353    1.17e-8 6.86e-8\n5 Unigene0000007       121        73    15.7      9.42 -0.736    7.42e-4 2.45e-3\n# ℹ 2 more variables: significant &lt;chr&gt;, log10P &lt;dbl&gt;"
  },
  {
    "objectID": "Omics/VolcanoPlot.html#可视化",
    "href": "Omics/VolcanoPlot.html#可视化",
    "title": "火山图",
    "section": "可视化",
    "text": "可视化\n\n1. 基础火山图\n\n# 基础火山图\np &lt;- \n  ggplot(data, aes(x = log2FC, y = -log10(Pvalue))) + # 初步绘制火山图\n  # 绘制散点，按显著分类着色\n  geom_point(aes(color = significant), alpha = 0.6, size = 1.5) + \n  # 设置颜色映射（上调红，下调绿，无显著灰）\n  scale_color_manual(\n    values = c(\"Upregulated\" = \"red\", \"Downregulated\" = \"green\", \"Not significant\" = \"gray\"),\n    name = \"Significance\" # 图例标题\n    ) +\n  # 添加筛选阈值线\n  geom_vline(xintercept = c(-2, 2), linetype = \"dashed\", color = \"green\", linewidth = 0.5) + # log2FC阈值线\n  geom_hline(yintercept = -log10(0.05), linetype = \"dashed\", color = \"blue\", linewidth = 0.5) + # p值阈值线\n  # 调整坐标轴和标题\n  labs(x = \"log2(Fold Change)\", y = \"-log10(P-value)\",\n       title = \"Volcano Plot with Thresholds\") +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"), # 标题居中加粗\n        legend.position = \"right\") # 图例位置\n\np\n\n\n\n\n\n\n\n图 1: 基础火山图\n\n\n\n\n\n\n\n2. 带标签火山图\n\n# 添加标签\n# 步骤1：筛选需标注的基因\nlabel_data &lt;- data %&gt;%\n  filter(Pvalue &lt; 0.05) %&gt;% # 筛选显著基因\n  group_by(significant) %&gt;% # 按上下调控分组\n  top_n(10, abs(log2FC)) %&gt;% # 取 log2FC 绝对值最大的 10 个\n  ungroup()\n# 步骤2：定义标签颜色（浅红和浅绿）\nlabel_colors &lt;- c(\n  \"Upregulated\" = \"#FF9999\", # 浅红色\n  \"Downregulated\" = \"#99FF99\" # 浅绿色\n  )\n# 步骤3：绘制带标签的火山图\np &lt;- \n  ggplot(data, aes(x = log2FC, y = -log10(Pvalue))) +\n  geom_point(aes(color = significant), alpha = 0.6, size = 1.5) +\n  # 添加基因标签（仅标注目标基因）\n  geom_text_repel(\n    data = label_data,\n    aes(label = GeneID, color = significant), # 假设基因名列名为 OTU ID\n    size = 3,\n    box.padding = 0.5, # 标签间距\n    max.overlaps = 50, # 允许最大重叠\n    segment.color = \"grey50\", # 连接线颜色\n    show.legend = FALSE\n    ) +\n  # 设置颜色映射（原颜色+标签颜色）\n  scale_color_manual(\n    values = c(\"Upregulated\" = \"red\", \"Downregulated\" = \"green\", \"Not significant\" = \"gray\"),\n    guide = guide_legend(override.aes = list(\n      color = c(\"red\", \"green\", \"gray\"), # 图例颜色保持原色\n      label = \"\" # 图例中不显示文字\n      ))) +\n  # 控制标签颜色（浅红和浅绿）\n  scale_color_manual(\n    values = label_colors,\n    guide = \"none\" # 隐藏额外图例\n    ) +\n  # 保留原有阈值线和标题\n  geom_vline(xintercept = c(-2, 2), linetype = \"dashed\", color = \"black\") +\n  geom_hline(yintercept = -log10(0.05), linetype = \"dashed\", color = \"black\") +\n  labs(title = \"Volcano Plot with Top 20 Labels\") +\n  theme_minimal()\n\np\n\n\n\n\n\n\n\n图 2: 带标签火山图"
  },
  {
    "objectID": "Omics/SankeyBubblePlot.html#环境配置",
    "href": "Omics/SankeyBubblePlot.html#环境配置",
    "title": "组合桑基气泡图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: 跨平台（Linux/MacOS/Windows）\n编程语言: R\n依赖包: tidyverse; readr; ggalluvial; patchwork\n\n\n# 安装包\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"readr\", quietly = TRUE)) {\n  install.packages(\"readr\")\n}\nif (!requireNamespace(\"ggalluvial\", quietly = TRUE)) {\n  install.packages(\"ggalluvial\")\n}\nif (!requireNamespace(\"patchwork\", quietly = TRUE)) {\n  install.packages(\"patchwork\")\n}\n\n# 加载包\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(ggalluvial)\nlibrary(patchwork)"
  },
  {
    "objectID": "Omics/SankeyBubblePlot.html#数据准备",
    "href": "Omics/SankeyBubblePlot.html#数据准备",
    "title": "组合桑基气泡图",
    "section": "数据准备",
    "text": "数据准备\n我们导入来自 DAVID 的网络药理学注释分析通路富集数据。\n\n# 读取数据\ndata &lt;- read_tsv(\"files/DAVID.txt\")\n\n# 添加新分类列\nget_category &lt;- function(cat) {\n  if (grepl(\"BP\", cat)) return(\"BP\")\n  if (grepl(\"MF\", cat)) return(\"MF\")\n  if (grepl(\"CC\", cat)) return(\"CC\")\n  if (grepl(\"KEGG\", cat)) return(\"KEGG\")\n  return(NA)\n}\ndata$MainCategory &lt;- sapply(data$Category, get_category)\n\n# 剔除 SMART 和 NA\ndata2 &lt;- data %&gt;%\n  filter(!grepl(\"SMART\", Category)) %&gt;%\n  filter(!is.na(MainCategory))\n\n# 每类排序并取前10\ntopN &lt;- function(data, n=10) {\n  data %&gt;%\n  arrange(desc(Count), PValue) %&gt;%\n  head(n)\n}\nresult &lt;- data2 %&gt;%\n  group_by(MainCategory) %&gt;%\n  group_modify(~topN(.x, 10)) %&gt;%\n  ungroup()\n\n# KEGG 通路注释\nresult &lt;- result %&gt;%\n  mutate(\n    Source = ifelse(MainCategory == \"KEGG\", \"KEGG\", \"GO\"),\n    KEGG_Group = case_when(\n      MainCategory == \"KEGG\" & str_detect(Term,\"Neuro|synapse|neurodegeneration|Alzheimer|Parkinson|Prion\") ~ \"Nervous system\",\n      MainCategory == \"KEGG\" & str_detect(Term, \"Cytokine|inflammatory\") ~ \"Immune system\",\n      MainCategory == \"KEGG\" & str_detect(Term, \"Lipid|atherosclerosis\") ~ \"Lipid metabolism\",\n      MainCategory == \"KEGG\" ~ \"Other KEGG\",\n      TRUE ~ NA_character_\n      ),\n    GO_Group = ifelse(MainCategory != \"KEGG\", MainCategory, NA)\n    )\nalluvial_data &lt;- result %&gt;%\n  mutate(\n    Term = str_replace(Term, \"^GO:\\\\d+~\", \"\"), # 去除 GO 编号\n    Term = str_replace(Term, \"^hsa\\\\d+:?\", \"\") # 去除 KEGG 编号\n    )\n\n# GO 部分\ngo_links &lt;- result %&gt;%\n  filter(Source == \"GO\") %&gt;%\n  transmute(\n    Source = Source,\n    Group = GO_Group,\n    Term = Term,\n    Count = Count\n    )\n\n# KEGG 部分\nkegg_links &lt;- result %&gt;%\n  filter(Source == \"KEGG\") %&gt;%\n  transmute(\n    Source = Source,\n    Group = KEGG_Group,\n    Term = Term,\n    Count = Count\n    )\n\n# 生成桑基图数据\nalluvial_data &lt;- result %&gt;%\n  mutate(Group = ifelse(Source == \"KEGG\", KEGG_Group, GO_Group)) %&gt;%\n  select(Source, Group, Term, Count, FDR, FoldEnrichment, MainCategory)\n\n# 确保字符型\nalluvial_data$Source &lt;- as.character(alluvial_data$Source)\nalluvial_data$Group &lt;- as.character(alluvial_data$Group)\nalluvial_data$Term &lt;- as.character(alluvial_data$Term)\n\n# 合并\nalluvial_data &lt;- bind_rows(go_links, kegg_links)\n\n# 将 term 列按照 count 值从小到大排列，并且保证气泡图和桑基图的顺序一致\nterm_levels &lt;- alluvial_data %&gt;%\n  arrange(Source, Group, desc(Count)) %&gt;%\n  pull(Term) %&gt;%\n  unique()\nalluvial_data$Term &lt;- factor(alluvial_data$Term, levels = term_levels)\n\n# 查看数据结构\nhead(alluvial_data, 5)\n\n# A tibble: 5 × 4\n  Source Group Term                                                        Count\n  &lt;chr&gt;  &lt;chr&gt; &lt;fct&gt;                                                       &lt;dbl&gt;\n1 GO     BP    GO:0010628~positive regulation of gene expression              12\n2 GO     BP    GO:0045944~positive regulation of transcription by RNA pol…    11\n3 GO     BP    GO:0007187~G protein-coupled receptor signaling pathway, c…    10\n4 GO     BP    GO:0007268~chemical synaptic transmission                      10\n5 GO     BP    GO:0006954~inflammatory response                               10"
  },
  {
    "objectID": "Omics/SankeyBubblePlot.html#可视化",
    "href": "Omics/SankeyBubblePlot.html#可视化",
    "title": "组合桑基气泡图",
    "section": "可视化",
    "text": "可视化\n\n1. 桑基图\n\n# 桑基图（Term列不显示标签）\n\n# 确保 Group 为字符型且无 NA\nalluvial_data$Group &lt;- as.character(alluvial_data$Group)\nalluvial_data$Group[is.na(alluvial_data$Group)] &lt;- \"Other\"\n# 计算每个 Group 的总 Count\ngroup_order &lt;- alluvial_data %&gt;%\n  group_by(Group) %&gt;%\n  summarise(group_count = sum(Count, na.rm = TRUE)) %&gt;%\n  arrange(desc(group_count)) %&gt;%\n  pull(Group)\n# 设置 group 为有序因子\nalluvial_data$Group &lt;- factor(alluvial_data$Group, levels = group_order)\n# 对 Term 列进行排序，设置 term 为有序因子\nterm_order &lt;- alluvial_data %&gt;%\n  group_by(Term) %&gt;%\n  summarise(total_count = sum(Count, na.rm = TRUE)) %&gt;%\n  arrange(desc(total_count)) %&gt;%\n  pull(Term)\nalluvial_data$Term &lt;- factor(alluvial_data$Term, levels = term_order)\n# 重新获取 group 的有序标签\ngroup_labels &lt;- levels(alluvial_data$Group)\ngroup_labels &lt;- c(\"BP\", \"MF\", \"CC\", \"Nervous system\", \"Immune system\", \"Lipid metabolism\", \"Other KEGG\")\nterm_labels &lt;- levels(alluvial_data$Term)\n\np1 &lt;- ggplot(\n  alluvial_data,\n  aes(axis1 = Source, axis2 = Group, axis3 = Term, y = 1)) +\n  geom_alluvium(aes(fill = Group), width = 1/12, alpha = 0.8) +\n  geom_stratum(width = 1/12, fill = \"grey\", color = \"black\") +\n  scale_fill_manual(values = c(\n    \"BP\" = \"#33ad37\",\"MF\" = \"#f2c867\",\"CC\" = \"#d45327\", \n    \"Nervous system\" = \"#2eb6aa\", \"Immune system\" = \"#3e4999\", \n    \"Lipid metabolism\" = \"#4fc1e4\", \"Other KEGG\" = \"#e0c4ce\")) +\n  geom_text(stat = \"stratum\", aes(label = ifelse(\n    after_stat(stratum) %in% group_labels, after_stat(stratum),\n    ifelse(after_stat(stratum) %in% term_labels, after_stat(stratum), \"\")\n    )), size = 3) +\n  scale_x_discrete(\n    limits = c(\"Source\", \"Group\", \"Term\"),\n    labels = c(\"Source\", \"Group\", \"term\"), expand = c(.05, .05)) +\n  labs(title = NULL, y = NULL, x = NULL) +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.title.x = element_blank(),\n    axis.text.x = element_text(size = 10),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    plot.margin = margin(5, 5, 5, 5), # 这里和 p2 保持一致\n    panel.grid = element_blank()\n    ) +\n  guides(fill = \"none\")\n\np1\n\n\n\n\n\n\n\n图 1: 桑基图\n\n\n\n\n\n\n\n2. 气泡图\n\n# 气泡图（Term标签只在右侧）\n# 先准备 term_levels，确保顺序和 y 轴一致\nterm_levels &lt;- levels(alluvial_data$Term)\n# 生成气泡图数据\nalluvial_data &lt;- result %&gt;%\n  mutate(Group = ifelse(Source == \"KEGG\", KEGG_Group, GO_Group)) %&gt;%\n  select(Source, Group, Term, Count, FDR, FoldEnrichment, MainCategory)\n\np2 &lt;- ggplot(alluvial_data, aes(x = log2(FoldEnrichment), y = Term)) +\n  # 虚线棒：从 x = min_x - offset 到 x = log2(FoldEnrichment)\n  geom_segment(aes(\n    x = min(log2(FoldEnrichment), na.rm = TRUE) - 0.5,\n    xend = log2(FoldEnrichment),\n    y = Term, yend = Term),\n    linetype = \"dashed\", color = \"grey50\") +\n  # 左侧标签\n  geom_text(aes(\n    x = min(log2(FoldEnrichment), na.rm = TRUE) - 0.2,\n    label = Term\n    ), hjust = 1, size = 3) +\n  # 气泡\n  geom_point(aes(size = Count, color = -log10(FDR))) +\n  scale_y_discrete(limits = rev(term_levels), position = \"right\") +\n  scale_color_gradient(low = \"#4659a7\", high = \"#de4f30\") +\n  labs(title = NULL, x = \"log2(FoldEnrichment)\", y = NULL, color = \"-log10(FDR)\") +\n  theme_minimal() +\n  theme(\n    axis.text.y.left = element_blank(),\n    axis.text.y.right = element_blank(), # 右侧不显示标签\n    axis.title.y = element_blank(),\n    plot.margin = margin(5, 5, 5, 0),\n    panel.grid.major.y = element_blank()\n    )\n\np2\n\n\n\n\n\n\n\n图 2: 气泡图\n\n\n\n\n\n\n\n3. 拼接\n\ncombined_plot &lt;- p1 + p2 + plot_layout(widths = c(1.5, 2), guides = \"collect\")\nprint(combined_plot)\n\n\n\n\n\n\n\n图 3: 拼接"
  },
  {
    "objectID": "Omics/NetworkPlot.html",
    "href": "Omics/NetworkPlot.html",
    "title": "网络图",
    "section": "",
    "text": "在微生物组学研究中，理解微生物之间的相互作用至关重要。而网络分析作为一种强大的方法，能够帮助我们可视化和量化这些复杂关系。接下来向大家介绍 MetaNet 包的网络操作与注释功能，它能让我们的网络分析更加深入和直观。"
  },
  {
    "objectID": "Omics/NetworkPlot.html#示例",
    "href": "Omics/NetworkPlot.html#示例",
    "title": "网络图",
    "section": "示例",
    "text": "示例"
  },
  {
    "objectID": "Omics/NetworkPlot.html#环境配置",
    "href": "Omics/NetworkPlot.html#环境配置",
    "title": "网络图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：MetaNet; pcutils; igraph; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"MetaNet\", quietly = TRUE)) {\n  install.packages(\"MetaNet\")\n}\nif (!requireNamespace(\"pcutils\", quietly = TRUE)) {\n  install.packages(\"pcutils\")\n}\nif (!requireNamespace(\"igraph\", quietly = TRUE)) {\n  install.packages(\"igraph\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(MetaNet)\nlibrary(pcutils)\nlibrary(igraph)\nlibrary(dplyr)"
  },
  {
    "objectID": "Omics/NetworkPlot.html#数据准备",
    "href": "Omics/NetworkPlot.html#数据准备",
    "title": "网络图",
    "section": "数据准备",
    "text": "数据准备\n\n1. 导入数据\n\n数据使用 pcutils 中的 otutab 数据集\nMetaNet 是一个针对组学数据的综合网络分析 R 包\nc_net_calculate() 函数用于快速计算变量间的相关性\nc_net_build() 函数用于构建网络\n\n\ndata(otutab, package = \"pcutils\")\nt(otutab) -&gt; totu\nc_net_calculate(totu, method = \"spearman\") -&gt; corr\nc_net_build(corr, r_threshold = 0.6, p_threshold = 0.05, delete_single = T) -&gt; co_net\nclass(co_net) \n\n[1] \"metanet\" \"igraph\" \n\n\n\n\n2. 获取网络属性\n用 MetaNet 构建网络后，得到的是一个分类对象，它来自 igraph。意味着可以同时使用 MetaNet 的专有功能和 igraph 的通用功能。接下来了解如何获取网络的基本信息：\n\n# 获取整体网络属性\nget_n(co_net)\n\n  n_type\n1 single\n\n# 查看节点(顶点)属性\nget_v(co_net) %&gt;% head(5)\n\n                          name  v_group  v_class size\n1 s__un_f__Thermomonosporaceae v_group1 v_class1    4\n2        s__Pelomonas_puraquae v_group1 v_class1    4\n3     s__Rhizobacter_bergeniae v_group1 v_class1    4\n4     s__Flavobacterium_terrae v_group1 v_class1    4\n5         s__un_g__Rhizobacter v_group1 v_class1    4\n                         label  shape   color\n1 s__un_f__Thermomonosporaceae circle #a6bce3\n2        s__Pelomonas_puraquae circle #a6bce3\n3     s__Rhizobacter_bergeniae circle #a6bce3\n4     s__Flavobacterium_terrae circle #a6bce3\n5         s__un_g__Rhizobacter circle #a6bce3\n\n### 查看边属性\nget_e(co_net) %&gt;% head(5)\n\n  id                         from                            to    weight\n1  1 s__un_f__Thermomonosporaceae     s__Actinocorallia_herbida 0.6759546\n2  2 s__un_f__Thermomonosporaceae       s__Kribbella_catacumbae 0.6742386\n3  3 s__un_f__Thermomonosporaceae       s__Kineosporia_rhamnosa 0.7378741\n4  4 s__un_f__Thermomonosporaceae   s__un_f__Micromonosporaceae 0.6236449\n5  5 s__un_f__Thermomonosporaceae s__Flavobacterium_saliperosum 0.6045747\n        cor      p.value   e_type     width   color  e_class lty\n1 0.6759546 0.0020739524 positive 0.6759546 #48A4F0 e_class1   1\n2 0.6742386 0.0021502138 positive 0.6742386 #48A4F0 e_class1   1\n3 0.7378741 0.0004730567 positive 0.7378741 #48A4F0 e_class1   1\n4 0.6236449 0.0056818984 positive 0.6236449 #48A4F0 e_class1   1\n5 0.6045747 0.0078660171 positive 0.6045747 #48A4F0 e_class1   1\n\n\n这些函数返回的数据框包含了最基本的多组学生物网络的关键信息，如节点名称、分组、大小、边的权重等。 MetaNet 在构建网络时已经设置了一些内部属性（如v_group、v_class、e_type等），这些属性将影响后续的分析和可视化。\n\n\n3. 为网络添加生物学意义\n在微生物组研究中，仅有网络结构是不够的，我们需要整合分类学、丰度等生物学信息。MetaNet 提供了灵活的注释功能：\n\n# 向节点添加分类信息\nc_net_annotate(co_net, taxonomy[\"Phylum\"], mode = \"v\") -&gt; co_net1\nanno &lt;- data.frame(\"from\" = \"s__un_f__Thermomonosporaceae\", \n                   \"to\" = \"s__Actinocorallia_herbida\", new_atr = \"new\")\nc_net_annotate(co_net, anno, mode = \"e\") -&gt; co_net1\n\n在 MetaNet 中提供 c_net_set() 函数，它可以同时添加多个注释表并指定哪些列用于设置节点大小、颜色等属性：\n\nAbundance_df &lt;- data.frame(\"Abundance\" = colSums(totu))\nco_net1 &lt;- c_net_set(co_net, taxonomy[\"Phylum\"], Abundance_df)\nco_net1 &lt;- co_net\nV(co_net1)$new_attri &lt;- seq_len(length(co_net1))\nE(co_net1)$new_attri &lt;- \"new attribute\"\nget_e(co_net1) %&gt;% head(5)\n\n  id                         from                            to    weight\n1  1 s__un_f__Thermomonosporaceae     s__Actinocorallia_herbida 0.6759546\n2  2 s__un_f__Thermomonosporaceae       s__Kribbella_catacumbae 0.6742386\n3  3 s__un_f__Thermomonosporaceae       s__Kineosporia_rhamnosa 0.7378741\n4  4 s__un_f__Thermomonosporaceae   s__un_f__Micromonosporaceae 0.6236449\n5  5 s__un_f__Thermomonosporaceae s__Flavobacterium_saliperosum 0.6045747\n        cor      p.value   e_type     width   color  e_class lty     new_attri\n1 0.6759546 0.0020739524 positive 0.6759546 #48A4F0 e_class1   1 new attribute\n2 0.6742386 0.0021502138 positive 0.6742386 #48A4F0 e_class1   1 new attribute\n3 0.7378741 0.0004730567 positive 0.7378741 #48A4F0 e_class1   1 new attribute\n4 0.6236449 0.0056818984 positive 0.6236449 #48A4F0 e_class1   1 new attribute\n5 0.6045747 0.0078660171 positive 0.6045747 #48A4F0 e_class1   1 new attribute\n\n\n这样，就能获得一个既有统计意义又有生物学背景的网络信息。"
  },
  {
    "objectID": "Omics/NetworkPlot.html#可视化",
    "href": "Omics/NetworkPlot.html#可视化",
    "title": "网络图",
    "section": "可视化",
    "text": "可视化\n\n1. 构建网络\n简单多组学网络：包含微生物组，代谢组，转录组等信息。\n\n# 基础网络图\ndata(\"multi_test\", package = \"MetaNet\")\ndata(\"c_net\", package = \"MetaNet\")\nmulti1 &lt;- multi_net_build(list(Microbiome = micro, Metabolome = metab, Transcriptome = transc))\nplot(multi1)\n\n\n\n\n基础网络图\n\n\n\n\n\n\n2. 添加 annotation\n\n# 设置顶点类别\nmulti1_with_anno &lt;- c_net_set(multi1, \n                              micro_g, metab_g, \n                              transc_g, \n                              vertex_class = c(\"Phylum\", \"kingdom\", \"type\"))\n\n# 设置顶点大小\nmulti1_with_anno &lt;- c_net_set(multi1_with_anno,\n                              data.frame(\"Abundance1\" = colSums(micro)),\n                              data.frame(\"Abundance2\" = colSums(metab)),\n                              data.frame(\"Abundance3\" = colSums(transc)),\n                              vertex_size = paste0(\"Abundance\", 1:3))\n\nplot(multi1_with_anno)\n\n\n\n\n添加 annotation\n\n\n\n\n\n\n3. 筛选子网络\n\n# 筛选子网络\ndata(\"multi_net\", package = \"MetaNet\")\nmulti2 &lt;- c_net_filter(multi1_with_anno, v_group %in% \n                         c(\"Microbiome\", \"Metabolome\")) %&gt;%\n  c_net_filter(., e_class == \"intra\", mode = \"e\")\n\nplot(multi2, lty_legend = T, main = \"Sub-network\") \n\n\n\n\n筛选子网络\n\n\n\n\n\n\n4. 合并网络\n\n# 网络1\ndata(\"c_net\")\nplot(co_net)\n\n\n\n\n网络1\n\n\n\n\n\n# 网络2\ndata(\"c_net\")\nplot(co_net2)\n\n\n\n\n网络2\n\n\n\n\n\n# 合并网络\nco_net_union &lt;- c_net_union(co_net, co_net2)\nplot(co_net_union)\n\n\n\n\n合并网络\n\n\n\n\nMetaNet 包为微生物网络分析提供了全面的工具集，从基础的网络构建到高级的注释与可视化。通过灵活使用这些功能，我们能够从复杂的微生物组数据中提取有意义的生物学模式，为理解微生物群落结构与功能提供新视角。"
  },
  {
    "objectID": "Omics/NetworkPlot.html#参考文献",
    "href": "Omics/NetworkPlot.html#参考文献",
    "title": "网络图",
    "section": "参考文献",
    "text": "参考文献\n[1] K. Contrepois, S. Wu, K. J. Moneghetti, D. Hornburg, et al., [Molecular Choreography of Acute Exercise (https://doi.org/10.1016/j.cell.2020.04.043). Cell. 181, 1112–1130.e16 (2020).\n[2] Y. Deng, Y. Jiang, Y. Yang, Z. He, et al., Molecular ecological network analyses. BMC bioinformatics (2012), doi:10.1186/1471-2105-13-113.\n[3] K. Faust, J. Raes, Microbial interactions: From networks to models. Nature Reviews Microbiology (2012), doi:10.1038/nrmicro2832.\n[4] Chen Peng (2025). MetaNet: Network Analysis for Omics Data. R package"
  },
  {
    "objectID": "Omics/CollinearityPlot.html",
    "href": "Omics/CollinearityPlot.html",
    "title": "共线性图",
    "section": "",
    "text": "共线性图（Collinearity Plot）常用于比较不同物种的基因组序列，识别保守的同源基因区块及其排列顺序，揭示进化过程中染色体结构的变化。该图广泛应用于研究基因组进化、功能基因定位及物种亲缘关系分析等。"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#示例",
    "href": "Omics/CollinearityPlot.html#示例",
    "title": "共线性图",
    "section": "示例",
    "text": "示例\n\n\n\n\n\n该图为三元基因组的共线性图，其中 Amborella、Grape、Liriodendron 表示三个不同的物种，长条代表基因组，数字为染色体编号，连线表示不同的物种基因组之间的比较。高亮的连线表示感兴趣的基因组区域的比较。"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#环境配置",
    "href": "Omics/CollinearityPlot.html#环境配置",
    "title": "共线性图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: 跨平台（Linux/MacOS/Windows）\n编程语言: R\n依赖包: RIdeogram\n\n\n# 安装包\nif (!requireNamespace(\"RIdeogram\", quietly = TRUE)) {\n  install.packages(\"RIdeogram\")\n}\n\n# 加载包\nlibrary(RIdeogram)"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#数据准备",
    "href": "Omics/CollinearityPlot.html#数据准备",
    "title": "共线性图",
    "section": "数据准备",
    "text": "数据准备\n我们导入 RIdeogram 包中提供的示例数据，karyotype_ternary_comparison 中包含了不同的物种以及基因组信息，synteny_ternary_comparison 中包含了不同物种之间基因组的比较信息。\n\ndata(karyotype_ternary_comparison, package=\"RIdeogram\")\ndata(synteny_ternary_comparison, package=\"RIdeogram\")\n\n\n# 查看 karyotype_ternary_comparison 数据格式\nhead(karyotype_ternary_comparison)\n\n  Chr Start      End   fill   species size  color\n1  NA     1 15980527 fcb06b Amborella   10 fcb06b\n2  NA     1 11522362 fcb06b Amborella   10 fcb06b\n3  NA     1 11085951 fcb06b Amborella   10 fcb06b\n4  NA     1 10537363 fcb06b Amborella   10 fcb06b\n5  NA     1  9585472 fcb06b Amborella   10 fcb06b\n6  NA     1  9414115 fcb06b Amborella   10 fcb06b\n\n\n\n# 查看 synteny_ternary_comparison 数据格式\nhead(synteny_ternary_comparison)\n\n  Species_1 Start_2   End_2 Species_2  Start_1    End_1   fill type\n1         1 4761181 2609697         1   342802   981451 cccccc    1\n2         6 6344197 8074393         1 15387184 16716190 cccccc    1\n3        10 6457890 9052487         1 11224953 14959548 cccccc    1\n4        13 6318795 1295413         1 20564870 21386271 cccccc    1\n5        16 1398101 2884119         1 21108654 22221088 cccccc    1\n6        16 1482529 2093625         1 21864494 22364888 cccccc    1"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#可视化",
    "href": "Omics/CollinearityPlot.html#可视化",
    "title": "共线性图",
    "section": "可视化",
    "text": "可视化\n\n1. 基础绘图\n可以使用 RIdeogram 包中提供的 ideogram 函数绘制共线性图。\n\n# 基础共线性图\nideogram(karyotype = karyotype_ternary_comparison, synteny = synteny_ternary_comparison)\nconvertSVG(\"chromosome.svg\", device = \"png\")\n\n\n\n\n\n\n\n图 1: 基础共线性图\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: \n\nkaryotype：包含不同物种以及基因组信息的表格，数据结构如 karyotype_ternary_comparison 所示。\noverlaid：包含了不同物种之间基因组比较信息的表格，数据结构如 synteny_ternary_comparison 所示。\n\n\n\n\n\n2. 修改颜色\n如果您想对修改绘图的颜色，只需修改 karyotype 和 overlaid 表格中的颜色列。如下所示，我们修改了 karyotype_ternary_comparison 表格中的 color 和 fill 列，以及 synteny_ternary_comparison 中的 fill 列。\n\n# 修改三个物种颜色\nchange_color1 &lt;- c(\"fcb06b\"=\"ff0000\", \"078dd8\"=\"00ff00\", \"139b08\"=\"0000ff\")\nkaryotype_ternary_comparison$color &lt;- as.character(change_color1[karyotype_ternary_comparison$color])\nkaryotype_ternary_comparison$fill &lt;- as.character(change_color1[karyotype_ternary_comparison$fill])\n\n# 修改连线颜色\nchange_color2 &lt;- c(\"cccccc\"=\"add8e6\", \"e41a1c\"=\"8b0000\")\nsynteny_ternary_comparison$fill &lt;- as.character(change_color2[synteny_ternary_comparison$fill])\n\n# 绘图\nideogram(karyotype = karyotype_ternary_comparison, synteny = synteny_ternary_comparison)\n\n\n\n\n\n\n\n图 2: 修改颜色"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#应用",
    "href": "Omics/CollinearityPlot.html#应用",
    "title": "共线性图",
    "section": "应用",
    "text": "应用\n\n\n\n\n\n\n图 3: 共线性图应用\n\n\n\n该图展示了 R2R3-MYB 基因在 B. napus 和 3 个祖先植物物种中的同源关系。图中显示了 Arabidopsis (A. thaliana)、Brassica rapa (B. rapa)、Brassica oleracea (B. oleracea)、Brassica napus (B. napus) 之间的共线性。[1]"
  },
  {
    "objectID": "Omics/CollinearityPlot.html#参考资料",
    "href": "Omics/CollinearityPlot.html#参考资料",
    "title": "共线性图",
    "section": "参考资料",
    "text": "参考资料\n[1] Luo D, Mei D, Wei W, Liu J. Identification and Phylogenetic Analysis of the R2R3-MYB Subfamily in Brassica napus. Plants (Basel). 2023;12(4):886. Published 2023 Feb 16. doi:10.3390/plants12040886"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html",
    "href": "Omics/GeneStructurePlot.html",
    "title": "基因结构图",
    "section": "",
    "text": "在生物学，尤其是分子生物学研究中解析基因的表达调控模式一直以来都是研究的重点内容，而在此过程中难免会有绘制一个基因的结构或者上下游关系的需求，因此本教程将基于R包gggenes对常见的一些基因结构画法进行总结。"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#示例",
    "href": "Omics/GeneStructurePlot.html#示例",
    "title": "基因结构图",
    "section": "示例",
    "text": "示例"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#环境配置",
    "href": "Omics/GeneStructurePlot.html#环境配置",
    "title": "基因结构图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：tidyverse; gggenes; ggtree\n\n\n# 安装包\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"gggenes\", quietly = TRUE)) {\n  install.packages(\"gggenes\")\n}\nif (!requireNamespace(\"ggtree\", quietly = TRUE)) {\n  install.packages(\"ggtree\")\n}\n\n# 加载包\nlibrary(tidyverse)\nlibrary(gggenes)\nlibrary(ggtree)"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#数据准备",
    "href": "Omics/GeneStructurePlot.html#数据准备",
    "title": "基因结构图",
    "section": "数据准备",
    "text": "数据准备\n数据使用gggenes中自带的example_genes数据集、example_subgenes数据集以及example_features数据集，分别记录了基因的位置信息、基因子结构的位置信息、基因上标记点的位置信息。\nexample_genes为一个数据框（dataframe），包含一个记录染色体或链信息的列作为纵坐标，一个记录基因或序列ID的列作为染色的映射索引，两个记录基因起始和终止位置的列，一个记录基因方向的列，每一行为一个基因，下表为example_genes的数据示例：\n\nhead(example_genes)\n\n  molecule gene start   end  strand orientation\n1  Genome1 genA 15389 17299 reverse           1\n2  Genome1 genB 17301 18161 forward           0\n3  Genome1 genC 18176 18640 reverse           1\n4  Genome1 genD 18641 18985 forward           0\n5  Genome1 genE 18999 20078 reverse           1\n6  Genome1 genF 20086 20451 forward           1\n\n\nexample_subgenes需要包含example_genes的所有列，并且需要额外包含一个记录基因子结构ID的列，两个记录基因子结构起始和终止位置的列，每一行为一个基因子结构，下表为example_subgenes的数据示例：\n\nhead(example_subgenes)\n\n  molecule gene  start    end  strand subgene   from     to orientation\n1  Genome5 genA 405113 407035 forward  genA-1 405774 406538           0\n2  Genome5 genB 407035 407916 forward  genB-1 407458 407897           0\n3  Genome5 genC 407927 408394 forward  genC-1 407942 408158           0\n4  Genome5 genC 407927 408394 forward  genC-2 408186 408209           0\n5  Genome5 genC 407927 408394 forward  genC-3 408233 408257           0\n6  Genome5 genF 409836 410315 forward  genF-1 409938 410016           0\n\n\nexample_features需要包含一个记录染色体或链信息的列，一个记录标记点名称的列，一个记录标记点类型的列，一个记录标记点位置的列，一个记录标记点方向的列，每一行为一个标记，下表为example_features的数据示例：\n\nhead(example_features)\n\n  molecule name             type position forward\n1  Genome1 tss9              tss    22988      NA\n2  Genome1  rs4 restriction site    18641      NA\n3  Genome1 ori5              ori    18174      NA\n4  Genome2  rs0 restriction site    12256      NA\n5  Genome2  rs1 restriction site    14076      NA\n6  Genome2 ori1              ori    13355   FALSE"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#可视化",
    "href": "Omics/GeneStructurePlot.html#可视化",
    "title": "基因结构图",
    "section": "可视化",
    "text": "可视化\n\n1. 基因结构图基础\ngggenes作为ggplot2的扩展，其功能由一个主要函数geom_gene_arrow以及若干次要函数完成，首先介绍gggenes的基础用法：\n\n1.1 绘制一连串的基因相对位置\n\n# 绘制一连串的基因相对位置\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1)  # gggenes通常配合facet_wrap函数进行分面使用。需要注意的是，画图界面过小的话会提示报错：“Viewport has zero dimension(s)”，只需将画图窗口拉大或者设置更大的界面即可。\n\n\n\n\n\n\n\n图 1: 绘制一连串的基因相对位置\n\n\n\n\n\n\n\n1.2 绘制一组基因\n如果关注的是基因本身的结构而不是基因的位置可以将基因ID作为纵轴：\n\n# 绘制一组基因\ndf &lt;- subset(example_genes, molecule == \"Genome4\")\ndf$end &lt;- df$end-df$start\ndf$start &lt;- 1\nggplot(df, aes(xmin = start, xmax = end, y = gene)) +\n    geom_gene_arrow()\n\n\n\n\n\n\n\n图 2: 绘制一组基因\n\n\n\n\n\n\n\n1.3 绘制基因子结构\n有时我们会关注于基因上更精细的结构，比如CDS位置或者特殊的motif位置等，此时则需要gggenes中提供的另一个扩展函数geom_subgene_arrow来完成，需要注意的是虽然example_subgenes也可以作为geom_gene_arrow的输入但是由于数据中的每一行都会创建一个基因的轮廓图像，因此在一个基因含有多个子结构的时候不建议这么做，建议的使用方法还是将基因信息以及子结构信息单独分为俩个数据框处理。使用方法如下：\n\n# 绘制基因子结构\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule)) +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    geom_gene_arrow(fill = \"white\") +\n    geom_subgene_arrow(data = example_subgenes,\n                       aes(fill = gene, xsubmin = from, xsubmax = to),\n                       color=\"black\", alpha=.7)\n\n\n\n\n\n\n\n图 3: 绘制基因子结构\n\n\n\n\n\n\n\n1.4 绘制基因标记点\n有时我们会关注基因或序列上的某个特殊点位，例如酶切位点或者启动子位点等，与基因或者其子结构不同的是标记常常为一个或有限的几个碱基，此时不适合使用箭头的画图方法，而geom_feature和geom_feature_label拓展函数则可以很好的完成这种标记任务：\n\n# 绘制基因标记点\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule)) +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    geom_gene_arrow(fill = \"white\")+\n    geom_feature(\n        data = example_features,\n        aes(x = position, y = molecule, forward = forward)\n    ) +\n    geom_feature_label(\n        data = example_features,\n        aes(x = position, y = molecule, label = name, forward = forward),\n        feature_height = unit(4, \"mm\"), #当标记点无法正常显示时，可以设置该参数调整标记的标签高度\n        label_height = unit(3, \"mm\") #当标记点标签大小不合适时，可以设置该参数调整标记的标签大小\n    ) +\n    theme_genes() #这个主题下面会提到\n\n\n\n\n\n\n\n图 4: 绘制基因标记点\n\n\n\n\n\n\n\n1.5 与进化树和作图\n我们可能会关注不同物种或品种在某个染色体区域的基因差异，此时我们可以将进化树与基因结构图联用，除了使用拼图的方法以外，R包ggtree也提供了一个接口用于二者联用： 首先我们需要获取一个树结构，这里直接用gggenes的数据集构造一个tree，实际使用时读取一个树文件即可。 根据基因结构生成一个进化树，实际使用不需要生成：\n\nget_genes &lt;- function(data, genome) {\n    filter(data, molecule == genome) %&gt;% pull(gene)\n}\n\ng &lt;- unique(example_genes[,1])\nn &lt;- length(g)\nd &lt;- matrix(nrow = n, ncol = n)\nrownames(d) &lt;- colnames(d) &lt;- g\ngenes &lt;- lapply(g, get_genes, data = example_genes)\n\nfor (i in 1:n) {\n    for (j in 1:i) {\n        jaccard_sim &lt;- length(intersect(genes[[i]], genes[[j]])) / \n            length(union(genes[[i]], genes[[j]]))\n        d[j, i] &lt;- d[i, j] &lt;- 1 - jaccard_sim\n    }\n}\ntree &lt;- ape::bionj(d) \n\n画图时使用ggtree函数，并在geom_facet中指定基因结构数据，并指定geom = geom_motif panel = 'Alignment'，on 参数用于指定需要对齐的基因名称（必须是所有物种共有的，如果没有的话暂时不知道怎么设置）。坐标映射参数为xmin和xmax。需要注意的是在上方被作为纵轴的染色体ID（这里可以是不同物种的名称）必须位于数据框的第一列，ggtree会通过比较树的枝标签以及基因结构的第一列来决定基因结构的纵轴位置。 画图代码如下：\n\n# 与进化树和作图\nggtree(tree, branch.length='none') + \n    geom_tiplab() + xlim_tree(5.5) + \n    geom_facet(data = example_genes,\n               geom = geom_motif,\n               mapping = aes(xmin = start, xmax = end, fill = gene), \n               panel = 'Alignment',on = 'genE', \n               label = 'gene', align = 'left') +\n    scale_fill_brewer(palette = \"Set3\") +  #修改配色的方法下面会提到\n    scale_x_continuous(expand=c(0,0)) +\n    theme(strip.text=element_blank())\n\n\n\n\n\n\n\n图 5: 与进化树和作图\n\n\n\n\n\n\n\n\n2. 图像美化\n\n2.1 theme_genes 主题\n在gggenes中，有一个名为theme_genes的图像主题，非常适合用于绘制基因结构：\n\n# theme_genes主题\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    theme_genes() \n\n\n\n\n\n\n\n图 6: theme_genes主题\n\n\n\n\n\n\n\n2.2 修改颜色\n对不同的基因添加颜色(子结构同理，不再赘述)：\n\n# 修改颜色\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill=gene)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    theme_genes()\n\n\n\n\n\n\n\n图 7: 修改颜色\n\n\n\n\n\n更换配色方案可以使用调色板或者手动设置：\n\n# 修改颜色\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    scale_fill_brewer(palette = \"Set3\") +\n    theme_genes()\n\n\n\n\n\n\n\n图 8: 修改颜色\n\n\n\n\n\n自定义配色：\n\n# 修改颜色\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    scale_fill_manual(values=c(\"genA\"=\"#266CAF\",\n                               \"genB\"=\"#BF3237\",\n                               \"genC\"=\"#54AC78\",\n                               \"genD\"=\"#FBD75F\")) +\n    theme_genes()\n\n\n\n\n\n\n\n图 9: 修改颜色\n\n\n\n\n\n\n\n2.3 为基因添加标签\n添加基因标签需要使用geom_gene_label扩展函数，该函数只需要额外定义一个label映射即可\n\n# 为基因添加标签\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene)) +\n    geom_gene_arrow() +\n    geom_gene_label(aes(label = gene),align = \"left\") +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    scale_fill_brewer(palette = \"Set3\") +\n    theme_genes()\n\n\n\n\n\n\n\n图 10: 为基因添加标签\n\n\n\n\n\n\n\n2.4 修改基因箭头形状\n想要修改箭头性状需要用到geom_gene_arrow中的两个参数：arrowhead_height arrowhead_width，分别定义箭头的高度与宽度\n\n# 修改基因箭头形状\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene)) +\n    geom_gene_arrow(arrowhead_height = unit(3, \"mm\"), arrowhead_width = unit(1, \"mm\")) +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    scale_fill_brewer(palette = \"Set3\") +\n    theme_genes()\n\n\n\n\n\n\n\n图 11: 修改基因箭头形状\n\n\n\n\n\n\n\n2.5 修改基因的方向\n修改基因方向一般需要设置forward映射，映射列的内容必须是可以转化为布尔值的值，例如：0/1，T/F，TRUE/FALSE，”True“/“False”等，可以使用as.logical函数自行判断。 在没有设置的情况下，基因的箭头默认指向xmax的方向，当设置forward的映射后，布尔值为TRUE的基因指向xmax的方向，布尔值为FALSE的基因指向xmin的方向。因此如果在你的数据中xmin和xmax本身就带有方向性，也可以不进行forward映射。\n\n# 修改基因的方向\nggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene, forward = orientation)) +\n    geom_gene_arrow() +\n    facet_wrap(~ molecule, scales = \"free\", ncol = 1) +\n    scale_fill_brewer(palette = \"Set3\") +\n    theme_genes()\n\n\n\n\n\n\n\n图 12: 修改基因的方向"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#应用场景",
    "href": "Omics/GeneStructurePlot.html#应用场景",
    "title": "基因结构图",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n\n\n图 13: 基因结构图应用\n\n\n\n图中展示了植物在进化过程中，NLR基因的丢失分化模型 [1]。"
  },
  {
    "objectID": "Omics/GeneStructurePlot.html#参考文献",
    "href": "Omics/GeneStructurePlot.html#参考文献",
    "title": "基因结构图",
    "section": "参考文献",
    "text": "参考文献\n[1] Guo BC, Zhang YR, Liu ZG, Li XC, Yu Z, Ping BY, Sun YQ, van den Burg H, Ma FW, Zhao T. Deciphering Plant NLR Genomic Evolution: Synteny-Informed Classification Unveils Insights into TNL Gene Loss. Mol Biol Evol. 2025 Feb 3;42(2):msaf015. doi: 10.1093/molbev/msaf015. PMID: 39835721; PMCID: PMC11789945."
  },
  {
    "objectID": "Omics/ManhattanPlot.html",
    "href": "Omics/ManhattanPlot.html",
    "title": "曼哈顿图",
    "section": "",
    "text": "Manhattan plot，即曼哈顿图，是一种用于描述染色体上的突变与性状之间关联强弱的图，由于图形形似美国曼哈顿区的城市景观因此得名曼哈顿图。绘制曼哈顿图一般使用散点图的形式，但是也可以使用柱状图或折线图展示，常用R包qqman或者直接使用ggplot2绘制。"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#示例",
    "href": "Omics/ManhattanPlot.html#示例",
    "title": "曼哈顿图",
    "section": "示例",
    "text": "示例\n\n\n\n\n\n曼哈顿图的横坐标为染色体位置，纵坐标为Pvalue或者诸如ΔSNP、ED等一切可以表示突变位点与性状之间关联强弱的值。下面将使用Pvalue作为示例。"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#环境配置",
    "href": "Omics/ManhattanPlot.html#环境配置",
    "title": "曼哈顿图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：qqman; tidyverse; aplot\n\n\n# 安装包\nif (!requireNamespace(\"qqman\", quietly = TRUE)) {\n  install.packages(\"qqman\")\n}\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"aplot\", quietly = TRUE)) {\n  install.packages(\"aplot\")\n}\n\n# 加载包\nlibrary(qqman)\nlibrary(tidyverse)\nlibrary(aplot)"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#数据准备",
    "href": "Omics/ManhattanPlot.html#数据准备",
    "title": "曼哈顿图",
    "section": "数据准备",
    "text": "数据准备\n数据使用qqman中自带的gwasResults数据集。\n\n# 查看数据集\nhead(gwasResults)\n\n  SNP CHR BP         P\n1 rs1   1  1 0.9148060\n2 rs2   1  2 0.9370754\n3 rs3   1  3 0.2861395\n4 rs4   1  4 0.8304476\n5 rs5   1  5 0.6417455\n6 rs6   1  6 0.5190959"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#可视化",
    "href": "Omics/ManhattanPlot.html#可视化",
    "title": "曼哈顿图",
    "section": "可视化",
    "text": "可视化\n\n1. qqman绘制曼哈顿图\nmanhattan和qq是qqman中最重要的两个函数，分别负责绘制曼哈顿图和QQ图：\n\n\n\n\n\n\n提示\n\n\n\nmanhattan 参数:\n\nx：输入数据，要求格式为dataframe数据框\nchr：记录染色体信息的列名，必须是数字\nbp：记录碱基坐标位置信息的列名，必须是数字\np：记录P值或其他值信息的列名，必须是数字\nsnp：记录SNP名称的列名\ncol：交替的颜色设置\nchrlabs：X轴上染色体的名称，默认与数据框中的名称一致\nsuggestiveline：蓝色阈值线，设置为FALSE时不绘制\ngenomewideline：红色阈值线，设置为FALSE时不绘制\nhighlight：高亮的SNP名称\nlogp：设置为TRUE时，纵轴为-log10(P)，设置为FALSE时纵轴为P\nannotatePval：设置阈值，标注图中高于该阈值的SNP\nannotateTop：每条染色体仅标注一个最高的SNP\n\n\n\n\n# 基础曼哈顿图\nmanhattan(gwasResults)\n\n\n\n\n\n\n\n图 1: 基础曼哈顿图\n\n\n\n\n\n此图展示了基因组上所有SNP与性状的关联情况，其中三号染色体上存在一个明显的峰，表明三号染色体上存在一个可能是与性状强相关的区域。\nmanhattan中染色体的颜色可以通过col参数修改：\n\n# 颜色设置\nmanhattan(gwasResults, col = c(\"#3E7B92\",\"#F0E442\",\"#BF242A\"))\n\n\n\n\n\n\n\n图 2: 颜色设置\n\n\n\n\n\n对特定SNP进行高亮显示：\n\n# 高亮设置\nmanhattan(gwasResults, highlight =\"rs3057\")\n\n\n\n\n\n\n\n图 3: 高亮设置\n\n\n\n\n\n标注高于阈值的SNP(每条染色体一个)：\n\n# 注释设置\nmanhattan(gwasResults, highlight =\"rs3057\", annotatePval=1e-5)\n\n\n\n\n\n\n\n图 4: 注释设置\n\n\n\n\n\n\n\n2. ggplot2绘制曼哈顿图\n使用qqman绘制曼哈顿图能满足大部分需求，然而仍有部分需求不能满足，例如设置阈值线的样式和颜色，此时可以用ggplot2绘图。\n\n# ggplot2绘制曼哈顿图\ndf &lt;- gwasResults\ndf$CHR &lt;- factor(as.character(df$CHR),levels=unique(df$CHR))\nlen &lt;- \n    df %&gt;% \n    group_by(CHR) %&gt;%  # CHR为染色体信息的列名\n    summarise(len=max(BP))  # BP为位置信息的列名\nlen &lt;-  # 计算snp在图中的位置\n    len %&gt;% summarise(pos=cumsum(len)-len)\nrownames(len) &lt;- unique(df$CHR)\ndf$BP &lt;- df$BP+len$pos[match(df$CHR,rownames(len))]\nX_axis &lt;-  df %&gt;% group_by(CHR) %&gt;% summarize(center=( max(BP) + min(BP) ) / 2 ) # 计算染色体的位置\n\n# 下面对P值进行多重矫正，qqman中对P取固定的阈值其实是不可取的。\nbf &lt;- max(df$P[p.adjust(df$P, method = \"bonferroni\")&lt;0.05])  # 使用bonferroni法\nfdr&lt;- max(df$P[p.adjust(df$P, method = \"fdr\")&lt;0.05])  # 使用fdr法\n\ncol &lt;- c(\"gray10\", \"gray60\") # 此处设置染色体颜色\ncols &lt;- rep(col ,nrow(X_axis))\nline_col1 &lt;- \"red\" # 此处阈值线颜色\nline_col2 &lt;- \"blue\"\nline_type1 &lt;- \"dashed\" # 此处阈值线类型\nline_type2 &lt;- \"dashed\" \nggplot()+\n    geom_point(df,mapping=aes(x=BP,y=-log10(P),color=CHR),alpha=0.7,size=1,shape=16)+\n    geom_hline(yintercept = -log10(bf),lty=line_type1 ,color= line_col1 )+\n    geom_hline(yintercept = -log10(fdr),lty=line_type2 ,color= line_col2)+\n    scale_color_manual(values = cols ) +\n    theme_bw()+\n    theme(panel.grid.major = element_blank(),panel.grid.minor=element_blank(),\n          legend.position = 'none')+\n    xlab(\"CHR\")+ylab(\"-log10(P)\")+ #横轴纵轴标题\n    scale_x_continuous( limits = c(0, max(df$BP)),label = X_axis$CHR, breaks= X_axis$center ) +\n    scale_y_continuous(expand = c(0,0)) \n\n\n\n\n\n\n\n图 5: ggplot2绘制曼哈顿图\n\n\n\n\n\n使用ggplot2绘制曼哈顿图的好处在于可以高度自定义图像的风格，可以注意到在上面我已经设置好了几个变量，只需要对这些变量进行修改即可自定义颜色以及阈值线样式。\n\ncol &lt;- c(\"#3E7B92\",\"#F0E442\",\"#BF242A\") #此处设置染色体颜色\ncols &lt;- rep(col ,nrow(X_axis))\nline_col1 &lt;- \"#DB5A6A\" #此处阈值线颜色\nline_col2 &lt;- \"#0050B7\"\nline_type1 &lt;- \"solid\" #此处阈值线类型，可以设置的线条类型有：”solid“,“blank”, “solid”, “dashed”, “dotted”, “dotdash”, “longdash”, “twodash”\nline_type2 &lt;- \"dotdash\" \nggplot()+\n    geom_point(df,mapping=aes(x=BP,y=-log10(P),color=CHR),alpha=0.7,size=1,shape=16)+\n    geom_hline(yintercept = -log10(bf),lty=line_type1 ,color= line_col1 )+\n    geom_hline(yintercept = -log10(fdr),lty=line_type2 ,color= line_col2)+\n    scale_color_manual(values = cols ) +\n    theme_bw()+\n    theme(panel.grid.major = element_blank(),panel.grid.minor=element_blank(),\n          legend.position = 'none')+\n    xlab(\"CHR\")+ylab(\"-log10(P)\")+\n    scale_x_continuous( limits = c(0, max(df$BP)),label = X_axis$CHR, breaks= X_axis$center ) +\n    scale_y_continuous(expand = c(0,0)) \n\n\n\n\n\n\n\n图 6: ggplot2修改颜色\n\n\n\n\n\n由于ggplot2绘图是将一张张图叠加起来，因此可以将筛选后的SNP用geom_point叠加到原图上：\n\ndf2 &lt;- df[df$P&lt;bf,]\ndf3 &lt;- df[df$SNP==\"rs3057\",]\ncol &lt;- c(\"gray10\", \"gray60\") #此处设置染色体颜色\ncols &lt;- rep(col ,nrow(X_axis))\nline_col1 &lt;- \"red\" #此处阈值线颜色\nline_col2 &lt;- \"blue\"\nline_type1 &lt;- \"dashed\" #此处阈值线类型\nline_type2 &lt;- \"dashed\" \nggplot()+\n    geom_point(df,mapping=aes(x=BP,y=-log10(P),color=CHR),alpha=0.7,size=1,shape=16)+\n    geom_point(df2,mapping=aes(x=BP,y=-log10(P)),color=\"blue\",size=1,shape=16)+\n    geom_point(df3,mapping=aes(x=BP,y=-log10(P)),color=\"red\",size=3,shape=18)+\n    geom_hline(yintercept = -log10(bf),lty=line_type1 ,color= line_col1 )+\n    geom_hline(yintercept = -log10(fdr),lty=line_type2 ,color= line_col2)+\n    scale_color_manual(values = cols ) +\n    theme_bw()+\n    theme(panel.grid.major = element_blank(),panel.grid.minor=element_blank(),\n          legend.position = 'none')+\n    xlab(\"CHR\")+ylab(\"-log10(P)\")+\n    scale_x_continuous( limits = c(0, max(df$BP)),label = X_axis$CHR, breaks= X_axis$center ) +\n    scale_y_continuous(limits = c(0, max(-log10(df$P))+1),expand = c(0,0)) \n\n\n\n\n\n\n\n图 7: 高亮或标记snp\n\n\n\n\n\n当你有两个性状时可能需要将两个性状的GWAS结果同时展现在结果上，可以使用下列方法绘制双向曼哈顿图。这里只用一组数据作为示例。\n\ncol &lt;- c(\"gray10\", \"gray60\") #此处设置染色体颜色\ncols &lt;- rep(col ,nrow(X_axis))\nline_col1 &lt;- \"red\" #此处阈值线颜色\nline_col2 &lt;- \"blue\"\nline_type1 &lt;- \"dashed\" #此处阈值线类型\nline_type2 &lt;- \"dashed\" \np1 &lt;- \n    ggplot()+\n    geom_point(df,mapping=aes(x=BP,y=-log10(P),color=CHR),alpha=0.7,size=1,shape=16)+\n    geom_hline(yintercept = -log10(bf),lty=line_type1 ,color= line_col1 )+\n    geom_hline(yintercept = -log10(fdr),lty=line_type2 ,color= line_col2)+\n    scale_color_manual(values = cols ) +\n    theme_bw()+\n    theme(panel.grid.major = element_blank(),panel.grid.minor=element_blank(),\n          axis.text.x = element_text(vjust = -2),\n          axis.title.x = element_blank(),\n          legend.position = 'none')+\n    ylab(\"-log10(P)\")+ #横轴纵轴标题\n    scale_x_continuous( limits = c(0, max(df$BP)),label = X_axis$CHR, breaks= X_axis$center ) +\n    scale_y_continuous(expand = c(0,0)) \np2 &lt;- \n    ggplot()+\n    geom_point(df,mapping=aes(x=BP,y=-log10(P),color=CHR),alpha=0.7,size=1,shape=16)+\n    geom_hline(yintercept = -log10(bf),lty=line_type1 ,color= line_col1 )+\n    geom_hline(yintercept = -log10(fdr),lty=line_type2 ,color= line_col2)+\n    scale_color_manual(values = cols ) +\n    theme_bw()+\n    theme(panel.grid.major = element_blank(),panel.grid.minor=element_blank(),\n          axis.text.x = element_blank(),axis.title.x = element_blank(),\n          legend.position = 'none')+\n    ylab(\"-log10(P)\")+\n    scale_x_continuous( limits = c(0, max(df$BP)),label = X_axis$CHR, breaks= X_axis$center ,position = 'top') +\n    scale_y_reverse(expand = c(0,0))\np1/p2\n\n\n\n\n\n\n\n图 8: 双向曼哈顿图"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#应用场景",
    "href": "Omics/ManhattanPlot.html#应用场景",
    "title": "曼哈顿图",
    "section": "应用场景",
    "text": "应用场景\nfig-HistApplications} \n曼哈顿图应用 :::\n此图展示了杨树上的SNP位点与温度（上图）/降雨（下图）之间的关联 [1]。"
  },
  {
    "objectID": "Omics/ManhattanPlot.html#参考文献",
    "href": "Omics/ManhattanPlot.html#参考文献",
    "title": "曼哈顿图",
    "section": "参考文献",
    "text": "参考文献\n[1] Sang Y, Long Z, Dan X, Feng J, Shi T, Jia C, Zhang X, Lai Q, Yang G, Zhang H, Xu X, Liu H, Jiang Y, Ingvarsson PK, Liu J, Mao K, Wang J. Genomic insights into local adaptation and future climate-induced vulnerability of a keystone forest tree in East Asia. Nat Commun. 2022 Nov 1;13(1):6541. doi: 10.1038/s41467-022-34206-8. PMID: 36319648; PMCID: PMC9626627."
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html",
    "href": "Omics/MultiVolcanoPlot.html",
    "title": "多组火山图",
    "section": "",
    "text": "多组火山图是一种用于高通量数据（如转录组、蛋白组）差异表达分析的图形。相比于传统火山图，多组火山图可以同时展示多个分组的结果，便于横向比较差异特征的一致性或特异性。"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#示例",
    "href": "Omics/MultiVolcanoPlot.html#示例",
    "title": "多组火山图",
    "section": "示例",
    "text": "示例\n\n\n\n\n\n这个多组火山图展示了单细胞测序数据中多个细胞类群的差异基因表达模式。X 轴不同的颜色的方块表示不同的细胞类群，方块内部的散点表示差异基因，使用 geom_jitter 函数给散点添加了抖动效果，以避免数据点重叠。Y 轴表示差异倍数（Average log2FoldChange，红色散点表示 log2FC&gt;0 的上调基因，蓝色散点表示 log2FC&lt;0 的下调基因，文字标记出了 top5 差异基因。多组火山图不仅突出了各细胞类群特异性差异基因（如特定细胞类型的标记基因），还能直观识别跨细胞类群共有的关键调控分子。"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#环境配置",
    "href": "Omics/MultiVolcanoPlot.html#环境配置",
    "title": "多组火山图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：scRNAtoolVis; corrplot\n\n\n# 安装包\nif (!requireNamespace(\"scRNAtoolVis\", quietly = TRUE)) {\n  install_github('junjunlab/scRNAtoolVis')\n}\nif (!requireNamespace(\"corrplot\", quietly = TRUE)) {\n  install.packages(\"corrplot\")\n}\n\n# 加载包\nlibrary(scRNAtoolVis)\nlibrary(corrplot)"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#数据准备",
    "href": "Omics/MultiVolcanoPlot.html#数据准备",
    "title": "多组火山图",
    "section": "数据准备",
    "text": "数据准备\n数据使用 scRNAtoolVis 包中提供的 pbmc.markers 单细胞测序差异基因数据集。\n\n# 读取数据\ndata('pbmc.markers')\n# 查看数据集\nhead(pbmc.markers)\n\n              p_val avg_log2FC pct.1 pct.2     p_val_adj     cluster  gene\nRPS12 2.008629e-140  0.7256738 1.000 0.991 2.754633e-136 Naive CD4 T RPS12\nRPS27 2.624075e-140  0.7242847 0.999 0.992 3.598656e-136 Naive CD4 T RPS27\nRPS6  1.280169e-138  0.6742630 1.000 0.995 1.755623e-134 Naive CD4 T  RPS6\nRPL32 4.358823e-135  0.6121027 0.999 0.995 5.977689e-131 Naive CD4 T RPL32\nRPS14 3.618793e-128  0.6179756 1.000 0.994 4.962812e-124 Naive CD4 T RPS14\nCYBA  1.090337e-124 -1.5739355 0.661 0.914 1.495288e-120 Naive CD4 T  CYBA\n\n\n注意：数据集中应至少包括 p_val、avg_log2FC、p_val_adj、cluster、gene 这五列，且列名称不能改变，列顺序可以改变。绘图中展示的分组方块的名称为 cluster 列内容中的名称。"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#可视化",
    "href": "Omics/MultiVolcanoPlot.html#可视化",
    "title": "多组火山图",
    "section": "可视化",
    "text": "可视化\n\n1. 基础绘图\n可以使用 scRNAtoolVis 包中提供的 jjVolcano 函数绘制多组火山图。\n\n# 基础多组火山图\np &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  topGeneN = 5,\n  log2FC.cutoff = 0.5,\n  col.type = \"updown\",\n  aesCol = c('#0099CC','#CC3333'),\n  tile.col = corrplot::COL2('PuOr', 15)[4:12],\n  cluster.order = rev(unique(pbmc.markers$cluster)),\n  size  = 3.5,\n  fontface = 'italic'\n  )\n\np\n\n\n\n\n\n\n\n图 1: 基础多组火山图\n\n\n\n\n\nFigure 1 绘制了九种单细胞类群中上调和下调的差异基因。\n\n\n\n\n\n\n提示\n\n\n\n关键参数: \n\ndiffData: 输入的差异基因表格，数据结构如 pbmc.markers 所示。\nmyMarkers: 自定义要展示文字标签的基因，例如：myMarkers = c('PPBP', 'PF4') 自定义展示两个基因的文字标签。\n\n\n\n\n# 设置参数 myMarkers = c('PPBP', 'PF4')\np &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  myMarkers = c('PPBP', 'PF4'),\n  log2FC.cutoff = 0.5,\n  col.type = \"updown\",\n  aesCol = c('#0099CC','#CC3333'),\n  tile.col = corrplot::COL2('PuOr', 15)[4:12],\n  cluster.order = rev(unique(pbmc.markers$cluster)),\n  size  = 3.5,\n  fontface = 'italic',\n  legend.position = c(0.7,0.9)\n  )\n\np\n\n\n\n\n\n\n\n图 2: 关键参数：myMarkers\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: \n\ntopGeneN: 展示多少个 top 基因的文字标签，Figure1 示例中 topGeneN = 5 展示了每个类群中 top5 的上调和下调基因的文字标签，topGeneN 和 myMarkers 参数不能同时使用。\nlog2FC.cutoff: 设置 log2FoldChange 的阈值，该参数决定了分组方块的上下边界。\n\n\n\n\n# 设置 log2FC.cutoff=0.5\np1 &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  topGeneN = 0,\n  log2FC.cutoff = 0.5,\n  col.type = \"updown\",\n  aesCol = c('#0099CC','#CC3333'),\n  tile.col = corrplot::COL2('PuOr', 15)[4:12],\n  cluster.order = rev(unique(pbmc.markers$cluster)),\n  size  = 3.5,\n  fontface = 'italic',\n  legend.position = c(0.7,0.9)\n  )\n\n# 设置 log2FC.cutoff=2.5\np2 &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  topGeneN = 0,\n  log2FC.cutoff = 2.5,\n  col.type = \"updown\",\n  aesCol = c('#0099CC','#CC3333'),\n  tile.col = corrplot::COL2('PuOr', 15)[4:12],\n  cluster.order = rev(unique(pbmc.markers$cluster)),\n  size  = 3.5,\n  fontface = 'italic',\n  legend.position = c(0.7,0.9)\n  )\n\np1 + p2\n\n\n\n\n\n\n\n图 3: 关键参数：log2FC.cutoff\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: \n\ncol.type: 散点颜色分组方式，Figure1 示例按照 “updown” 分组，也可以按照 “adjustP” 分组。\n\n\n\n\n# 设置参数 col.type=\"adjustP\"\np &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  topGeneN = 5,\n  log2FC.cutoff = 0.5,\n  col.type = \"adjustP\",\n  aesCol = c('#0099CC','#CC3333'),\n  tile.col = corrplot::COL2('PuOr', 15)[4:12],\n  cluster.order = rev(unique(pbmc.markers$cluster)),\n  size  = 3.5,\n  fontface = 'italic',\n  legend.position = c(0.7,0.9)\n  )\n\np\n\n\n\n\n\n\n\n图 4: 关键参数：col.type\n\n\n\n\n\n\n\n\n\n\n\n提示\n\n\n\n关键参数: \n\naesCol：设置散点的颜色配色。\ntile.col：设置分组方块的颜色配色。\ncluster.order：设置分组方块的顺序。\nsize：设置基因文字标签的字体大小。\nfontface：设置基因文字标签的字体样式。\nlegend.position：设置 legend 的位置。\n\n\n\n\n\n2. 旋转方向\n使用 jjVolcano 函数中的 flip 参数可以旋转热图的方向。\n\n# 横向多组火山图\np &lt;- \n  jjVolcano(\n    diffData = pbmc.markers,\n    tile.col = corrplot::COL2('PiYG', 15)[4:12],\n    size  = 3.5,\n    fontface = 'italic',\n    legend.position = c(0.8,0.2),\n    flip = T)\n\np\n\n\n\n\n\n\n\n图 5: 关键参数：flip\n\n\n\n\n\nFigure 5 通过设置参数 flip = T 将多组火山图旋转为横向。\n\n\n3. 极坐标\n\n# 极坐标多组火山图\np &lt;- jjVolcano(\n  diffData = pbmc.markers,\n  tile.col = corrplot::COL2('RdBu', 15)[4:12],\n  size  = 3.5,\n  fontface = 'italic',\n  polar = T)\n\np\n\n\n\n\n\n\n\n图 6: 关键参数：polar\n\n\n\n\n\nFigure 6 通过设置参数 polar = T 将多组火山图转换为极坐标。"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#应用场景",
    "href": "Omics/MultiVolcanoPlot.html#应用场景",
    "title": "多组火山图",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n\n\n图 7: 多组火山图应用\n\n\n\nFigure 7H 显示了所有十个单细胞类群中上调和下调基因的差异基因表达分析。调整后的P值&lt;0.01表示为红色，而调整后的P值≥0.01表示为黑色 [1]。"
  },
  {
    "objectID": "Omics/MultiVolcanoPlot.html#参考文献",
    "href": "Omics/MultiVolcanoPlot.html#参考文献",
    "title": "多组火山图",
    "section": "参考文献",
    "text": "参考文献\n[1] Asp M, Giacomello S, Larsson L, et al. A Spatiotemporal Organ-Wide Gene Expression and Cell Atlas of the Developing Human Heart. Cell. 2019;179(7):1647-1660.e19. doi:10.1016/j.cell.2019.11.025."
  },
  {
    "objectID": "Ranking/VennPlot.html",
    "href": "Ranking/VennPlot.html",
    "title": "韦恩图",
    "section": "",
    "text": "对于Venn图的可视化，常用的R包有ggVennDiagram和VennDiagram包，相比于VennDiagram包而言ggVennDiagram具有适用于更多分组、可以适配ggplot2语法和可以灵活设置的输出格式等优点，学习和后期处理更简单。然而ggVennDiagram的集合颜色只能设置为与元素个数相关的连续型渐变色，不能设置为每个集合一种颜色的离散型色彩，VennDiagram则恰好相反，因此可以根据具体需求选择需要使用哪个R包进行绘图。",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#示例",
    "href": "Ranking/VennPlot.html#示例",
    "title": "韦恩图",
    "section": "示例",
    "text": "示例",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#环境配置",
    "href": "Ranking/VennPlot.html#环境配置",
    "title": "韦恩图",
    "section": "环境配置",
    "text": "环境配置\n\n系统要求： 跨平台（Linux/MacOS/Windows）\n编程语言：R\n依赖包：ggplot2; ggVennDiagram; VennDiagram\n\n\n# 安装包\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggVennDiagram\", quietly = TRUE)) {\n  install.packages(\"ggVennDiagram\")\n}\nif (!requireNamespace(\"VennDiagram\", quietly = TRUE)) {\n  install.packages(\"VennDiagram\")\n}\n\n# 加载包\nlibrary(ggplot2)\nlibrary(ggVennDiagram)\nlibrary(VennDiagram)",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#数据准备",
    "href": "Ranking/VennPlot.html#数据准备",
    "title": "韦恩图",
    "section": "数据准备",
    "text": "数据准备\n数据使用模拟基因集，假设我们有多组不同的处理A~D，在不同处理下各自产生了一定数量的差异表达基因。 ggVennDiagram要求的输入格式为一个list，list中的每个元素都需要有对应的名称以及包含的子元素。\n\ngenes &lt;- paste(\"gene\",1:1000,sep=\"\")\nset.seed(123)\nx &lt;- list(A=sample(genes,300),\n          B=sample(genes,525),\n          C=sample(genes,440),\n          D=sample(genes,350))",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#可视化",
    "href": "Ranking/VennPlot.html#可视化",
    "title": "韦恩图",
    "section": "可视化",
    "text": "可视化\n\n\n\n\n\n\n提示\n\n\n\nggVennDiagram基本参数:\n\nx: 需要输入的list集合数据\ncategory.names: 集合名称，默认为list中定义的名称\nshow_intersect: 设置为TRUE时，输出可交互式图像\nset_color: 集合的描边颜色，可输入一个或数量与集合一致的颜色\nset_size: 集合标签的大小\nlabel: 集合中数字标签的类型，可从”both”, “count”, “percent”, “none”中选择一个输入，默认为”both”\nlabel_alpha: 数字标签的背景透明度\nlabel_geom: 数字标签的图层位置，可从”label”, “text”中选择一个，默认为”label”，当输入”text“时标签将位于集合色块的下方\nlabel_color: 数字标签的颜色\nlabel_size: 数字标签的大小\nlabel_percent_digit: 数字标签的小数保留位数\nlabel_txtWidth: 在交互模式时，显示交集元素的文本框宽度\nedge_lty: 集合描边的线条类型，默认为”solid“实线，其他可以设置的线条类型有：“blank”, “solid”, “dashed”, “dotted”, “dotdash”, “longdash”, “twodash”\nedge_size: 集合描边的线条宽度\nforce_upset: 是否使用upset图展示交集情况\nnintersects: 绘图采用的集合数量，如果为NULL则使用所有的集合\norder.intersect.by: 绘制upset图时交集的排列方式\norder.set.by: 绘制upset图时集合的排列方式\nrelative_height: 绘制upset图时上方柱状图的相对高度\nrelative_width: 绘制upset图时左侧柱状图的相对宽度\n\n\n\n\n1. 基础韦恩图\n\n# 基础韦恩图\nggVennDiagram(x)\n\n\n\n\n\n\n\n图 1: 基础韦恩图\n\n\n\n\n\n此图展示了在不同处理下差异基因的交集情况。\n\n\n2. 美化韦恩图\nggVennDiagram中集合的颜色是根据集合中包含的元素数量设置的连续型变量。可以通过ggplot2中的scale_fill_gradient或scale_fill_gradient2等函数修改集合颜色，例如使用以下代码实现连续色彩设置：\n\n# 颜色设置\nggVennDiagram(x) + scale_fill_gradient(low=\"grey90\",high = \"red\")\n\n\n\n\n\n\n\n图 2: 颜色设置\n\n\n\n\n\n也可以使用scale_fill_gradient2来更自由地定义颜色：\n\n# 颜色设置\nggVennDiagram(x) + scale_fill_gradient2(low=\"grey90\",mid = \"yellow\",midpoint = 100,high = \"red\")\n\n\n\n\n\n\n\n图 3: 颜色设置\n\n\n\n\n\n更复杂的色彩设置可以通过调用调色板完成：\n\n# 颜色设置\nggVennDiagram(x) + scale_fill_distiller(palette = \"Set1\") \n\n\n\n\n\n\n\n图 4: 颜色设置\n\n\n\n\n\n需要自定义调色板也非常简单：\n\n# 颜色设置\ncols &lt;- c('#E64E00','#65B48E','#E6EB00','#E64E00')\npal &lt;- colorRampPalette(cols)\nggVennDiagram(x) + scale_fill_gradientn(colors = pal(10)) # 数字为色阶数量\n\n\n\n\n\n\n\n图 5: 颜色设置\n\n\n\n\n\nggVennDiagram同样可以通过edge_lty、edge_size、set_color自定义集合的边框。\n\n# 边框设置\nggVennDiagram(x, set_color=c(\"blue\",\"red\",\"green\",\"purple\"), edge_lty=\"dashed\", edge_size=2)\n\n\n\n\n\n\n\n图 6: 边框设置\n\n\n\n\n\n字体设置可以通过以下参数修改：\n\n# 字体设置\n# 下列参数中较为特殊的是label，label的四个可选输入中\"percent\"为仅显示百分比， \"count\"为仅显示数量，“none”为不显示。\nggVennDiagram(x, set_size = 5, label = \"percent\", label_alpha = 0, \n              label_color = \"red\", label_size = 5, label_percent_digit = 2)\n\n\n\n\n\n\n\n图 7: 字体设置\n\n\n\n\n\n\n\n3. VennDiagram\n我们还可以通过VennDiagram包来绘制韦恩图。\n\n\n\n\n\n\n提示\n\n\n\nvenn.diagram基本参数:\n\nx: 需要输入的list集合数据\nfilename: 输出文件名\nimagetype: 输出文件类型可从”tiff”,“png”,“svg”中选择\nunits: 图片尺寸单位可从”cm”,“px”,“unit”中选择\nheight: 图片高度\nwidth: 图片宽度\nresolution: 图片分辨率\ncompression: 图片压缩算法\nscaled: 根据比例显示集合大小\nalpha: 集合透明度\nfill: 集合颜色\ncol: 线条颜色\nlwd: 线条粗细\nlty: 线条形状，1为实线, 2为虚线, blank为无线条\nlabel.col: 数字颜色\ncex: 数字大小\ncat.dist: 标签距离集合的远近\ncat.pos: 标签相对于集合的角度\ncat.cex: 标签字体大小\ncat.col: 标签颜色\n\n\n\nVennDiagram包的核心函数为venn.diagram，该函数不能直接将图像绘制到画板上，可以通过与grid::grid.draw()函数配合将图像绘制到画板。\n\np &lt;- venn.diagram(x,filename = NULL);grid::grid.draw(p)\n\n\n\n\n\n\n\n图 8: venn.diagram\n\n\n\n\n\nVennDiagram集合颜色设置于ggVennDiagram最大的区别在于颜色是根据不同集合设置的离散型颜色，设置方法如下：\n\n# 仅输入一个颜色时，所有集合显示同一个颜色，当输入颜色数量与集合数量一致时每个集合各自一个颜色，也可以使用指定命名的方式精确设置集合的颜色\np &lt;- venn.diagram(\n  x, filename = NULL,\n  fill = c(\"A\"=\"#2E75A2\",\"B\"=\"#FBD75F\",\"C\"=\"#379337\",\"D\"=\"#C13A3C\"),\n  alpha= 0.3);grid::grid.draw(p)\n\n\n\n\n\n\n\n图 9: 颜色设置\n\n\n\n\n\n线条设置：\n\np &lt;- venn.diagram(\n  x, filename = NULL,\n  col = c(\"A\"=\"#2E75A2\",\"B\"=\"#FBD75F\",\"C\"=\"#379337\",\"D\"=\"#C13A3C\"),\n  lwd = 0.3, lty = 2);grid::grid.draw(p)\n\n\n\n\n\n\n\n图 10: 线条设置\n\n\n\n\n\n字体设置，如果需要调整位置请使用 cat.dist、cat.pos 参数：\n\np &lt;- venn.diagram(\n  x, filename = NULL, \n  cat.col =c(\"A\"=\"#2E75A2\",\"B\"=\"#FBD75F\",\"C\"=\"#379337\",\"D\"=\"#C13A3C\"),\n  label.col = \"red\");grid::grid.draw(p)\n\n\n\n\n\n\n\n图 11: 字体设置\n\n\n\n\n\n按照比例展示集合大小，该模式仅适用于两个集合使用：\n\np &lt;- venn.diagram(\n  x[c(\"A\",\"B\")], filename = NULL, fill= c(\"A\"=\"#2E75A2\",\"B\"=\"#FBD75F\"),\n  scaled = T\n);grid::grid.draw(p)\n\n\n\n\n\n\n\n图 12: scaled",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#应用场景",
    "href": "Ranking/VennPlot.html#应用场景",
    "title": "韦恩图",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n\n\n图 13: 韦恩图应用\n\n\n\n此图中R1-R4为四种不同的基因型，由于R2 R4在目的基因处基因型完全相同，因此R2R4共有的差异表达基因可能就是目的基因的下游 [4]。",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "Ranking/VennPlot.html#参考文献",
    "href": "Ranking/VennPlot.html#参考文献",
    "title": "韦恩图",
    "section": "参考文献",
    "text": "参考文献\n[1] Yu Y, Li W, Liu Y, Liu Y, Zhang Q, Ouyang Y, Ding W, Xue Y, Zou Y, Yan J, Jia A, Yan J, Hao X, Gou Y, Zhai Z, Liu L, Zheng Y, Zhang B, Xu J, Yang N, Xiao Y, Zhuo L, Lai Z, Yin P, Liu HJ, Fernie AR, Jackson D, Yan J. A Zea genus-specific micropeptide controls kernel dehydration in maize. Cell. 2025 Jan 9;188(1):44-59.e21. doi: 10.1016/j.cell.2024.10.030. Epub 2024 Nov 12. PMID: 39536747.",
    "crumbs": [
      "Ranking",
      "VeenPlot"
    ]
  },
  {
    "objectID": "GraphGallery.html",
    "href": "GraphGallery.html",
    "title": "Graph Gallery",
    "section": "",
    "text": "👋 Bizard 是一个为生物医学研究量身定制的高级可视化代码综合存储库。\n该工具包包括各种各样的图表选项，从变化分布到交互式可视化，系统组织以满足生物医学数据分析的独特需求。建立在强大的基础上，每个示例都包含可重复的 R 代码，详细注释和现实世界数据集，以确保可访问性和实际应用。\n借助初学者和经验丰富的研究人员的资源，Bizard 使用户能够创建直观，科学严格且视觉上令人信服的输出，从而在生物医学领域中推进数据可视化标准。",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "GraphGallery.html#under-construction-demo-only",
    "href": "GraphGallery.html#under-construction-demo-only",
    "title": "Graph Gallery",
    "section": "UNDER CONSTRUCTION [DEMO ONLY]",
    "text": "UNDER CONSTRUCTION [DEMO ONLY]",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "GraphGallery.html#distribution-gallery",
    "href": "GraphGallery.html#distribution-gallery",
    "title": "Graph Gallery",
    "section": "Distribution Gallery",
    "text": "Distribution Gallery",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "GraphGallery.html#correlation-gallery",
    "href": "GraphGallery.html#correlation-gallery",
    "title": "Graph Gallery",
    "section": "Correlation Gallery",
    "text": "Correlation Gallery\n\n\n\nCorrelation DEMO",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "GraphGallery.html#ranking-gallery",
    "href": "GraphGallery.html#ranking-gallery",
    "title": "Graph Gallery",
    "section": "Ranking Gallery",
    "text": "Ranking Gallery\n\n\n\nRanking DEMO",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "GraphGallery.html#others",
    "href": "GraphGallery.html#others",
    "title": "Graph Gallery",
    "section": "Others",
    "text": "Others",
    "crumbs": [
      "Graph Gallery"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Bizard",
    "section": "",
    "text": "在生物医学研究中，数据可视化是解读复杂数据集、推动科学发现和指导临床决策的关键工具。R语言凭借其强大的统计功能和丰富的扩展包生态系统，已成为创建高质量可视化的基石。然而，R语言绘图工具包数量庞大且持续更新，研究人员常面临方法选择与图表定制的双重挑战——他们需要根据特定研究需求筛选合适方案并进行个性化调整。这一过程不仅需要高超的编程技能、跨学科协作能力，还需投入大量时间，这些因素都可能延缓研究进度，甚至影响实验结果的准确性。\n为应对这些挑战，我们开发了 Bizard。这个社区驱动的综合性平台整合了精选可视化代码库、进阶教程和协作论坛，通过优化资源获取路径与促进知识共享，致力于提升生物医学研究者的数据分析能力，加速科研成果向临床实践的转化。",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "Bizard",
    "section": "",
    "text": "在生物医学研究中，数据可视化是解读复杂数据集、推动科学发现和指导临床决策的关键工具。R语言凭借其强大的统计功能和丰富的扩展包生态系统，已成为创建高质量可视化的基石。然而，R语言绘图工具包数量庞大且持续更新，研究人员常面临方法选择与图表定制的双重挑战——他们需要根据特定研究需求筛选合适方案并进行个性化调整。这一过程不仅需要高超的编程技能、跨学科协作能力，还需投入大量时间，这些因素都可能延缓研究进度，甚至影响实验结果的准确性。\n为应对这些挑战，我们开发了 Bizard。这个社区驱动的综合性平台整合了精选可视化代码库、进阶教程和协作论坛，通过优化资源获取路径与促进知识共享，致力于提升生物医学研究者的数据分析能力，加速科研成果向临床实践的转化。",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#什么是-bizard",
    "href": "index.html#什么是-bizard",
    "title": "Bizard",
    "section": "什么是 Bizard?",
    "text": "什么是 Bizard?\nBizard 汇聚了强大的可视化工具、精选代码和协作功能，助力研究人员高效完成数据分析，并以清晰有力的方式呈现研究成果。\n\n全面可视化资源库: 整合来自多方的可视化代码，既有经典图表库（graphgallery）资源，也有全球专家的创新贡献，为生物医学研究提供前沿工具集。\n多样化图表支持: 提供涵盖变量分布、相关性分析、排序图表及交互式可视化等场景的R代码实现，满足多元数据分析需求。\n真实场景应用: 基于R原生数据集与真实生物医学数据案例，让可视化技术的学习和应用更贴近实际研究场景，加速临床转化进程。\n生物医学数据适配: 包含预处理算法、带注释的绘图代码和专用方法，适配生物医学数据的复杂性，即使编程基础有限也能实现高级可视化。\n统计分析一体化: 将统计分析与可视化模块无缝结合，确保结果兼具严谨性与表现力，提升研究可信度，推动循证医学发展。\n开放协作生态: 积极吸纳生物医学领域专家的贡献，通过集体智慧优化功能，应对数据可视化领域的动态挑战。\n多平台便捷访问: 通过开源GitHub仓库、互动论坛及微信公众号教程等多渠道提供资源，促进知识共享与协作创新。\n推动研究卓越: 赋能研究人员提升可视化技能，完善方法学标准，助力精准医疗与个性化治疗发展。\n未来愿景: 致力于拓展国际协作，持续提供创新解决方案，以应对生物医学数据可视化与分析日益增长的复杂性。\n\n\n\n\n\n\n\n注记\n\n\n\n如果您觉得这有用或有改进的建议，请在任何页面底部的GitHub讨论中留下您的评论，让我们知道。",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "Hiplot/153-ribbon.html",
    "href": "Hiplot/153-ribbon.html",
    "title": "丝带图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Ribbon 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/ribbon?lang=zh_cn\n丝带图是一种类似丝带的图形。",
    "crumbs": [
      "HIPLOT",
      "Ribbon"
    ]
  },
  {
    "objectID": "Hiplot/153-ribbon.html#环境配置",
    "href": "Hiplot/153-ribbon.html#环境配置",
    "title": "丝带图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Ribbon"
    ]
  },
  {
    "objectID": "Hiplot/153-ribbon.html#数据准备",
    "href": "Hiplot/153-ribbon.html#数据准备",
    "title": "丝带图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 x 轴数值及其对应的两个 y 轴数值和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ribbon/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"group\", \"xvalue\", \"yvalue1\", \"yvalue2\")\ndata$yvalue &lt;- (data$yvalue1 + data$yvalue2) / 2\n\n# 查看数据\nhead(data)\n\n   group xvalue yvalue1 yvalue2 yvalue\n1 Group1   1900  -0.279  -0.063 -0.171\n2 Group1   1901  -0.271  -0.053 -0.162\n3 Group1   1902  -0.285  -0.069 -0.177\n4 Group1   1903  -0.303  -0.095 -0.199\n5 Group1   1904  -0.328  -0.118 -0.223\n6 Group1   1905  -0.348  -0.134 -0.241",
    "crumbs": [
      "HIPLOT",
      "Ribbon"
    ]
  },
  {
    "objectID": "Hiplot/153-ribbon.html#可视化",
    "href": "Hiplot/153-ribbon.html#可视化",
    "title": "丝带图",
    "section": "可视化",
    "text": "可视化\n\n# 丝带图\np &lt;- ggplot(data, aes(xvalue, yvalue, fill = group)) +\n  geom_ribbon(alpha = 0.2, aes(ymin = yvalue1, ymax = yvalue2)) +\n  geom_line(aes(y = yvalue, color = group), lwd = 1) +\n  geom_line(aes(y = yvalue1, color = group), linetype = \"dotted\") +\n  geom_line(aes(y = yvalue2, color = group), linetype = \"dotted\") +\n  ylab(\"y axis value\") +\n  xlab(\"x axis value\") +\n  ggtitle(\"Ribbon Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n \np\n\n\n\n\n\n\n\n图 1: 丝带图\n\n\n\n\n\n每种颜色表示不同的分组，可以透过其中折线，观测每组数据随时间的变化。",
    "crumbs": [
      "HIPLOT",
      "Ribbon"
    ]
  },
  {
    "objectID": "Hiplot/156-roc.html",
    "href": "Hiplot/156-roc.html",
    "title": "ROC 曲线",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot ROC 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/roc?lang=zh_cn\n接收者工作特征曲线（ROC 曲线）是用来说明二元分类器系统在其识别阈值变化时诊断能力的图形。",
    "crumbs": [
      "HIPLOT",
      "ROC"
    ]
  },
  {
    "objectID": "Hiplot/156-roc.html#环境配置",
    "href": "Hiplot/156-roc.html#环境配置",
    "title": "ROC 曲线",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; pROC; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"pROC\", quietly = TRUE)) {\n  install.packages(\"pROC\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(pROC)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "ROC"
    ]
  },
  {
    "objectID": "Hiplot/156-roc.html#数据准备",
    "href": "Hiplot/156-roc.html#数据准备",
    "title": "ROC 曲线",
    "section": "数据准备",
    "text": "数据准备\n示例数据为一列二分类变量的结局和三列不同变量（诊断指标）及其数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/roc/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nname_val &lt;- colnames(data)[2:ncol(data)]\nnum_value &lt;- ncol(data) - 1\n\n# 查看数据\nhead(data)\n\n  outcome value-Am value-GG value-EL\n1    Good        3     0.33    17.30\n2    Good        2     0.11    12.71\n3    Good        4     0.28     9.44\n4    Good        2     0.07    11.07\n5    Good        1     0.10    19.46\n6    Good        4     0.32    10.83",
    "crumbs": [
      "HIPLOT",
      "ROC"
    ]
  },
  {
    "objectID": "Hiplot/156-roc.html#可视化",
    "href": "Hiplot/156-roc.html#可视化",
    "title": "ROC 曲线",
    "section": "可视化",
    "text": "可视化\n\n# ROC 曲线\ncol &lt;- c(\"#00468BFF\",\"#ED0000FF\",\"#42B540FF\")\np &lt;- as.ggplot(function() {\n  for (i in 1:num_value) {\n    if (i == 1) {\n      roc_data &lt;- roc(data[, 1], data[, i + 1],\n        percent = T, plot = T, grid = T, lty = i, quiet = T,\n        print.auc = F, col = col[i], smooth = F,\n        main = \"ROC Plot\"\n      )\n      text(30, 50, \"AUC\", font = 2, col = \"darkgray\")\n      text(30, 50 - 10 * i,\n        paste(name_val[i], \":\", sprintf(\"%0.4f\", as.numeric(roc_data$auc))),\n        col = col[i]\n      )\n    } else {\n      roc_data &lt;- roc(data[, 1], data[, i + 1],\n        percent = T, plot = T, grid = T, add = T, lty = i, quiet = T,\n        print.auc = F, col = col[i]\n      )\n      text(30, 50 - 10 * i,\n        paste(name_val[i], \":\", sprintf(\"%0.4f\", as.numeric(roc_data$auc))),\n        col = col[i]\n      )\n    }\n  }\n    })\n\np\n\n\n\n\n\n\n\n图 1: ROC 曲线\n\n\n\n\n\n横轴表示特异性，纵轴表示敏感性，二者之间没有函数关系。曲线越靠近左上角，认为该诊断指标预测能力越好。图示中每种颜色表示一个变量（诊断指标），蓝色曲线和红色曲线的预测能力明显较绿色曲线好。AUC 为 ROC 曲线下面积。AUC = 1 表示该曲线存在至少一个阈值能得出完美预测。0.5 &lt; AUC &lt; 1，优于随机猜测，妥善选择阈值，能有预测价值。AUC = 0.5，跟随机猜测一样，模型没有预测价值。若 AUC &lt; 0.5，可能原因是二分类变量如（0，1）与结局设置颠倒，调换结局赋值即可。在本图示中，value-Am (86.9792) &gt; value-GG (84.3750) &gt; value-EL (56.7708)，可以认为 Am 变量的预测能力最好。",
    "crumbs": [
      "HIPLOT",
      "ROC"
    ]
  },
  {
    "objectID": "Hiplot/045-donut.html",
    "href": "Hiplot/045-donut.html",
    "title": "环形图",
    "section": "",
    "text": "环形图是饼图的一种变体，它有一个允许包含数据整体额外信息的空白中心。且与饼图目的一致，都是用来说明数据比例。",
    "crumbs": [
      "HIPLOT",
      "Donut"
    ]
  },
  {
    "objectID": "Hiplot/045-donut.html#环境配置",
    "href": "Hiplot/045-donut.html#环境配置",
    "title": "环形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Donut"
    ]
  },
  {
    "objectID": "Hiplot/045-donut.html#数据准备",
    "href": "Hiplot/045-donut.html#数据准备",
    "title": "环形图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/donut/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$fraction &lt;- data[, 2] / sum(data[, 2])\ndata$ymax &lt;- cumsum(data$fraction)\ndata$ymin &lt;- c(0, head(data$ymax, n = -1))\ndata$labelPosition &lt;- (data$ymax + data$ymin) / 2\ndata$label &lt;- paste0(data[, 1], \"\\n\",\n  \"(\", data[, 2], \", \", sprintf(\"%2.2f%%\", 100 * data[, 2] / sum(data[, 2])), \")\",\n  sep = \"\"\n)\n\n# 查看数据\nhead(data)\n\n   group value  fraction      ymax      ymin labelPosition                label\n1 Group1    13 0.1171171 0.1171171 0.0000000    0.05855856 Group1\\n(13, 11.71%)\n2 Group2    34 0.3063063 0.4234234 0.1171171    0.27027027 Group2\\n(34, 30.63%)\n3 Group3    21 0.1891892 0.6126126 0.4234234    0.51801802 Group3\\n(21, 18.92%)\n4 Group4    43 0.3873874 1.0000000 0.6126126    0.80630631 Group4\\n(43, 38.74%)",
    "crumbs": [
      "HIPLOT",
      "Donut"
    ]
  },
  {
    "objectID": "Hiplot/045-donut.html#可视化",
    "href": "Hiplot/045-donut.html#可视化",
    "title": "环形图",
    "section": "可视化",
    "text": "可视化\n\n# 环形图\np &lt;- ggplot(data, aes_(ymax = as.name(\"ymax\"), ymin = as.name(\"ymin\"), \n                       xmax = 4, xmin = 3, fill = as.name(colnames(data)[1]))) +\n  geom_rect() +\n  geom_text(x = 5 + (4 - 5) / 3,\n            aes(y = labelPosition, label = label), size = 4) +\n  coord_polar(theta = \"y\") +\n  xlim(c(2, 5)) +\n  scale_fill_manual(values = c(\"#00468BCC\",\"#ED0000CC\",\"#42B540CC\",\"#0099B4CC\")) +\n  ggtitle(\"Donut Plot\") +\n  theme_void() +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.position = \"none\")\n\np\n\n\n\n\n\n\n\n图 1: 环形图\n\n\n\n\n\n不同颜色表示不同组群，不同面积表示数据及占比。",
    "crumbs": [
      "HIPLOT",
      "Donut"
    ]
  },
  {
    "objectID": "Hiplot/086-heatmap.html",
    "href": "Hiplot/086-heatmap.html",
    "title": "热图",
    "section": "",
    "text": "热图是对实验数据分布情况进行分析的直观可视化方法，可以用来进行实验数据的质量控制和差异数据的具象化展示，还可以对数据和样品进行聚类分析，观测样品质量。",
    "crumbs": [
      "HIPLOT",
      "Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/086-heatmap.html#环境配置",
    "href": "Hiplot/086-heatmap.html#环境配置",
    "title": "热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ComplexHeatmap; genefilter\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ComplexHeatmap\", quietly = TRUE)) {\n  install_github(\"jokergoo/ComplexHeatmap\")\n}\nif (!requireNamespace(\"genefilter\", quietly = TRUE)) {\n  install.packages(\"genefilter\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ComplexHeatmap)\nlibrary(genefilter)",
    "crumbs": [
      "HIPLOT",
      "Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/086-heatmap.html#数据准备",
    "href": "Hiplot/086-heatmap.html#数据准备",
    "title": "热图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 count (基因名称及其对应的基因表达值)，样本信息（样本名称，所属组群及其他相关信息，如年龄），基因信息（基因名称及其所属通路，如肿瘤通路和生理状况下通路）。\n\n# 加载数据\ndata_count &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/heatmap/data.json\")$exampleData[[1]]$textarea[[1]])\ndata_count &lt;- as.data.frame(data_count)\ndata_sample &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/heatmap/data.json\")$exampleData[[1]]$textarea[[2]])\ndata_sample &lt;- as.data.frame(data_sample)\ndata_gene &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/heatmap/data.json\")$exampleData[[1]]$textarea[[3]])\ndata_gene &lt;- as.data.frame(data_gene)\n\n# 整理数据格式\ndata_count &lt;- data_count[!is.na(data_count[, 1]), ]\nidx &lt;- duplicated(data_count[, 1])\ndata_count[idx, 1] &lt;- paste0(data_count[idx, 1], \"--dup-\", cumsum(idx)[idx])\nfor (i in 2:ncol(data_count)) {\n  data_count[, i] &lt;- as.numeric(data_count[, i])\n}\ndata &lt;- as.matrix(data_count[, -1])\nrownames(data) &lt;- data_count[, 1]\n\n## 给样本添加标注信息\nsample.info &lt;- data_sample[-1]\nrow.names(sample.info) &lt;- data_sample[, 1]\nsample_info_reorder &lt;- as.data.frame(sample.info[match(\n  colnames(data), rownames(sample.info)\n  ), ])\ncolnames(sample_info_reorder) &lt;- colnames(sample.info)\nrownames(sample_info_reorder) &lt;- colnames(data)\n\n## 给基因添加标注信息\ngene_info &lt;- data_gene[-1]\nrownames(gene_info) &lt;- data_gene[, 1]\ngene_info_reorder &lt;- as.data.frame(gene_info[match(\n  rownames(data), rownames(gene_info)\n  ), ])\ncolnames(gene_info_reorder) &lt;- colnames(gene_info)\nrownames(gene_info_reorder) &lt;- rownames(data)\n\n# 查看数据\nhead(data)\n\n              M1       M2        M3       M4       M5       M6       M7\nGBP4    6.599344 5.226266  3.693288 3.938501 4.527193 9.308119 8.987865\nBCAT1   5.760380 4.892783  5.448924 3.485413 3.855669 8.662081 8.793320\nCMPK2   9.561905 4.549168  3.998655 5.614384 3.904793 9.790770 7.133188\nSTOX2   8.396409 8.717055  8.039064 7.643060 9.274649 4.417013 4.725270\nPADI2   8.419766 8.268430  8.451181 9.200732 8.598207 4.590033 5.368268\nSCARNA5 7.653074 5.780393 10.633550 5.913684 8.805605 5.890120 5.527945\n              M8       M9      M10\nGBP4    7.658312 8.666038 7.419708\nBCAT1   8.765915 8.097206 8.262942\nCMPK2   7.379591 7.938063 6.154118\nSTOX2   3.542217 4.305187 6.964710\nPADI2   4.136667 4.910986 4.080363\nSCARNA5 3.822596 4.041078 7.956589",
    "crumbs": [
      "HIPLOT",
      "Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/086-heatmap.html#可视化",
    "href": "Hiplot/086-heatmap.html#可视化",
    "title": "热图",
    "section": "可视化",
    "text": "可视化\n\n# 热图\n## 设置annotation_col和annotation_row，分别对样本和基因添加附注\ntop_var &lt;- 100\ntop_var_genes &lt;- rownames(data)[head(\n  order(genefilter::rowVars(data), decreasing = TRUE),\n  nrow(data) * top_var / 100\n)]\n## 设置annotation_colors\ncol &lt;- colorRampPalette(c(\"#0060BF\",\"#FFFFFF\",\"#CA1111\"))(50)\nannotation_colors &lt;- list()\nfor(i in colnames(sample_info_reorder)) {\n  if (is.numeric(sample_info_reorder[,i])) {\n    annotation_colors[[i]] &lt;- col\n  } else {\n    ref &lt;- c(\"#323232\",\"#1B6393\")\n    annotation_colors[[i]] &lt;- ref\n    names(annotation_colors[[i]]) &lt;- unique(sample_info_reorder[,i])\n  }\n}\nfor(i in colnames(gene_info_reorder)) {\n  if (is.numeric(gene_info_reorder[,i])) {\n    annotation_colors[[i]] &lt;- col\n  } else {\n    ref &lt;- c(\"#323232\",\"#1B6393\")\n    annotation_colors[[i]] &lt;- ref\n    names(annotation_colors[[i]]) &lt;- unique(gene_info_reorder[,i])\n  }\n}\n\np &lt;- \n  ComplexHeatmap::pheatmap(\n    data[row.names(data) %in% top_var_genes,],\n    color = col, \n    border_color = NA,\n    fontsize_row = 6, fontsize_col = 6,\n    main = \"Heatmap Plot\",\n    cluster_rows = T, cluster_cols = T,\n    scale = \"none\",\n    clustering_method = \"ward.D2\",\n    clustering_distance_cols = \"euclidean\",\n    clustering_distance_rows = \"euclidean\",\n    fontfamily = \"Arial\",\n    display_numbers = F,\n    number_color = \"black\",\n    annotation_col = sample_info_reorder,\n    annotation_row = gene_info_reorder,\n    annotation_colors = annotation_colors\n  )\n\np\n\n\n\n\n\n\n\n图 1: 热图\n\n\n\n\n\n示例图每个小格表示每个基因，颜色深浅表示该基因表达量大小，表达量越大颜色越深（红色为上调，绿色为下调）。每行表示每个基因在不同样本中的表达量状况，每列表示每个样本所有基因的表达量情况。上方树形图表示不同组群和年龄的不同样本的聚类分析结果，左侧树形图表示来自不同样本的不同基因的聚类分析结果。",
    "crumbs": [
      "HIPLOT",
      "Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/028-contour-xy.html",
    "href": "Hiplot/028-contour-xy.html",
    "title": "等高线图 (XY)",
    "section": "",
    "text": "等高线图 (XY) 是一种通过等高线反映数据密集程度的数据处理方式。",
    "crumbs": [
      "HIPLOT",
      "Contour (XY)"
    ]
  },
  {
    "objectID": "Hiplot/028-contour-xy.html#环境配置",
    "href": "Hiplot/028-contour-xy.html#环境配置",
    "title": "等高线图 (XY)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggisoband\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggisoband\", quietly = TRUE)) {\n  install.packages(\"ggisoband\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggisoband)",
    "crumbs": [
      "HIPLOT",
      "Contour (XY)"
    ]
  },
  {
    "objectID": "Hiplot/028-contour-xy.html#数据准备",
    "href": "Hiplot/028-contour-xy.html#数据准备",
    "title": "等高线图 (XY)",
    "section": "数据准备",
    "text": "数据准备\n载入数据为两个变量。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/contour-xy/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"xvalue\", \"yvalue\")\n\n# 查看数据\nhead(data)\n\n  xvalue yvalue\n1  2.620    110\n2  2.875    110\n3  2.320     93\n4  3.215    110\n5  3.440    175\n6  3.460    105",
    "crumbs": [
      "HIPLOT",
      "Contour (XY)"
    ]
  },
  {
    "objectID": "Hiplot/028-contour-xy.html#可视化",
    "href": "Hiplot/028-contour-xy.html#可视化",
    "title": "等高线图 (XY)",
    "section": "可视化",
    "text": "可视化\n\n# 等高线图 (XY)\np &lt;- ggplot(data, aes(xvalue, yvalue)) +\n  geom_density_bands(\n    alpha = 1,\n    aes(fill = stat(density)), color = \"gray40\", size = 0.2\n    ) +\n  geom_point(alpha = 1, shape = 21, fill = \"white\") +\n  scale_fill_viridis_c(guide = \"legend\") +\n  ylab(\"value2\") +\n  xlab(\"value1\") +\n  ggtitle(\"Contour-XY Plot\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 等高线图 (XY)\n\n\n\n\n\n正如地理上的等高线代表不同高度一样，等高线图上的不同等高线代表不同密度，越靠中心，等高线圈越小，代表其区域数据密度程度越高。如：黄色区域数据密集程度最高，而蓝色区域数据密集程度最低。",
    "crumbs": [
      "HIPLOT",
      "Contour (XY)"
    ]
  },
  {
    "objectID": "Hiplot/176-umap.html",
    "href": "Hiplot/176-umap.html",
    "title": "UMAP",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot UMAP 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/umap?lang=zh_cn\nUMAP 是一种非线性降维算法，适用于高维数据降维到 2 维或 3 维并进行可视化。该算法能够使较大相似度的点，t 分布在低维空间中的距离更近；而对于低相似度的点，t 分布在低维空间中的距离更远。",
    "crumbs": [
      "HIPLOT",
      "UMAP"
    ]
  },
  {
    "objectID": "Hiplot/176-umap.html#环境配置",
    "href": "Hiplot/176-umap.html#环境配置",
    "title": "UMAP",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; umap; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"umap\", quietly = TRUE)) {\n  install.packages(\"umap\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(umap)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "UMAP"
    ]
  },
  {
    "objectID": "Hiplot/176-umap.html#数据准备",
    "href": "Hiplot/176-umap.html#数据准备",
    "title": "UMAP",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集（基因名称及其对应的基因表达值）和样本信息（样本名称及分组）。\n\n# 加载数据\ndata1 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/umap/data.json\")$exampleData$textarea[[1]])\ndata1 &lt;- as.data.frame(data1)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/umap/data.json\")$exampleData$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n\n# 整理数据格式\nsample.info &lt;- data2\nrownames(data1) &lt;- data1[, 1]\ndata1 &lt;- as.matrix(data1[, -1])\n## umap\nset.seed(123)\numap_info &lt;- umap(t(data1))\ncolnames(umap_info$layout) &lt;- c(\"UMAP_1\", \"UMAP_2\")\n# handle data\numap_data &lt;- data.frame(\n  sample = colnames(data1),\n  umap_info$layout\n)\ncolorBy &lt;- sample.info[match(colnames(data1), sample.info[, 1]), \"Species\"]\ncolorBy &lt;- factor(colorBy, level = colorBy[!duplicated(colorBy)])\numap_data$colorBy = colorBy\nshapeBy &lt;- NULL\n\n# 查看数据\nhead(data1[,1:5])\n\n              M1  M2  M3  M4  M5\nSepal.Length 5.1 4.9 4.7 4.6 5.0\nSepal.Width  3.5 3.0 3.2 3.1 3.6\nPetal.Length 1.4 1.4 1.3 1.5 1.4\nPetal.Width  0.2 0.2 0.2 0.2 0.2\n\nhead(data2)\n\n  Samples Species\n1      M1  setosa\n2      M2  setosa\n3      M3  setosa\n4      M4  setosa\n5      M5  setosa\n6      M6  setosa",
    "crumbs": [
      "HIPLOT",
      "UMAP"
    ]
  },
  {
    "objectID": "Hiplot/176-umap.html#可视化",
    "href": "Hiplot/176-umap.html#可视化",
    "title": "UMAP",
    "section": "可视化",
    "text": "可视化\n\n# umap\np &lt;- ggscatter(data = umap_data, x = \"UMAP_1\", y = \"UMAP_2\", size = 2, \n               palette = \"lancet\", color = \"colorBy\") +\n  labs(color = \"group\") +\n  ggtitle(\"UMAP Plot\") +\n  theme_classic() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: umap\n\n\n\n\n\n不同颜色表示不同样本，与 PCA（主成分分析）图形解释相同，不同之处在于可视化效果，t-SNE 中对于不相似的点，用一个较小的距离会产生较大的梯度来让这些点排斥开来。",
    "crumbs": [
      "HIPLOT",
      "UMAP"
    ]
  },
  {
    "objectID": "Hiplot/016-bubble.html",
    "href": "Hiplot/016-bubble.html",
    "title": "气泡图",
    "section": "",
    "text": "气泡图是在散点图的基础上，用气泡的大小来展示第三个变量,从而能够同时对三个变量进行对比分析的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Bubble"
    ]
  },
  {
    "objectID": "Hiplot/016-bubble.html#环境配置",
    "href": "Hiplot/016-bubble.html#环境配置",
    "title": "气泡图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; stringr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(stringr)",
    "crumbs": [
      "HIPLOT",
      "Bubble"
    ]
  },
  {
    "objectID": "Hiplot/016-bubble.html#数据准备",
    "href": "Hiplot/016-bubble.html#数据准备",
    "title": "气泡图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 GO Term, Gene Ridio,基因数和 P 值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/bubble/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- str_to_sentence(str_remove(data[, 1], pattern = \"\\\\w+:\\\\d+\\\\W\"))\ntopnum &lt;- 7\ndata &lt;- data[1:topnum, ]\ndata[, 1] &lt;- factor(data[, 1], level = rev(unique(data[, 1])))\n\n# 查看数据\nhead(data)\n\n                               Term Count     Ratio   PValue\n1                   Immune response    20 10.471204 9.61e-08\n2     Defense response to bacterium    11  5.759162 3.02e-06\n3                   Cell chemotaxis     8  4.188482 5.14e-06\n4                     Cell adhesion    17  8.900524 2.73e-05\n5             Complement activation     8  4.188482 3.56e-05\n6 Extracellular matrix organization    11  5.759162 4.23e-05",
    "crumbs": [
      "HIPLOT",
      "Bubble"
    ]
  },
  {
    "objectID": "Hiplot/016-bubble.html#可视化",
    "href": "Hiplot/016-bubble.html#可视化",
    "title": "气泡图",
    "section": "可视化",
    "text": "可视化\n\n# 气泡图\np &lt;- ggplot(data, aes(Ratio, Term)) +\n  geom_point(aes(size = Count, colour = -log10(PValue))) +\n  scale_colour_gradient(low = \"#00438E\", high = \"#E43535\") +\n  labs(colour = \"-log10 (PValue)\", size = \"Count\", x = \"Ratio\", y = \"Term\", \n       title = \"Bubble Plot\") +\n  scale_x_continuous(limits = c(0, max(data$Ratio) * 1.2)) +\n  guides(color = guide_colorbar(order = 1), size = guide_legend(order = 2)) +\n  scale_y_discrete(labels = function(x) {str_wrap(x, width = 65)}) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 气泡图\n\n\n\n\n\nx 轴表示 Gene Ridio，y 轴是 GO Term; 点的大小表示基因数，点的颜色代表 P 值的高低。",
    "crumbs": [
      "HIPLOT",
      "Bubble"
    ]
  },
  {
    "objectID": "Hiplot/049-easy-pairs.html",
    "href": "Hiplot/049-easy-pairs.html",
    "title": "简易配对图",
    "section": "",
    "text": "显示一个矩阵图，用于查看多个变量的相关关系和数据分布。",
    "crumbs": [
      "HIPLOT",
      "Easy Pairs"
    ]
  },
  {
    "objectID": "Hiplot/049-easy-pairs.html#环境配置",
    "href": "Hiplot/049-easy-pairs.html#环境配置",
    "title": "简易配对图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GGally\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GGally\", quietly = TRUE)) {\n  install.packages(\"GGally\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GGally)",
    "crumbs": [
      "HIPLOT",
      "Easy Pairs"
    ]
  },
  {
    "objectID": "Hiplot/049-easy-pairs.html#数据准备",
    "href": "Hiplot/049-easy-pairs.html#数据准备",
    "title": "简易配对图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/easy-pairs/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  total_bill  tip gender smoker day   time size\n1      16.99 1.01 Female     No Sun Dinner    2\n2      10.34 1.66   Male     No Sun Dinner    3\n3      21.01 3.50   Male     No Sun Dinner    3\n4      23.68 3.31   Male     No Sun Dinner    2\n5      24.59 3.61 Female     No Sun Dinner    4\n6      25.29 4.71   Male     No Sun Dinner    4",
    "crumbs": [
      "HIPLOT",
      "Easy Pairs"
    ]
  },
  {
    "objectID": "Hiplot/049-easy-pairs.html#可视化",
    "href": "Hiplot/049-easy-pairs.html#可视化",
    "title": "简易配对图",
    "section": "可视化",
    "text": "可视化\n\n# 简易配对图\np &lt;- ggpairs(data, columns = c(\"total_bill\", \"time\", \"tip\"),\n             mapping = aes_string(color = \"gender\")) +\n  ggtitle(\"Easy Pairs\") +\n  scale_fill_manual(values = c(\"#3B4992FF\",\"#EE0000FF\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 简易配对图",
    "crumbs": [
      "HIPLOT",
      "Easy Pairs"
    ]
  },
  {
    "objectID": "Hiplot/116-map-world.html",
    "href": "Hiplot/116-map-world.html",
    "title": "世界地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot World Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-world?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "World Map"
    ]
  },
  {
    "objectID": "Hiplot/116-map-world.html#环境配置",
    "href": "Hiplot/116-map-world.html#环境配置",
    "title": "世界地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "World Map"
    ]
  },
  {
    "objectID": "Hiplot/116-map-world.html#数据准备",
    "href": "Hiplot/116-map-world.html#数据准备",
    "title": "世界地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-world/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-world/world.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$death_rate[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n          region death_rate\n1    Afghanistan       13.4\n2        Albania        6.8\n3        Algeria        4.3\n4 American Samoa        5.9\n5        Andorra        7.3\n6         Angola        9.2",
    "crumbs": [
      "HIPLOT",
      "World Map"
    ]
  },
  {
    "objectID": "Hiplot/116-map-world.html#可视化",
    "href": "Hiplot/116-map-world.html#可视化",
    "title": "世界地图",
    "section": "可视化",
    "text": "可视化\n\n# 世界地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), \n            color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    na.value = \"grey10\",\n    limits = c(0, max(dt_map$Value) * 1.2)) +\n    ggtitle(\"World Map Plot\") +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.position = \"bottom\", legend.direction = \"horizontal\")\n\np\n\n\n\n\n\n\n\n图 1: 世界地图",
    "crumbs": [
      "HIPLOT",
      "World Map"
    ]
  },
  {
    "objectID": "Hiplot/001-area.html",
    "href": "Hiplot/001-area.html",
    "title": "面积图",
    "section": "",
    "text": "面积图是一种基于折线图并以图形方式显示定量数据的图形。轴和线之间的区域通常用颜色、纹理和图案来强调。",
    "crumbs": [
      "HIPLOT",
      "Area"
    ]
  },
  {
    "objectID": "Hiplot/001-area.html#环境配置",
    "href": "Hiplot/001-area.html#环境配置",
    "title": "面积图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Area"
    ]
  },
  {
    "objectID": "Hiplot/001-area.html#数据准备",
    "href": "Hiplot/001-area.html#数据准备",
    "title": "面积图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 x 轴数值和 y 轴数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/area/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   group xaxis.value yaxis.value\n1 Group1        1900          26\n2 Group1        1901          27\n3 Group1        1902          10\n4 Group1        1903          16\n5 Group1        1904          19\n6 Group1        1905          18",
    "crumbs": [
      "HIPLOT",
      "Area"
    ]
  },
  {
    "objectID": "Hiplot/001-area.html#可视化",
    "href": "Hiplot/001-area.html#可视化",
    "title": "面积图",
    "section": "可视化",
    "text": "可视化\n\n# 面积图\np &lt;- ggplot(data, aes(x = xaxis.value, y = yaxis.value, fill = group)) +\n  geom_area(alpha = 1) +\n  ylab(\"yaxis.value\") +\n  xlab(\"xaxis.value\") +\n  ggtitle(\"Area Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 面积图\n\n\n\n\n\n不同颜色代表不同组的面积图。",
    "crumbs": [
      "HIPLOT",
      "Area"
    ]
  },
  {
    "objectID": "Hiplot/090-interval-bar-chart.html",
    "href": "Hiplot/090-interval-bar-chart.html",
    "title": "区间条形图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Interval Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/090-interval-bar-chart.html#环境配置",
    "href": "Hiplot/090-interval-bar-chart.html#环境配置",
    "title": "区间条形图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Interval Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/090-interval-bar-chart.html#数据准备",
    "href": "Hiplot/090-interval-bar-chart.html#数据准备",
    "title": "区间条形图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为一年十二个月份的最高和最低温度和对应的月份简称。通过案例数据绘制了每个月份的温度区间及温度均线。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/interval-bar-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$name_num &lt;- match(data[[\"month\"]], unique(data[[\"month\"]]))\n\n# 查看数据\nhead(data)\n\n  month min_temperature max_temperature mean name_num\n1   Jan              15              20   16        1\n2   Feb              17              25   20        2\n3   Mar              20              26   23        3\n4   Apr              25              30   27        4\n5   May              30              35   32        5\n6   Jun              32              35   34        6",
    "crumbs": [
      "HIPLOT",
      "Interval Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/090-interval-bar-chart.html#可视化",
    "href": "Hiplot/090-interval-bar-chart.html#可视化",
    "title": "区间条形图",
    "section": "可视化",
    "text": "可视化\n\n# 区间条形图\np &lt;- ggplot(data, aes(x = month, y = max_temperature)) +\n  geom_rect(aes(xmin = name_num - 0.4, xmax = name_num + 0.4,\n                ymin = min_temperature, ymax = max_temperature), \n            fill = \"#282726\", alpha = 0.7) +\n  geom_line(aes(x = name_num, y = mean), color = \"#006064\", size = 0.8) +\n  labs(x = \"Month\", y = \"Temperature\") +\n  scale_x_discrete() +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 区间条形图",
    "crumbs": [
      "HIPLOT",
      "Interval Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/150-radar.html",
    "href": "Hiplot/150-radar.html",
    "title": "雷达图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Radar 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/radar?lang=zh_cn\n雷达图是以从同一点开始的轴上表示的三个或更多个定量变量的二维图表的形式显示多变量数据，以直观的表达某个研究对象在多种参数的对比。",
    "crumbs": [
      "HIPLOT",
      "Radar"
    ]
  },
  {
    "objectID": "Hiplot/150-radar.html#环境配置",
    "href": "Hiplot/150-radar.html#环境配置",
    "title": "雷达图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggradar; dplyr; scales; tibble; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggradar\", quietly = TRUE)) {\n  install_github(\"ricardo-bion/ggradar\", dependencies = TRUE)\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"scales\", quietly = TRUE)) {\n  install.packages(\"scales\")\n}\nif (!requireNamespace(\"tibble\", quietly = TRUE)) {\n  install.packages(\"tibble\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggradar)\nlibrary(dplyr)\nlibrary(scales)\nlibrary(tibble)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Radar"
    ]
  },
  {
    "objectID": "Hiplot/150-radar.html#数据准备",
    "href": "Hiplot/150-radar.html#数据准备",
    "title": "雷达图",
    "section": "数据准备",
    "text": "数据准备\n数据载入为数据集 (4 种疾病中 5 个基因的表达水平)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/radar/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- as.data.frame(t(data))\ncolnames(data) &lt;- data[1, ]\ndata &lt;- data[-1, ]\nfor (i in seq_len(ncol(data))) {\n  data[, i] &lt;- as.numeric(data[, i])\n}\ndata_radar &lt;- data %&gt;%\n  rownames_to_column(var = \"sample\")\ndata_radar &lt;- data_radar %&gt;% mutate_at(vars(-sample), rescale)\n\n# 查看数据\nhead(data)\n\n   value1 value2 value3 value4 value5\nS1      6    160    110   3.90  2.620\nS2      6    160    110   3.90  2.875\nS3      4    108     93   3.85  2.320\nS4      6    258    110   3.08  3.215",
    "crumbs": [
      "HIPLOT",
      "Radar"
    ]
  },
  {
    "objectID": "Hiplot/150-radar.html#可视化",
    "href": "Hiplot/150-radar.html#可视化",
    "title": "雷达图",
    "section": "可视化",
    "text": "可视化\n\n# 雷达图\np &lt;- ggradar(data_radar, gridline.max.linetype = 1, group.point.size = 4,\n             group.line.width = 1, font.radar = \"Arial\", fill.alpha = 0.5,\n             gridline.min.colour = \"grey\", gridline.mid.colour = \"#007A87\",\n             gridline.max.colour = \"grey\") +\n  ggtitle(\"Radar Plot\") +\n  scale_color_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_blank(),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_blank(),\n        axis.title.y=element_blank(),\n        axis.ticks.y=element_blank(),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n \np\n\n\n\n\n\n\n\n图 1: 雷达图\n\n\n\n\n\n雷达图每种颜色表示一种疾病，每个点所在的位置表示不同基因表达情况，基因表达值越高，则越远离圆心，反之则越靠近圆心。",
    "crumbs": [
      "HIPLOT",
      "Radar"
    ]
  },
  {
    "objectID": "Hiplot/088-histogram.html",
    "href": "Hiplot/088-histogram.html",
    "title": "直方图",
    "section": "",
    "text": "直方图是由一系列高度不等的纵向条纹或线段表示连续性变量数据的分布情况。",
    "crumbs": [
      "HIPLOT",
      "Histogram"
    ]
  },
  {
    "objectID": "Hiplot/088-histogram.html#环境配置",
    "href": "Hiplot/088-histogram.html#环境配置",
    "title": "直方图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Histogram"
    ]
  },
  {
    "objectID": "Hiplot/088-histogram.html#数据准备",
    "href": "Hiplot/088-histogram.html#数据准备",
    "title": "直方图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集(不同治疗方案治疗效果数据)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/histogram/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n\n# 查看数据\nhead(data)\n\n  Value Group2\n1   4.2 treat1\n2  11.5 treat1\n3   7.3 treat1\n4   5.8 treat1\n5   6.4 treat1\n6  10.0 treat1",
    "crumbs": [
      "HIPLOT",
      "Histogram"
    ]
  },
  {
    "objectID": "Hiplot/088-histogram.html#可视化",
    "href": "Hiplot/088-histogram.html#可视化",
    "title": "直方图",
    "section": "可视化",
    "text": "可视化\n\n# 直方图\np &lt;- ggplot(data, aes(x=Value, fill=Group2)) +\n  geom_histogram(alpha = 1, bins = 12, col = \"white\") +\n  ggtitle(\"Histogram Plot\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 直方图\n\n\n\n\n\n图中长方形的宽度与组距成正比且可不相同，纵轴代表频数。",
    "crumbs": [
      "HIPLOT",
      "Histogram"
    ]
  },
  {
    "objectID": "Hiplot/111-map-south-america.html",
    "href": "Hiplot/111-map-south-america.html",
    "title": "南美洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot South America Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-south-america?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/111-map-south-america.html#环境配置",
    "href": "Hiplot/111-map-south-america.html#环境配置",
    "title": "南美洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/111-map-south-america.html#数据准备",
    "href": "Hiplot/111-map-south-america.html#数据准备",
    "title": "南美洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-south-america/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-south-america/sa.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n     region value\n1 Argentina   198\n2   Bolivia   568\n3    Brazil   191\n4     Chile   275\n5  Colombia   901\n6   Ecuador   604",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/111-map-south-america.html#可视化",
    "href": "Hiplot/111-map-south-america.html#可视化",
    "title": "南美洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 南美洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"South America Map\")\n\np\n\n\n\n\n\n\n\n图 1: 南美洲地图",
    "crumbs": [
      "HIPLOT",
      "South America Map"
    ]
  },
  {
    "objectID": "Hiplot/087-hic-heatmap.html",
    "href": "Hiplot/087-hic-heatmap.html",
    "title": "Hi-C 热图",
    "section": "",
    "text": "Hi-C 热图用于显示不同染色体上的全基因组染色质与热图的相互作用。",
    "crumbs": [
      "HIPLOT",
      "Hi-C Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/087-hic-heatmap.html#环境配置",
    "href": "Hiplot/087-hic-heatmap.html#环境配置",
    "title": "Hi-C 热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Hi-C Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/087-hic-heatmap.html#数据准备",
    "href": "Hiplot/087-hic-heatmap.html#数据准备",
    "title": "Hi-C 热图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据具有三个列，其中第一个用于一个基因座箱索引，第二个是另一个基因座箱索引的第二列，而这两个基因座之间的相互作用频率是第三个。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/hic-heatmap/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  index_bin1 index_bin2 freq\n1        135        428   13\n2        365        479   38\n3        209        340    8\n4        216        166   34\n5        288        484    5\n6        162        479   14",
    "crumbs": [
      "HIPLOT",
      "Hi-C Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/087-hic-heatmap.html#可视化",
    "href": "Hiplot/087-hic-heatmap.html#可视化",
    "title": "Hi-C 热图",
    "section": "可视化",
    "text": "可视化\n\n# Hi-C 热图\n## 计算bins的个数\nbins_num &lt;- max(data$index_bin1) + 1\n## 设置HiC数据的resolution\nresolution &lt;- 500\nres &lt;- resolution * 1000\n# 设置分隔单位,以50Mb为单位进行分隔\nintervals &lt;- 50\nspacing &lt;- intervals * 1000000\n## 计算breaks的数目\nbreaks_num &lt;- (res * bins_num) / spacing\n## 设置breaks\nbreaks &lt;- c()\nfor (i in 0:breaks_num) {\n  breaks &lt;- c(breaks, i * intervals)\n}\n\np &lt;- ggplot(data = data, aes(x = index_bin1 * res, y = index_bin2 * res)) +\n  geom_tile(aes(fill = freq)) +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    limits = c(0, max(data$freq) * 1.2)\n  ) +\n  scale_y_reverse() +\n  scale_x_continuous(breaks = breaks * 1000000, labels = paste0(breaks, \"Mb\")) +\n  scale_y_continuous(breaks = breaks * 1000000, labels = paste0(breaks, \"Mb\")) +\n  theme(panel.grid = element_blank(), axis.title = element_blank()) +\n  labs(title = paste0(\"(resolution: \", res / 1000, \"Kb)\"), x=\"\", y=\"\") +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.position = \"right\", legend.key.size = unit(0.8, \"cm\"),\n        panel.grid = element_blank())\n\np\n\n\n\n\n\n\n\n图 1: Hi-C 热图\n\n\n\n\n\n示例图每个小格表示每个基因，颜色深浅表示该基因表达量大小，表达量越大颜色越深（红色为上调，绿色为下调）。每行表示每个基因在不同样本中的表达量状况，每列表示每个样本所有基因的表达量情况。上方树形图表示不同组群和年龄的不同样本的聚类分析结果，左侧树形图表示来自不同样本的不同基因的聚类分析结果。",
    "crumbs": [
      "HIPLOT",
      "Hi-C Heatmap"
    ]
  },
  {
    "objectID": "Hiplot/084-group-line.html",
    "href": "Hiplot/084-group-line.html",
    "title": "分组折线图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Group Line"
    ]
  },
  {
    "objectID": "Hiplot/084-group-line.html#环境配置",
    "href": "Hiplot/084-group-line.html#环境配置",
    "title": "分组折线图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Group Line"
    ]
  },
  {
    "objectID": "Hiplot/084-group-line.html#数据准备",
    "href": "Hiplot/084-group-line.html#数据准备",
    "title": "分组折线图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/group-line/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  x        y names groups\n1 1 2.253573    L1      A\n2 2 2.231082    L1      A\n3 3 1.740380    L1      A\n4 4 2.255786    L1      A\n5 5 2.429561    L1      A\n6 6 1.951557    L1      A",
    "crumbs": [
      "HIPLOT",
      "Group Line"
    ]
  },
  {
    "objectID": "Hiplot/084-group-line.html#可视化",
    "href": "Hiplot/084-group-line.html#可视化",
    "title": "分组折线图",
    "section": "可视化",
    "text": "可视化\n\n# 分组折线图\np &lt;- ggplot(data, aes(x = x, y = y, group = names, color = groups)) +\n  geom_line() +\n  geom_point() +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 分组折线图",
    "crumbs": [
      "HIPLOT",
      "Group Line"
    ]
  },
  {
    "objectID": "Hiplot/138-pie-3d.html",
    "href": "Hiplot/138-pie-3d.html",
    "title": "三维饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot 3D Pie 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pie-3d?lang=zh_cn\n三维饼图是指具有三维外观的饼图。",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/138-pie-3d.html#环境配置",
    "href": "Hiplot/138-pie-3d.html#环境配置",
    "title": "三维饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plotrix; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plotrix\", quietly = TRUE)) {\n  install.packages(\"plotrix\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plotrix)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/138-pie-3d.html#数据准备",
    "href": "Hiplot/138-pie-3d.html#数据准备",
    "title": "三维饼图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为一个矩阵。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pie-3d/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"Group\", \"Value\")\ndata$Value &lt;- as.numeric(data$Value)\ndata &lt;- data[data$Value != 0,]\n\n# 查看数据\nhead(data)\n\n   Group Value\n1 Group1    13\n2 Group2    34\n3 Group3    21\n4 Group4    43",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/138-pie-3d.html#可视化",
    "href": "Hiplot/138-pie-3d.html#可视化",
    "title": "三维饼图",
    "section": "可视化",
    "text": "可视化\n\n# 三维饼图\npie3D(data$Value, radius = 0.8, height = 0.05, theta = 0.8,\n      labels = paste(data$Group, \"\\n(n=\", data$Value, \", \",\n                     round(data$Value / sum(data$Value) * 100, 2), \"%)\",\n                     sep = \"\"),\n      explode = 0.1, main = \"\", labelcex = 1, shade = 0.4, labelcol = \"black\",\n      col = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\"))\n\n\n\n\n\n\n\n图 1: 三维饼图\n\n\n\n\n\n该图通过三维形式，更美观的展示了 1 ~ 4 组的样本数量及样本数量所对应的占比。一组样本数量 13，占比 11.71%，二组样本数量 34，占比30.63%，三组样本数量 21，占比 18.92%，四组样本数量 43，占比 38.74%。",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/080-grdotplot.html",
    "href": "Hiplot/080-grdotplot.html",
    "title": "分组排序点图",
    "section": "",
    "text": "不同组别连续变量样本值及分布比较。",
    "crumbs": [
      "HIPLOT",
      "Group Rank Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/080-grdotplot.html#环境配置",
    "href": "Hiplot/080-grdotplot.html#环境配置",
    "title": "分组排序点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; sigminer; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"sigminer\", quietly = TRUE)) {\n  install_github(\"ShixiangWang/sigminer\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(sigminer)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Group Rank Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/080-grdotplot.html#数据准备",
    "href": "Hiplot/080-grdotplot.html#数据准备",
    "title": "分组排序点图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/grdotplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  gvar       dvar\n1    A  0.4871212\n2    A -0.1370275\n3    A  0.1717455\n4    A -0.9447939\n5    A -1.2876203\n6    A  1.4077657",
    "crumbs": [
      "HIPLOT",
      "Group Rank Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/080-grdotplot.html#可视化",
    "href": "Hiplot/080-grdotplot.html#可视化",
    "title": "分组排序点图",
    "section": "可视化",
    "text": "可视化\n\n# 分组排序点图\np &lt;- show_group_distribution(data, gvar = \"gvar\",  dvar = \"dvar\", \n                             order_by_fun = F)\n\np\n\n\n\n\n\n\n\n图 1: 分组排序点图",
    "crumbs": [
      "HIPLOT",
      "Group Rank Dotplot"
    ]
  },
  {
    "objectID": "Hiplot/037-dendrogram.html",
    "href": "Hiplot/037-dendrogram.html",
    "title": "系统树图",
    "section": "",
    "text": "系统树图是一种以树的形状表示的图。这种图表在不同情景有不同的含义。如：在层次聚类中，说明了相应分析产生的聚类的排列。在生物信息中，它显示基因或样本的聚集，有时在热图的边缘。",
    "crumbs": [
      "HIPLOT",
      "Dendrogram"
    ]
  },
  {
    "objectID": "Hiplot/037-dendrogram.html#环境配置",
    "href": "Hiplot/037-dendrogram.html#环境配置",
    "title": "系统树图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ape; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ape\", quietly = TRUE)) {\n  install.packages(\"ape\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ape)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Dendrogram"
    ]
  },
  {
    "objectID": "Hiplot/037-dendrogram.html#数据准备",
    "href": "Hiplot/037-dendrogram.html#数据准备",
    "title": "系统树图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/dendrogram/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[, -1]\n\n# 查看数据\nhead(data)\n\n        M1       M2        M3       M4       M5       M6       M7       M8\n1 6.599344 5.226266  3.693288 3.938501 4.527193 9.308119 8.987865 7.658312\n2 5.760380 4.892783  5.448924 3.485413 3.855669 8.662081 8.793320 8.765915\n3 9.561905 4.549168  3.998655 5.614384 3.904793 9.790770 7.133188 7.379591\n4 8.396409 8.717055  8.039064 7.643060 9.274649 4.417013 4.725270 3.542217\n5 8.419766 8.268430  8.451181 9.200732 8.598207 4.590033 5.368268 4.136667\n6 7.653074 5.780393 10.633550 5.913684 8.805605 5.890120 5.527945 3.822596\n        M9      M10\n1 8.666038 7.419708\n2 8.097206 8.262942\n3 7.938063 6.154118\n4 4.305187 6.964710\n5 4.910986 4.080363\n6 4.041078 7.956589",
    "crumbs": [
      "HIPLOT",
      "Dendrogram"
    ]
  },
  {
    "objectID": "Hiplot/037-dendrogram.html#可视化",
    "href": "Hiplot/037-dendrogram.html#可视化",
    "title": "系统树图",
    "section": "可视化",
    "text": "可视化\n\n# 系统树图\nd &lt;- dist(t(data), method = \"euclidean\")\nhc &lt;- hclust(d, method = \"complete\")\nclus &lt;- cutree(hc, 4)\n\np &lt;- as.ggplot(function() {\n  par(mar = c(5, 5, 10, 5), mgp = c(2.5, 1, 0))\n  plot(as.phylo(hc),\n       type = \"phylogram\",\n       tip.color = c(\"#00468bff\",\"#ed0000ff\",\"#42b540ff\",\"#0099b4ff\")[clus], \n       label.offset = 1,\n       cex = 1, font = 2, use.edge.length = T\n       )\n  title(\"Dendrogram Plot\", line = 1)\n  })\n\np\n\n\n\n\n\n\n\n图 1: D3 词云",
    "crumbs": [
      "HIPLOT",
      "Dendrogram"
    ]
  },
  {
    "objectID": "Hiplot/068-ggpie.html",
    "href": "Hiplot/068-ggpie.html",
    "title": "饼状图（GGPIE）",
    "section": "",
    "text": "饼图是通过将一个圆形切分成多个切片以显示每一部分所占总体比例的统计图表。",
    "crumbs": [
      "HIPLOT",
      "GGPIE"
    ]
  },
  {
    "objectID": "Hiplot/068-ggpie.html#环境配置",
    "href": "Hiplot/068-ggpie.html#环境配置",
    "title": "饼状图（GGPIE）",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpie; dplyr; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpie\", quietly = TRUE)) {\n  install.packages(\"ggpie\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpie)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "GGPIE"
    ]
  },
  {
    "objectID": "Hiplot/068-ggpie.html#数据准备",
    "href": "Hiplot/068-ggpie.html#数据准备",
    "title": "饼状图（GGPIE）",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggpie/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"am\", \"cyl\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = unique(data[, axis[1]]))\ndata[, axis[2]] &lt;- factor(data[, axis[2]], levels = unique(data[, axis[2]]))\n\n# 查看数据\nhead(data)\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "HIPLOT",
      "GGPIE"
    ]
  },
  {
    "objectID": "Hiplot/068-ggpie.html#可视化",
    "href": "Hiplot/068-ggpie.html#可视化",
    "title": "饼状图（GGPIE）",
    "section": "可视化",
    "text": "可视化\n\n# 饼状图\nplist &lt;- list()\nfor (j in unique(data[, axis[2]])) {\n  plist[[j]] &lt;- ggpie(\n    data = data[data[, axis[2]] == j,],\n    group_key = axis[1], count_type = \"full\",\n    label_type = \"horizon\", label_size = 8,\n    label_info = \"all\", label_pos = \"out\") + \n    scale_fill_manual(values = c(\"#00468BFF\",\"#ED0000FF\")) +\n    ggtitle(j)\n  }\n\nplot_grid(plotlist = plist, ncol = 3)\n\n\n\n\n\n\n\n图 1: 饼状图\n\n\n\n\n\n在一个圆图中，每个切片的弧长（其中心角和中心角所对应区域的弧长）与所表示的数量成正比。该饼图展示了 1~4 组分别的样本数量及样本数量所对应的占比。一组样本数量 13，占比 11.71%，二组样本数量 34，占比 30.63%，三组样本数量 21，占比 18.92%，四组样本数量 43，占比38.74%。",
    "crumbs": [
      "HIPLOT",
      "GGPIE"
    ]
  },
  {
    "objectID": "Hiplot/063-ggbarstats.html",
    "href": "Hiplot/063-ggbarstats.html",
    "title": "堆叠条形图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Barstats"
    ]
  },
  {
    "objectID": "Hiplot/063-ggbarstats.html#环境配置",
    "href": "Hiplot/063-ggbarstats.html#环境配置",
    "title": "堆叠条形图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Barstats"
    ]
  },
  {
    "objectID": "Hiplot/063-ggbarstats.html#数据准备",
    "href": "Hiplot/063-ggbarstats.html#数据准备",
    "title": "堆叠条形图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggbarstats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"relig\", \"partyid\", \"race\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = rev(unique(data[, axis[1]])))\ndata[, axis[2]] &lt;- factor(data[, axis[2]], levels = unique(data[, axis[2]]))\ndata[, axis[3]] &lt;- factor(data[, axis[3]], levels = unique(data[, axis[3]]))\n\n# 查看数据\nhead(data)\n\n  year       marital age  race        rincome            partyid      relig\n1 2000 Never married  26 White  $8000 to 9999       Ind,near rep Protestant\n2 2000      Divorced  48 White  $8000 to 9999 Not str republican Protestant\n3 2000       Widowed  67 White Not applicable        Independent Protestant\n4 2000      Divorced  25 White Not applicable   Not str democrat       None\n5 2000       Married  25 White $20000 - 24999    Strong democrat Protestant\n6 2000      Divorced  44 White  $7000 to 7999       Ind,near dem Protestant\n              denom tvhours\n1  Southern baptist      12\n2  Baptist-dk which      NA\n3   No denomination       2\n4    Not applicable       1\n5  Southern baptist      NA\n6 Lutheran-mo synod      NA",
    "crumbs": [
      "HIPLOT",
      "Barstats"
    ]
  },
  {
    "objectID": "Hiplot/063-ggbarstats.html#可视化",
    "href": "Hiplot/063-ggbarstats.html#可视化",
    "title": "堆叠条形图",
    "section": "可视化",
    "text": "可视化\n\n# 堆叠条形图\ng &lt;- unique(data[,axis[3]])\nplist &lt;- list()\nfor (i in 1:length(g)) {\n  fil &lt;- data[,axis[3]] == g[i]\n  plist[[i]] &lt;- ggbarstats(\n    data = data[fil,], x = relig, y = partyid,\n    plotgrid.args = list(ncol = 1), paired = F, k = 2) +\n    scale_fill_manual(values = c(\"#00468BFF\",\"#ED0000FF\",\"#42B540FF\"))\n}\np &lt;- plot_grid(plotlist = plist, ncol = 1)\n\np\n\n\n\n\n\n\n\n图 1: 堆叠条形图",
    "crumbs": [
      "HIPLOT",
      "Barstats"
    ]
  },
  {
    "objectID": "Hiplot/048-dumbbell.html",
    "href": "Hiplot/048-dumbbell.html",
    "title": "哑铃图",
    "section": "",
    "text": "哑铃图用于展示数据变化。",
    "crumbs": [
      "HIPLOT",
      "Dumbbell Chart"
    ]
  },
  {
    "objectID": "Hiplot/048-dumbbell.html#环境配置",
    "href": "Hiplot/048-dumbbell.html#环境配置",
    "title": "哑铃图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggalt\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggalt\", quietly = TRUE)) {\n  install.packages(\"ggalt\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggalt)",
    "crumbs": [
      "HIPLOT",
      "Dumbbell Chart"
    ]
  },
  {
    "objectID": "Hiplot/048-dumbbell.html#数据准备",
    "href": "Hiplot/048-dumbbell.html#数据准备",
    "title": "哑铃图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/dumbbell/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n    country  y1952  y2007\n1 Argentina 62.485 75.320\n2   Bolivia 40.414 65.554\n3    Brazil 50.917 72.390\n4    Canada 68.750 80.653\n5     Chile 54.745 78.553\n6  Colombia 50.643 72.889",
    "crumbs": [
      "HIPLOT",
      "Dumbbell Chart"
    ]
  },
  {
    "objectID": "Hiplot/048-dumbbell.html#可视化",
    "href": "Hiplot/048-dumbbell.html#可视化",
    "title": "哑铃图",
    "section": "可视化",
    "text": "可视化\n\n# 哑铃图\ncolors &lt;- c(\"#3B4992FF\",\"#EE0000FF\")\np &lt;- ggplot(data, aes(y = reorder(country, y1952), x = y1952, xend = y2007)) +\n  geom_dumbbell(size = 1, size_x = 3,  size_xend = 3, colour = \"#AFAFAF\",  \n                colour_x = colors[1],  colour_xend = colors[2]) +\n  labs(title = \"Dummbbell Chart\", x = \"Life Expectancy (years)\",\n       y = \"country\") +\n  theme_minimal() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 哑铃图",
    "crumbs": [
      "HIPLOT",
      "Dumbbell Chart"
    ]
  },
  {
    "objectID": "Hiplot/106-map-germany-town.html",
    "href": "Hiplot/106-map-germany-town.html",
    "title": "德国地图 (镇)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Germany Map (Town) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-germany-town?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Germany Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/106-map-germany-town.html#环境配置",
    "href": "Hiplot/106-map-germany-town.html#环境配置",
    "title": "德国地图 (镇)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Germany Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/106-map-germany-town.html#数据准备",
    "href": "Hiplot/106-map-germany-town.html#数据准备",
    "title": "德国地图 (镇)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-germany-town/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-germany-town/germany_town.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$name)]\n\n# 查看数据\nhead(data)\n\n          name value\n1 Allmendingen   711\n2      Altheim   540\n3    Berghülen   582\n4   Blaubeuren   454\n5    Blaustein   766\n6     Balzheim   480",
    "crumbs": [
      "HIPLOT",
      "Germany Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/106-map-germany-town.html#可视化",
    "href": "Hiplot/106-map-germany-town.html#可视化",
    "title": "德国地图 (镇)",
    "section": "可视化",
    "text": "可视化\n\n# 德国地图 (镇)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Germany Map\")\n\np\n\n\n\n\n\n\n\n图 1: 德国地图 (镇)",
    "crumbs": [
      "HIPLOT",
      "Germany Map (Town)"
    ]
  },
  {
    "objectID": "Hiplot/012-beeswarm.html",
    "href": "Hiplot/012-beeswarm.html",
    "title": "蜜蜂群图",
    "section": "",
    "text": "蜜蜂群图是一种类似蜜蜂群，样本间互不干涉的列散点图。",
    "crumbs": [
      "HIPLOT",
      "Beeswarm"
    ]
  },
  {
    "objectID": "Hiplot/012-beeswarm.html#环境配置",
    "href": "Hiplot/012-beeswarm.html#环境配置",
    "title": "蜜蜂群图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggbeeswarm)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Beeswarm"
    ]
  },
  {
    "objectID": "Hiplot/012-beeswarm.html#数据准备",
    "href": "Hiplot/012-beeswarm.html#数据准备",
    "title": "蜜蜂群图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/beeswarm/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- factor(data[, 1], levels = unique(data[, 1]))\ncolnames(data) &lt;- c(\"Group\", \"y\")\n\n# 查看数据\nhead(data)\n\n  Group   y\n1    G1 5.1\n2    G1 4.9\n3    G1 4.7\n4    G1 4.6\n5    G1 5.0\n6    G1 5.4",
    "crumbs": [
      "HIPLOT",
      "Beeswarm"
    ]
  },
  {
    "objectID": "Hiplot/012-beeswarm.html#可视化",
    "href": "Hiplot/012-beeswarm.html#可视化",
    "title": "蜜蜂群图",
    "section": "可视化",
    "text": "可视化\n\n# 蜜蜂群图\np &lt;- ggplot(data, aes(Group, y, color = Group)) +\n  geom_beeswarm(alpha = 1, size = 0.8) +\n  labs(x = NULL, y = \"value\") +\n  ggtitle(\"BeeSwarm Plot\") +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 蜜蜂群图\n\n\n\n\n\n不同颜色表示不同组群 ，点表示数据。",
    "crumbs": [
      "HIPLOT",
      "Beeswarm"
    ]
  },
  {
    "objectID": "Hiplot/139-pie-group.html",
    "href": "Hiplot/139-pie-group.html",
    "title": "分组饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pie Group 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pie-group?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Pie Group"
    ]
  },
  {
    "objectID": "Hiplot/139-pie-group.html#环境配置",
    "href": "Hiplot/139-pie-group.html#环境配置",
    "title": "分组饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; patchwork; ggplotify; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"patchwork\", quietly = TRUE)) {\n  install.packages(\"patchwork\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(patchwork)\nlibrary(ggplotify)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Pie Group"
    ]
  },
  {
    "objectID": "Hiplot/139-pie-group.html#数据准备",
    "href": "Hiplot/139-pie-group.html#数据准备",
    "title": "分组饼图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pie-group/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[,\"genre\"] &lt;- factor(data[,\"genre\"], levels = unique(data[,\"genre\"]))\ndata[,\"mpaa\"] &lt;- factor(data[,\"mpaa\"], levels = unique(data[,\"mpaa\"]))\n\n# 查看数据\nhead(data)\n\n                                               title year length budget rating\n1                          Shawshank Redemption, The 1994    142     25    9.1\n2     Lord of the Rings: The Return of the King, The 2003    251     94    9.0\n3 Lord of the Rings: The Fellowship of the Ring, The 2001    208     93    8.8\n4             Lord of the Rings: The Two Towers, The 2002    223     94    8.8\n5                                       Pulp Fiction 1994    168      8    8.8\n6                                   Schindler's List 1993    195     25    8.8\n   votes  mpaa  genre\n1 149494     R  Drama\n2 103631 PG-13 Action\n3 157608 PG-13 Action\n4 114797 PG-13 Action\n5 132745     R  Drama\n6  97667     R  Drama",
    "crumbs": [
      "HIPLOT",
      "Pie Group"
    ]
  },
  {
    "objectID": "Hiplot/139-pie-group.html#可视化",
    "href": "Hiplot/139-pie-group.html#可视化",
    "title": "分组饼图",
    "section": "可视化",
    "text": "可视化\n\n# 分组饼图\ncol &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\",\"#8491B4FF\",\n         \"#91D1C2FF\",\"#DC0000FF\",\"#7E6148FF\",\"#B09C85FF\")\nplist &lt;- list()\nfor (i in 1:length(unique(data[,\"mpaa\"]))) {\n  data_tmp &lt;- data[data[,\"mpaa\"] == unique(data[,\"mpaa\"])[i],]\n  x &lt;- table(data_tmp[,\"genre\"])\n  ptmp &lt;- as.ggplot(function(){\n    par(oma=c(0,0,0,0))\n    pie(x,\n      labels = sprintf(\"%s\\n(n=%s, %s%%)\", names(x), x,\n        round(x / sum(x) * 100, 0)),\n      col = col,\n      main = paste0(\"mpaa\", \":\", unique(data[,\"mpaa\"])[i]),\n      edges = 200,\n      radius = 0.8,\n      clockwise = F\n    )\n  })\n  plist[[i]] &lt;- ptmp\n}\n\nplot_grid(plotlist = plist, ncol = 2)\n\n\n\n\n\n\n\n图 1: 分组饼图",
    "crumbs": [
      "HIPLOT",
      "Pie Group"
    ]
  },
  {
    "objectID": "Hiplot/127-network-igraph.html",
    "href": "Hiplot/127-network-igraph.html",
    "title": "网路图 (igraph)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Network (igraph) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/network-igraph?lang=zh_cn\n基于 igrpah 可视化基础网路图。",
    "crumbs": [
      "HIPLOT",
      "Network (igraph)"
    ]
  },
  {
    "objectID": "Hiplot/127-network-igraph.html#环境配置",
    "href": "Hiplot/127-network-igraph.html#环境配置",
    "title": "网路图 (igraph)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; igraph; stringr; ggplotify; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"igraph\", quietly = TRUE)) {\n  install.packages(\"igraph\")\n}\nif (!requireNamespace(\"stringr\", quietly = TRUE)) {\n  install.packages(\"stringr\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(igraph)\nlibrary(stringr)\nlibrary(ggplotify)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Network (igraph)"
    ]
  },
  {
    "objectID": "Hiplot/127-network-igraph.html#数据准备",
    "href": "Hiplot/127-network-igraph.html#数据准备",
    "title": "网路图 (igraph)",
    "section": "数据准备",
    "text": "数据准备\n需要输入两个数据表，表 1 为节点信息，包含节点的 ID 和 其余注释信息（用于映射颜色和大小），表 2 为连线信息，包含节点的 ID 以及节点之间的关联信息（用于连接不同节点，并映射连线的宽度信息）。\n\n# 加载数据\nnodes_data &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/network-igraph/data.json\")$exampleData[[1]]$textarea[[1]])\nnodes_data &lt;- as.data.frame(nodes_data)\nedges_data &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/network-igraph/data.json\")$exampleData[[1]]$textarea[[2]])\nedges_data &lt;- as.data.frame(edges_data)\n\n# 整理数据格式\nnodes_data[,\"type.label\"] &lt;- factor(nodes_data[,\"type.label\"], \n                                    levels = unique(nodes_data[,\"type.label\"]))\nnodes_data$hiplot_color_type &lt;- as.numeric(nodes_data[,\"type.label\"])\nnet &lt;- graph_from_data_frame(d = edges_data, vertices = nodes_data, directed = T)\n## 根据类型生成颜色\ncolrs &lt;- c(\"#7f7f7f\",\"#ff6347\",\"#ffd700\")\ncolrs2 &lt;- c(\"#BC3C29FF\",\"#0072B5FF\",\"#E18727FF\",\"#20854EFF\",\"#7876B1FF\",\n            \"#6F99ADFF\",\"#FFDC91FF\",\"#EE4C97FF\")\nV(net)$color &lt;- colrs[V(net)$hiplot_color_type]\n## 计算节点度（#links）并使用它来设置节点大小\ndeg &lt;- degree(net, mode=\"all\")\nV(net)$size &lt;- deg*3\n## 设置标签\nV(net)$label.color &lt;- \"black\"\nV(net)$label &lt;- NA\n## 根据权重设置边宽度\nweight_column &lt;- edges_data$weight\nE(net)$width &lt;- weight_column/6\n## 改变箭头大小和边颜色\nE(net)$arrow.size &lt;- .2\nE(net)$edge.color &lt;- \"gray80\"\nedge.start &lt;- ends(net, es=E(net), names=F)[,1]\nedge.col &lt;- V(net)$color[edge.start]\n\n# 查看数据\nhead(nodes_data)\n\n   id               media media.type type.label audience.size hiplot_color_type\n1 s01            NY Times          1  Newspaper            20                 1\n2 s02     Washington Post          1  Newspaper            25                 1\n3 s03 Wall Street Journal          1  Newspaper            30                 1\n4 s04           USA Today          1  Newspaper            32                 1\n5 s05            LA Times          1  Newspaper            20                 1\n6 s06       New York Post          1  Newspaper            50                 1\n\nhead(edges_data)\n\n  from  to      type weight\n1  s01 s02 hyperlink     22\n2  s01 s03 hyperlink     22\n3  s01 s04 hyperlink     21\n4  s01 s15   mention     20\n5  s02 s01 hyperlink     23\n6  s02 s03 hyperlink     21",
    "crumbs": [
      "HIPLOT",
      "Network (igraph)"
    ]
  },
  {
    "objectID": "Hiplot/127-network-igraph.html#可视化",
    "href": "Hiplot/127-network-igraph.html#可视化",
    "title": "网路图 (igraph)",
    "section": "可视化",
    "text": "可视化\n\n# 网路图 (igraph)\nraw &lt;- par()\np &lt;- as.ggplot(function () {\n  par(mar=c(8,2,2,2))\n  radian.rescale &lt;- function(x, start=0, direction=1) {\n    c.rotate &lt;- function(x) (x + start) %% (4 * pi) * direction\n    c.rotate(scales::rescale(x, c(0, 2 * pi), range(x)))\n  }\n\n  label &lt;- eval(parse(text = sprintf(\"V(net)$%s\", \"media\")))\n\n  l &lt;- do.call(layout_as_star, list(net))\n  params &lt;- list(net, layout = l, main = \"Network1\",\n      edge.color = edge.col, edge.curved = .1,\n      vertex.shape = \"circle\",\n      edge.lty = \"solid\",\n      label.family = \"Arial\",\n      vertex.label.family = \"Arial\",\n      vertex.label.dist = 3.1,\n      edge.arrow.mode = F\n  )\n  lab.locs &lt;- radian.rescale(x=1:length(label), direction=-1, start=0)\n  params$vertex.label.degree &lt;- lab.locs\n  params$vertex.label &lt;- label\n  params$vertex.color = V(net)$color\n  do.call(plot, params)\n  legend(x = -1.7, y = -1.4, unique(nodes_data[,\"type.label\"]), pch = 21,\n        col = \"#777777\", pt.bg = colrs, pt.cex = 2, cex = .8, bty = \"n\",\n        ncol = 1)\n  legend(x = -1.2, y = -1.37,\n    legend=round(sort(unique(E(net)$width)), 2), pt.cex= 0.8,\n      col='black', ncol = 3, bty = \"n\", lty = 1,\n      lwd = round(sort(unique(E(net)$width)), 2)\n  )\n  if (length(unique(V(net)$size)) &gt; 8) {\n    size_leg &lt;- sort(unique(V(net)$size))[seq(1, length(unique(V(net)$size)), 2)]\n  } else {\n    size_leg &lt;- sort(unique(V(net)$size))\n  }\n  legend(x = 0.5, y = -1.3,\n        size_leg,\n        pch = 21,\n        col = \"black\", pt.bg = \"#777777\",\n        pt.cex = size_leg / 3.8, cex = .8, bty = \"n\",\n        ncol = 3,\n        y.intersp = 3,\n        x.intersp = 2.5,\n        text.width = 0.25\n  )\n  par(mar=raw$mar)\n})\n\np\n\n\n\n\n\n\n\n图 1: 网路图 (igraph)",
    "crumbs": [
      "HIPLOT",
      "Network (igraph)"
    ]
  },
  {
    "objectID": "Hiplot/130-nomogram-logistic.html",
    "href": "Hiplot/130-nomogram-logistic.html",
    "title": "诺莫图 (逻辑回归)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Nomogram (Logistic) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/nomogram-logistic?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Nomogram (Logistic)"
    ]
  },
  {
    "objectID": "Hiplot/130-nomogram-logistic.html#环境配置",
    "href": "Hiplot/130-nomogram-logistic.html#环境配置",
    "title": "诺莫图 (逻辑回归)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; rms; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"rms\", quietly = TRUE)) {\n  install.packages(\"rms\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(rms)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Nomogram (Logistic)"
    ]
  },
  {
    "objectID": "Hiplot/130-nomogram-logistic.html#数据准备",
    "href": "Hiplot/130-nomogram-logistic.html#数据准备",
    "title": "诺莫图 (逻辑回归)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/nomogram-logistic/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndd &lt;- datadist(data)\noptions(datadist = \"dd\")\n## 建立 Logistic 模型并运行列线图\nlogistic_res &lt;- lrm(data=data, as.formula(paste(\n    colnames(data)[1], \" ~ \",\n    paste(colnames(data)[2:length(colnames(data))],\n      collapse = \"+\"\n    )\n  ))\n)\nlogistic_nomo &lt;- nomogram(logistic_res, maxscale = 100,\n  fun= function(x)1/(1+exp(-x)), lp=F, funlabel=\"Dead Risk\",\n  fun.at=c(.001,.01,.05,seq(.1,.9,by=.1),.95,.99,.999)\n)\n\n# 查看数据\nhead(data)\n\n  status age sex ph.ecog ph.karno pat.karno meal.cal wt.loss\n1      2  74   1       1       90       100     1175      NA\n2      2  68   1       0       90        90     1225      15\n3      1  56   1       0       90        90       NA      15\n4      2  57   1       1       90        60     1150      11\n5      2  60   1       0      100        90       NA       0\n6      1  74   1       1       50        80      513       0",
    "crumbs": [
      "HIPLOT",
      "Nomogram (Logistic)"
    ]
  },
  {
    "objectID": "Hiplot/130-nomogram-logistic.html#可视化",
    "href": "Hiplot/130-nomogram-logistic.html#可视化",
    "title": "诺莫图 (逻辑回归)",
    "section": "可视化",
    "text": "可视化\n\n# 诺莫图 (逻辑回归)\np &lt;- as.ggplot(function() {\n  plot(logistic_nomo,\n    scale = 1\n  )\n  title(main = \"Nomogram (Logistic)\")\n})\n\np\n\n\n\n\n\n\n\n图 1: 诺莫图 (逻辑回归)",
    "crumbs": [
      "HIPLOT",
      "Nomogram (Logistic)"
    ]
  },
  {
    "objectID": "Hiplot/173-treemap.html",
    "href": "Hiplot/173-treemap.html",
    "title": "树型图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Treemap 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/treemap?lang=zh_cn\n树形图是一种用图形形式来表示层次结构的树形结构图。",
    "crumbs": [
      "HIPLOT",
      "Treemap"
    ]
  },
  {
    "objectID": "Hiplot/173-treemap.html#环境配置",
    "href": "Hiplot/173-treemap.html#环境配置",
    "title": "树型图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; treemap\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"treemap\", quietly = TRUE)) {\n  install.packages(\"treemap\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(treemap)",
    "crumbs": [
      "HIPLOT",
      "Treemap"
    ]
  },
  {
    "objectID": "Hiplot/173-treemap.html#数据准备",
    "href": "Hiplot/173-treemap.html#数据准备",
    "title": "树型图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/treemap/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   group value\n1 Group1    13\n2 Group2    34\n3 Group3    21\n4 Group4    43",
    "crumbs": [
      "HIPLOT",
      "Treemap"
    ]
  },
  {
    "objectID": "Hiplot/173-treemap.html#可视化",
    "href": "Hiplot/173-treemap.html#可视化",
    "title": "树型图",
    "section": "可视化",
    "text": "可视化\n\n# 树型图\np &lt;- treemap(data, index = colnames(data)[1], vSize = colnames(data)[2],\n             vColor = colnames(data)[1], type = \"index\", title = \"\", \n             algorithm = \"pivotSize\", sortID = colnames(data)[1], border.lwds = 1,\n             fontcolor.labels = \"#000000\", inflate.labels = F, overlap.labels = 0.5,\n             fontfamily.title = \"Arial\", fontfamily.legend = \"Arial\",\n             fontfamily.labels = \"Arial\", \n             palette = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\n                         \"#F39B7FFF\"), \n             aspRatio = 6 / 6)\n\np\n\n$tm\n   group vSize vColor stdErr vColorValue level        x0        y0         w\n1 Group1    13      1     13          NA     1 0.0000000 0.8088235 0.6126126\n2 Group2    34      1     34          NA     1 0.0000000 0.3088235 0.6126126\n3 Group3    21      1     21          NA     1 0.0000000 0.0000000 0.6126126\n4 Group4    43      1     43          NA     1 0.6126126 0.0000000 0.3873874\n          h   color\n1 0.1911765 #E64B35\n2 0.5000000 #4DBBD5\n3 0.3088235 #00A087\n4 1.0000000 #3C5488\n\n$type\n[1] \"index\"\n\n$vSize\n[1] \"value\"\n\n$vColor\n[1] NA\n\n$stdErr\n[1] \"value\"\n\n$algorithm\n[1] \"pivotSize\"\n\n$vpCoorX\n[1] 0.2664042 0.7335958\n\n$vpCoorY\n[1] 0.0328084 0.9671916\n\n$aspRatio\n[1] 1\n\n$range\n[1] NA\n\n$mapping\n[1] NA NA NA\n\n$draw\n[1] TRUE\n\n\n\n\n\n\n\n\n图 1: 树型图\n\n\n\n\n\n不同颜色表示不同组群 ，不同面积表示数据及占比。",
    "crumbs": [
      "HIPLOT",
      "Treemap"
    ]
  },
  {
    "objectID": "Hiplot/040-density.html",
    "href": "Hiplot/040-density.html",
    "title": "密度图",
    "section": "",
    "text": "核密度图是一种用来观察连续型变量分布的图形。",
    "crumbs": [
      "HIPLOT",
      "Density"
    ]
  },
  {
    "objectID": "Hiplot/040-density.html#环境配置",
    "href": "Hiplot/040-density.html#环境配置",
    "title": "密度图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Density"
    ]
  },
  {
    "objectID": "Hiplot/040-density.html#数据准备",
    "href": "Hiplot/040-density.html#数据准备",
    "title": "密度图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/density/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[,2] &lt;- factor(data[,2], levels = unique(data[,2]))\n\n# 查看数据\nhead(data)\n\n  Value Group2\n1   4.2 treat1\n2  11.5 treat1\n3   7.3 treat1\n4   5.8 treat1\n5   6.4 treat1\n6  10.0 treat1",
    "crumbs": [
      "HIPLOT",
      "Density"
    ]
  },
  {
    "objectID": "Hiplot/040-density.html#可视化",
    "href": "Hiplot/040-density.html#可视化",
    "title": "密度图",
    "section": "可视化",
    "text": "可视化\n\n# 密度图\ndata[\"group_add_by_code\"] &lt;- \"g1\"\n\np &lt;- ggplot(data, aes_(as.name(colnames(data[1])))) +\n  geom_density(col = \"white\", alpha = 0.85,\n               aes_(fill = as.name(colnames(data[2])))) +\n  ggtitle(\"\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 密度图",
    "crumbs": [
      "HIPLOT",
      "Density"
    ]
  },
  {
    "objectID": "Hiplot/073-ggscatterstats.html",
    "href": "Hiplot/073-ggscatterstats.html",
    "title": "散点图（Scatterstats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)",
    "crumbs": [
      "HIPLOT",
      "Scatterstats"
    ]
  },
  {
    "objectID": "Hiplot/073-ggscatterstats.html#环境配置",
    "href": "Hiplot/073-ggscatterstats.html#环境配置",
    "title": "散点图（Scatterstats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)",
    "crumbs": [
      "HIPLOT",
      "Scatterstats"
    ]
  },
  {
    "objectID": "Hiplot/073-ggscatterstats.html#数据准备",
    "href": "Hiplot/073-ggscatterstats.html#数据准备",
    "title": "散点图（Scatterstats）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggscatterstats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n                                                                 title year\n1                       Lord of the Rings: The Return of the King, The 2003\n2                   Lord of the Rings: The Fellowship of the Ring, The 2001\n3                               Lord of the Rings: The Two Towers, The 2002\n4                                                            Star Wars 1977\n5                       Star Wars: Episode V - The Empire Strikes Back 1980\n6 Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb 1964\n  length budget rating  votes  mpaa  genre\n1    251   94.0    9.0 103631 PG-13 Action\n2    208   93.0    8.8 157608 PG-13 Action\n3    223   94.0    8.8 114797 PG-13 Action\n4    125   11.0    8.8 134640    PG Action\n5    129   18.0    8.8 103706    PG Action\n6     93    1.8    8.7  63471    PG Comedy",
    "crumbs": [
      "HIPLOT",
      "Scatterstats"
    ]
  },
  {
    "objectID": "Hiplot/073-ggscatterstats.html#可视化",
    "href": "Hiplot/073-ggscatterstats.html#可视化",
    "title": "散点图（Scatterstats）",
    "section": "可视化",
    "text": "可视化\n\n# GGPubr 箱线图\np &lt;- ggscatterstats(\n  data = data, x = rating, y = budget\n)\n\np\n\n\n\n\n\n\n\n图 1: GGPubr 箱线图",
    "crumbs": [
      "HIPLOT",
      "Scatterstats"
    ]
  },
  {
    "objectID": "Hiplot/119-meta-bin.html",
    "href": "Hiplot/119-meta-bin.html",
    "title": "二分类变量 Meta 分析",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Meta-analysis of Binary Data 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/meta-bin?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Binary Data"
    ]
  },
  {
    "objectID": "Hiplot/119-meta-bin.html#环境配置",
    "href": "Hiplot/119-meta-bin.html#环境配置",
    "title": "二分类变量 Meta 分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; meta; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"meta\", quietly = TRUE)) {\n  install.packages(\"meta\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(meta)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Binary Data"
    ]
  },
  {
    "objectID": "Hiplot/119-meta-bin.html#数据准备",
    "href": "Hiplot/119-meta-bin.html#数据准备",
    "title": "二分类变量 Meta 分析",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/meta-bin/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nm1 &lt;- metabin(ev.exp, n.exp, ev.cont, n.cont, studlab = Study, data = data)\n\n# 查看数据\nhead(data)\n\n       Study ev.exp n.exp ev.cont n.cont\n1   Fletcher      1    12       4     11\n2      Dewar      4    21       7     21\n3 Lippschutz      6    43       7     41\n4 European_1     20    83      15     84\n5 European_2     69   373      94    357",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Binary Data"
    ]
  },
  {
    "objectID": "Hiplot/119-meta-bin.html#可视化",
    "href": "Hiplot/119-meta-bin.html#可视化",
    "title": "二分类变量 Meta 分析",
    "section": "可视化",
    "text": "可视化\n\n# 二分类变量 Meta 分析\np &lt;- as.ggplot(function(){\n  meta::forest(m1, layout = \"meta\")\n  })\n\np\n\n\n\n\n\n\n\n图 1: 二分类变量 Meta 分析",
    "crumbs": [
      "HIPLOT",
      "Meta-analysis of Binary Data"
    ]
  },
  {
    "objectID": "Hiplot/136-pcatools.html",
    "href": "Hiplot/136-pcatools.html",
    "title": "主成分分析 (PCAtools)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot PCAtools 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pcatools?lang=zh_cn\nPCAtools 可以通过主成分分析对数据进行降维，并在二维水平查看主成分相关特征。",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/136-pcatools.html#环境配置",
    "href": "Hiplot/136-pcatools.html#环境配置",
    "title": "主成分分析 (PCAtools)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; PCAtools; ggplotify; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"PCAtools\", quietly = TRUE)) {\n  install.packages('PCAtools', repos = c('https://bioc.r-universe.dev', 'https://cloud.r-project.org'))\n\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(PCAtools)\nlibrary(ggplotify)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/136-pcatools.html#数据准备",
    "href": "Hiplot/136-pcatools.html#数据准备",
    "title": "主成分分析 (PCAtools)",
    "section": "数据准备",
    "text": "数据准备\n\n数据表格 1（数值矩阵）：\n\n每一列为一个样本，每一行为一个特征（如基因、芯片探针）。\n\n数据表格 2 （样本信息）：\n\n第一列为样本名，其他列为该样本的表型特征，可用于标注点的颜色和形状，并与主成分进行相关性分析。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pcatools/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndata2 &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pcatools/data.json\")$exampleData$textarea[[2]])\ndata2 &lt;- as.data.frame(data2)\n\n# 查看数据\nhead(data[,1:5])\n\n       Probes GSM65752 GSM65753 GSM65755 GSM65757\n1   220050_at 6.566843 5.902831 5.185271 5.474453\n2 213944_x_at 8.722271 9.088407 9.106401 8.900869\n3   215441_at 3.812778 3.852745 3.846690 3.842543\n4 214792_x_at 6.499815 6.731196 5.951202 6.578830\n5 217251_x_at 6.607354 6.555413 6.715821 6.628053\n6   207406_at 3.997302 3.964112 3.836560 3.833057\n\nhead(data2[,1:5])\n\n  Samplename    Study Age Distant.RFS  ER\n1   GSM65752 GSE47561  40           0 ER-\n2   GSM65753 GSE47561  46           0 ER+\n3   GSM65755 GSE47561  41           1 ER+\n4   GSM65757 GSE47561  34           0 ER+\n5   GSM65758 GSE47561  46           1 ER+\n6   GSM65760 GSE47561  57           1 ER+",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/136-pcatools.html#可视化",
    "href": "Hiplot/136-pcatools.html#可视化",
    "title": "主成分分析 (PCAtools)",
    "section": "可视化",
    "text": "可视化\n\n# 主成分分析 (PCAtools)\n## 定义绘图函数\ncall_pcatools &lt;- function(datTable, sampleInfo,\n                          top_var,\n                          screeplotComponents, screeplotColBar,\n                          pairsplotComponents,\n                          biplotShapeBy, biplotColBy,\n                          plotloadingsComponents,\n                          plotloadingsLowCol,\n                          plotloadingsMidCol,\n                          plotloadingsHighCol,\n                          eigencorplotMetavars,\n                          eigencorplotComponents) {\n  row.names(datTable) &lt;- datTable[, 1]\n  datTable &lt;- datTable[, -1]\n  row.names(sampleInfo) &lt;- sampleInfo[, 1]\n  data3 &lt;&lt;- pca(datTable, metadata = sampleInfo, removeVar = (100 - top_var) / 100)\n\n  for (i in c(\"screeplotComponents\", \"pairsplotComponents\",\n              \"plotloadingsComponents\", \"eigencorplotComponents\")) {\n    if (ncol(data3$rotated) &lt; get(i)) {\n      assign(i, ncol(data3$rotated))\n    }\n  }\n\n  p1 &lt;- PCAtools::screeplot(\n    data3,\n    components = getComponents(data3, 1:screeplotComponents),\n    axisLabSize = 14, titleLabSize = 20,\n    colBar = screeplotColBar,\n    gridlines.major = FALSE, gridlines.minor = FALSE,\n    returnPlot = TRUE\n  )\n\n  params_pairsplot &lt;- list(\n    data3,\n    components = getComponents(data3, c(1:pairsplotComponents)),\n    triangle = TRUE, trianglelabSize = 12,\n    hline = 0, vline = 0,\n    pointSize = 0.8, gridlines.major = FALSE, gridlines.minor = FALSE,\n    title = \"\", plotaxes = FALSE,\n    margingaps = unit(c(0.01, 0.01, 0.01, 0.01), \"cm\"),\n    returnPlot = TRUE,\n    colkey = c(\"#00468BFF\",\"#ED0000FF\"),\n    legendPosition = \"none\"\n  )\n  params_biplot &lt;- list(data3,\n    showLoadings = TRUE,\n    lengthLoadingsArrowsFactor = 1.5,\n    sizeLoadingsNames = 4,\n    colLoadingsNames = \"red4\",\n    # other parameters\n    lab = NULL,\n    hline = 0, vline = c(-25, 0, 25),\n    vlineType = c(\"dotdash\", \"solid\", \"dashed\"),\n    gridlines.major = FALSE, gridlines.minor = FALSE,\n    pointSize = 5,\n    legendLabSize = 16, legendIconSize = 8.0,\n    drawConnectors = FALSE,\n    title = \"PCA bi-plot\",\n    subtitle = \"PC1 versus PC2\",\n    caption = \"27 PCs ≈ 80%\",\n    returnPlot = TRUE,\n    legendPosition = \"bottom\"\n  )\n  if (!is.null(biplotShapeBy) && biplotShapeBy != \"\") {\n    params_biplot$shape &lt;- biplotShapeBy\n    params_pairsplot$shape &lt;- biplotShapeBy\n    t &lt;- params_biplot[[1]]$metadata[,biplotShapeBy]\n    params_biplot[[1]]$metadata[,biplotShapeBy] &lt;- factor(t,\n      levels = t[!duplicated(t)]\n    )\n    params_pairsplot[[1]]$metadata[,biplotShapeBy] &lt;- factor(t,\n      levels = t[!duplicated(t)]\n    )\n  }\n  if (!is.null(biplotColBy) && biplotColBy != \"\") {\n    params_pairsplot$colby &lt;- biplotColBy\n    params_pairsplot$colkey &lt;- c(\"#00468BFF\",\"#ED0000FF\")\n    params_biplot$colby &lt;- biplotColBy\n    params_biplot$colkey &lt;- c(\"#00468BFF\",\"#ED0000FF\")\n    t1 &lt;- params_biplot[[1]]$metadata[,biplotColBy]\n    params_biplot[[1]]$metadata[,biplotColBy] &lt;- factor(t1,\n      levels = t1[!duplicated(t1)]\n    )\n    params_pairsplot[[1]]$metadata[,biplotColBy] &lt;- factor(t1,\n      levels = t1[!duplicated(t1)]\n    )\n  }\n\n  p2 &lt;- do.call(PCAtools::pairsplot, params_pairsplot)\n  p3 &lt;- do.call(PCAtools::biplot, params_biplot)\n\n  p4 &lt;- PCAtools::plotloadings(\n    data3,\n    rangeRetain = 0.01, labSize = 4,\n    components = getComponents(data3, c(1:plotloadingsComponents)),\n    title = \"Loadings plot\", axisLabSize = 12,\n    subtitle = \"PC1, PC2, PC3, PC4, PC5\",\n    caption = \"Top 1% variables\",\n    gridlines.major = FALSE, gridlines.minor = FALSE,\n    shape = 24, shapeSizeRange = c(4, 8),\n    col = c(plotloadingsLowCol, plotloadingsMidCol, plotloadingsHighCol),\n    legendPosition = \"none\",\n    drawConnectors = FALSE,\n    returnPlot = TRUE\n  )\n\n  if (length(eigencorplotMetavars) &gt; 0 && all(eigencorplotMetavars != \"\")) {\n    metavars &lt;- eigencorplotMetavars\n  } else {\n    metavars &lt;- colnames(sampleInfo)[2:ncol(sampleInfo)]\n  }\n  if (length(metavars) == 1 && metavars != colnames(sampleInfo)[1]) {\n    metavars &lt;- c(colnames(sampleInfo)[1], metavars)\n  } else if (length(metavars) == 1 && metavars == colnames(sampleInfo)[1]) {\n    stop('eigencorplotMetavars need &gt;= 2 feature')\n  }\n\n  p5 &lt;- PCAtools::eigencorplot(\n    data3,\n    components = getComponents(data3, 1:eigencorplotComponents),\n    metavars = metavars,\n    cexCorval = 1.0,\n    fontCorval = 2,\n    posLab = \"all\",\n    rotLabX = 45,\n    scale = TRUE,\n    main = \"PC clinical correlates\",\n    cexMain = 1.5,\n    plotRsquared = FALSE,\n    corFUN = \"pearson\",\n    corUSE = \"na.or.complete\",\n    signifSymbols = c(\"****\", \"***\", \"**\", \"*\", \"\"),\n    signifCutpoints = c(0, 0.0001, 0.001, 0.01, 0.05, 1),\n    returnPlot = TRUE\n  )\n\n  p6 &lt;- plot_grid(\n    p1, p2, p3,\n    ncol = 3,\n    labels = c(\"A\", \"B  Pairs plot\", \"C\"),\n    label_fontfamily = \"Arial\",\n    label_fontface = \"bold\",\n    label_size = 22,\n    align = \"h\",\n    rel_widths = c(1.10, 0.80, 1.10)\n  )\n\n  p7 &lt;- plot_grid(\n    p4,\n    as.grob(p5),\n    ncol = 2,\n    labels = c(\"D\", \"E\"),\n    label_fontfamily = \"Arial\",\n    label_fontface = \"bold\",\n    label_size = 22,\n    align = \"h\",\n    rel_widths = c(0.8, 1.2)\n  )\n\n  p &lt;- plot_grid(\n    p6, p7,\n    ncol = 1,\n    rel_heights = c(1.1, 0.9)\n  )\n\n  return(p)\n}\n\n## 绘图\np &lt;- call_pcatools(\n  datTable = data,\n  sampleInfo = data2,\n  biplotColBy = \"ER\",\n  biplotShapeBy = \"Grade\",\n  eigencorplotMetavars = colnames(data2)[-1],\n  screeplotComponents = 30,\n  pairsplotComponents = 3,\n  plotloadingsComponents = 5,\n  eigencorplotComponents = 10,\n  top_var = 90,\n  screeplotColBar = \"#0085FF\",\n  plotloadingsLowCol = \"#0085FF\",\n  plotloadingsMidCol = \"#FFFFFF\",\n  plotloadingsHighCol = \"#FF0000\"\n)\n\np\n\n\n\n\n\n\n\n图 1: 主成分分析 (PCAtools)",
    "crumbs": [
      "HIPLOT",
      "PCAtools"
    ]
  },
  {
    "objectID": "Hiplot/091-likert.html",
    "href": "Hiplot/091-likert.html",
    "title": "李克特图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Likert Plot 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/likert?lang=zh_cn\n对李克特量表带数据进行可视化描述性统计分析。",
    "crumbs": [
      "HIPLOT",
      "Likert Plot"
    ]
  },
  {
    "objectID": "Hiplot/091-likert.html#环境配置",
    "href": "Hiplot/091-likert.html#环境配置",
    "title": "李克特图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplotify; likert\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"likert\", quietly = TRUE)) {\n  install.packages(\"likert\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplotify)\nlibrary(likert)",
    "crumbs": [
      "HIPLOT",
      "Likert Plot"
    ]
  },
  {
    "objectID": "Hiplot/091-likert.html#数据准备",
    "href": "Hiplot/091-likert.html#数据准备",
    "title": "李克特图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/likert/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nlevs &lt;- unique(unlist(data))\nfor (i in 1:ncol(data)) {\n  data[,i] &lt;- factor(data[, i], levels = levs)\n}\n\n# 查看数据\nhead(data)\n\n            ST24Q01           ST24Q02        ST24Q03           ST24Q04\n1 Strongly disagree    Strongly agree          Agree Strongly disagree\n2          Disagree    Strongly agree Strongly agree Strongly disagree\n3          Disagree          Disagree       Disagree             Agree\n4          Disagree          Disagree       Disagree          Disagree\n5          Disagree             Agree       Disagree Strongly disagree\n6             Agree Strongly disagree          Agree Strongly disagree\n            ST24Q05           ST24Q06        ST24Q07           ST24Q08\n1             Agree Strongly disagree          Agree          Disagree\n2    Strongly agree Strongly disagree          Agree          Disagree\n3          Disagree          Disagree       Disagree          Disagree\n4          Disagree Strongly disagree       Disagree          Disagree\n5             Agree Strongly disagree Strongly agree Strongly disagree\n6 Strongly disagree          Disagree       Disagree             Agree\n            ST24Q09           ST24Q10           ST24Q11\n1 Strongly disagree             Agree             Agree\n2 Strongly disagree             Agree             Agree\n3          Disagree          Disagree          Disagree\n4 Strongly disagree          Disagree          Disagree\n5 Strongly disagree Strongly disagree             Agree\n6          Disagree             Agree Strongly disagree",
    "crumbs": [
      "HIPLOT",
      "Likert Plot"
    ]
  },
  {
    "objectID": "Hiplot/091-likert.html#可视化",
    "href": "Hiplot/091-likert.html#可视化",
    "title": "李克特图",
    "section": "可视化",
    "text": "可视化\n\n# 李克特图\npobj &lt;- likert(data)\ncolrs &lt;- c(\"#3B4992FF\",\"#EE0000FF\")\np &lt;- as.ggplot(plot(pobj, type = \"bar\", \n                    low.color = colrs[1], high.color = colrs[2], wrap = 50))\n\np\n\n\n\n\n\n\n\n图 1: 李克特图",
    "crumbs": [
      "HIPLOT",
      "Likert Plot"
    ]
  },
  {
    "objectID": "Hiplot/050-easy-som.html",
    "href": "Hiplot/050-easy-som.html",
    "title": "简易 SOM",
    "section": "",
    "text": "建立 SOM 模型，并可视化结果。",
    "crumbs": [
      "HIPLOT",
      "Easy SOM"
    ]
  },
  {
    "objectID": "Hiplot/050-easy-som.html#环境配置",
    "href": "Hiplot/050-easy-som.html#环境配置",
    "title": "简易 SOM",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GGally\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"kohonen\", quietly = TRUE)) {\n  install.packages(\"kohonen\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(kohonen)",
    "crumbs": [
      "HIPLOT",
      "Easy SOM"
    ]
  },
  {
    "objectID": "Hiplot/050-easy-som.html#数据准备",
    "href": "Hiplot/050-easy-som.html#数据准备",
    "title": "简易 SOM",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/easy-som/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ntarget &lt;- data[,1]\ntarget &lt;- factor(target, levels = unique(target))\ndata &lt;- data[,-1]\ndata &lt;- as.data.frame(data)\nfor (i in 1:ncol(data)) {\n  data[,i] &lt;- as.numeric(data[,i])\n}\ndata &lt;- as.matrix(data)\nset.seed(7)\nkohmap &lt;- xyf(scale(data), target, grid = somgrid(xdim=6, ydim=4, topo=\"hexagonal\"), rlen=100)\n\ncolor_key &lt;- c(\"#A50026\",\"#D73027\",\"#F46D43\",\"#FDAE61\",\"#FEE090\",\"#FFFFBF\",\"#E0F3F8\",\n               \"#ABD9E9\",\"#74ADD1\",\"#4575B4\",\"#313695\")\ncolors &lt;- function (n, alpha, rev = FALSE) {\n  colorRampPalette(color_key)(n)\n}\n\n# 查看数据\nhead(data)\n\n     alcohol malic acid  ash ash alkalinity magnesium tot. phenols flavonoids\n[1,]   12.86       1.35 2.32           18.0       122         1.51       1.25\n[2,]   12.88       2.99 2.40           20.0       104         1.30       1.22\n[3,]   12.81       2.31 2.40           24.0        98         1.15       1.09\n[4,]   12.70       3.55 2.36           21.5       106         1.70       1.20\n[5,]   12.51       1.24 2.25           17.5        85         2.00       0.58\n[6,]   12.60       2.46 2.20           18.5        94         1.62       0.66\n     non-flav. phenols proanth col. int. col. hue OD ratio proline\n[1,]              0.21    0.94      4.10     0.76     1.29     630\n[2,]              0.24    0.83      5.40     0.74     1.42     530\n[3,]              0.27    0.83      5.70     0.66     1.36     560\n[4,]              0.17    0.84      5.00     0.78     1.29     600\n[5,]              0.60    1.25      5.45     0.75     1.51     650\n[6,]              0.63    0.94      7.10     0.73     1.58     695",
    "crumbs": [
      "HIPLOT",
      "Easy SOM"
    ]
  },
  {
    "objectID": "Hiplot/050-easy-som.html#可视化",
    "href": "Hiplot/050-easy-som.html#可视化",
    "title": "简易 SOM",
    "section": "可视化",
    "text": "可视化\n\n# 简易 SOM\np &lt;- function () {\n  par(mfrow = c(3,2))\n  xyfpredictions &lt;- classmat2classvec(getCodes(kohmap, 2))\n  plot(kohmap, type=\"counts\", col = as.integer(target),\n       palette.name = colors,\n       pchs = as.integer(target), \n       main = \"Counts plot\", shape = \"straight\", border = NA)\n  \n  som.hc &lt;- cutree(hclust(object.distances(kohmap, \"codes\")), 3)\n  add.cluster.boundaries(kohmap, som.hc)\n\n  plot(kohmap, type=\"mapping\",\n       labels = as.integer(target), col = colors(3)[as.integer(target)],\n       palette.name = colors,\n       shape = \"straight\",\n       main = \"Mapping plot\")\n\n  ## 根据预测的类别标签为单元添加背景颜色\n  xyfpredictions &lt;- classmat2classvec(getCodes(kohmap, 2))\n  bgcols &lt;- colors(3)\n  plot(kohmap, type=\"mapping\", col = as.integer(target),\n       pchs = as.integer(target), bgcol = bgcols[as.integer(xyfpredictions)],\n       main = \"Another mapping plot\", shape = \"straight\", border = NA)\n  \n  similarities &lt;- plot(kohmap, type=\"quality\", shape = \"straight\",\n                       palette.name = colors)\n  \n  plot(kohmap, type=\"codes\", shape = \"straight\", \n       main = c(\"Codes X\", \"Codes Y\"), palette.name = colors)\n}\n\np()\n\n\n\n\n\n\n\n图 1: 简易 SOM",
    "crumbs": [
      "HIPLOT",
      "Easy SOM"
    ]
  },
  {
    "objectID": "Hiplot/145-pyramid-chart2.html",
    "href": "Hiplot/145-pyramid-chart2.html",
    "title": "金字塔图 2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pyramid Chart 2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pyramid-chart2?lang=zh_cn\n金字塔图是一种将数据分布于中轴两侧类似金字塔的图形。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart 2"
    ]
  },
  {
    "objectID": "Hiplot/145-pyramid-chart2.html#环境配置",
    "href": "Hiplot/145-pyramid-chart2.html#环境配置",
    "title": "金字塔图 2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; apyramid; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"apyramid\", quietly = TRUE)) {\n  install.packages(\"apyramid\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(apyramid)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart 2"
    ]
  },
  {
    "objectID": "Hiplot/145-pyramid-chart2.html#数据准备",
    "href": "Hiplot/145-pyramid-chart2.html#数据准备",
    "title": "金字塔图 2",
    "section": "数据准备",
    "text": "数据准备\n载入数据为年龄段，性别分类及前两种变量组合后的人口数目。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pyramid-chart2/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nx &lt;- as.integer(data[,\"age\"])\ndata$age_group &lt;- cut(x, breaks = pretty(x), right = TRUE, include.lowest = TRUE)\n\n# 查看数据\nhead(data[,1:5])\n\n  case_id date_of_onset date_of_hospitalisation date_of_outcome outcome\n1       1     2013/2/19                    &lt;NA&gt;        2013/3/4   Death\n2       2     2013/2/27                2013/3/3       2013/3/10   Death\n3       3      2013/3/9               2013/3/19        2013/4/9   Death\n4       4     2013/3/19               2013/3/27            &lt;NA&gt;    &lt;NA&gt;\n5       5     2013/3/19               2013/3/30       2013/5/15 Recover\n6       6     2013/3/21               2013/3/28       2013/4/26   Death",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart 2"
    ]
  },
  {
    "objectID": "Hiplot/145-pyramid-chart2.html#可视化",
    "href": "Hiplot/145-pyramid-chart2.html#可视化",
    "title": "金字塔图 2",
    "section": "可视化",
    "text": "可视化\n\n# 金字塔图2\np &lt;- age_pyramid(data, \"age_group\", split_by = \"Gender\") + \n  scale_fill_manual(values = c(\"#BC3C29FF\",\"#0072B5FF\")) +\n  xlab(\"Age group\") + \n  ylab(\"Gender\") +\n  theme_classic() +\n  theme(text = element_text(family = \"Arial\"),\n      plot.title = element_text(size = 12,hjust = 0.5),\n      axis.title = element_text(size = 12),\n      axis.text = element_text(size = 10),\n      axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n      legend.position = \"right\",\n      legend.direction = \"vertical\",\n      legend.title = element_text(size = 10),\n      legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 金字塔图2\n\n\n\n\n\n图示将年龄段按照顺序从下到上依次显示在中轴线上，左侧表示男性人数，右侧表示女性人数，x 轴表示人口数量，该图可以很明显看出男女在不同年龄段的人数占比情况以及相同性别中不同年龄组的占比情况。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart 2"
    ]
  },
  {
    "objectID": "Hiplot/047-dual-y-axis.html",
    "href": "Hiplot/047-dual-y-axis.html",
    "title": "双Y轴图",
    "section": "",
    "text": "双Y轴图可以将两组数量级较大的数据放在同一个图中进行展示。",
    "crumbs": [
      "HIPLOT",
      "Dual Y Axis Chart"
    ]
  },
  {
    "objectID": "Hiplot/047-dual-y-axis.html#环境配置",
    "href": "Hiplot/047-dual-y-axis.html#环境配置",
    "title": "双Y轴图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Dual Y Axis Chart"
    ]
  },
  {
    "objectID": "Hiplot/047-dual-y-axis.html#数据准备",
    "href": "Hiplot/047-dual-y-axis.html#数据准备",
    "title": "双Y轴图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为分为三列，第一列是x轴的数值，第二列为左侧Y轴的数值，第三列为右侧Y轴的数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/dual-y-axis/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  x     data1     data2\n1 1 0.6105444 1000.5383\n2 2 0.9961953  981.0398\n3 3 0.6314076  961.0601\n4 4 0.8651855  941.2540\n5 5 0.8169382  922.3971\n6 6 0.1877025  903.3067",
    "crumbs": [
      "HIPLOT",
      "Dual Y Axis Chart"
    ]
  },
  {
    "objectID": "Hiplot/047-dual-y-axis.html#可视化",
    "href": "Hiplot/047-dual-y-axis.html#可视化",
    "title": "双Y轴图",
    "section": "可视化",
    "text": "可视化\n\n# 双Y轴图\np &lt;- ggplot(data, aes(x = x)) +\n  geom_line(aes(y = data[, 2]), size = 1, color = \"#D72C15\") +\n  geom_line(aes(y = data[, 3] / as.numeric(10)), size = 1, color = \"#02657B\") +\n  scale_y_continuous(\n    name = colnames(data)[2],\n    sec.axis = sec_axis(~ . * as.numeric(10), name = colnames(data)[3])) +\n  ggtitle(\"Dual Y Axis Chart\") + xlab(\"x\") +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 双Y轴图\n\n\n\n\n\n案例数据中左侧Y轴比例尺量级在0-100的范围，而右侧Y轴比例尺则在0-1000。",
    "crumbs": [
      "HIPLOT",
      "Dual Y Axis Chart"
    ]
  },
  {
    "objectID": "Hiplot/033-corrplot.html",
    "href": "Hiplot/033-corrplot.html",
    "title": "相关性热图 (Corrplot)",
    "section": "",
    "text": "相关性热图是一种分析多个变量，两两之间相关性的图形。",
    "crumbs": [
      "HIPLOT",
      "Corrplot"
    ]
  },
  {
    "objectID": "Hiplot/033-corrplot.html#环境配置",
    "href": "Hiplot/033-corrplot.html#环境配置",
    "title": "相关性热图 (Corrplot)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; corrplot; ggcorrplot; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"corrplot\", quietly = TRUE)) {\n  install.packages(\"corrplot\")\n}\nif (!requireNamespace(\"ggcorrplot\", quietly = TRUE)) {\n  install.packages(\"ggcorrplot\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(corrplot)\nlibrary(ggcorrplot)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Corrplot"
    ]
  },
  {
    "objectID": "Hiplot/033-corrplot.html#数据准备",
    "href": "Hiplot/033-corrplot.html#数据准备",
    "title": "相关性热图 (Corrplot)",
    "section": "数据准备",
    "text": "数据准备\n载入数据为基因名称及每个样本的表达量。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/corrplot/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- data[!is.na(data[, 1]), ]\nidx &lt;- duplicated(data[, 1])\ndata[idx, 1] &lt;- paste0(data[idx, 1], \"--dup-\", cumsum(idx)[idx])\nrownames(data) &lt;- data[, 1]\ndata &lt;- data[, -1]\nstr2num_df &lt;- function(x) {\n  final &lt;- NULL\n  for (i in seq_len(ncol(x))) {\n    final &lt;- cbind(final, as.numeric(x[, i]))\n  }\n  colnames(final) &lt;- colnames(x)\n  return(final)\n}\ntmp &lt;- str2num_df(t(data))\ncorr &lt;- round(cor(tmp, use = \"na.or.complete\", method = \"pearson\"), 3)\np_mat &lt;- round(cor_pmat(tmp, method = \"pearson\"), 3)\n\n# 查看数据\nhead(data)\n\n             M1       M2       M3       M4       M5       M6        M7       M8\nRGL4   8.454808 8.019389 8.990836 9.718631 7.908075 4.147051  4.985084 4.576711\nMPP7   8.690520 8.630346 7.080873 9.838476 8.271824 5.179200  5.200868 3.266993\nUGCG   8.648366 8.600555 9.431046 7.923021 8.309214 4.902510  5.750804 4.492856\nCYSTM1 8.628884 9.238677 8.487243 8.958537 7.357109 4.541605  6.370533 4.246651\nANXA2  4.983769 6.748022 6.220791 4.719403 3.284346 8.089850 10.637472 7.214912\nENDOD1 5.551640 5.406465 4.663785 3.550765 4.103507 8.393991  9.538503 9.069923\n             M9      M10\nRGL4   4.930349 4.293700\nMPP7   5.565226 4.300309\nUGCG   4.659987 3.306275\nCYSTM1 4.745769 3.449627\nANXA2  9.002710 5.123359\nENDOD1 8.639664 7.106392",
    "crumbs": [
      "HIPLOT",
      "Corrplot"
    ]
  },
  {
    "objectID": "Hiplot/033-corrplot.html#可视化",
    "href": "Hiplot/033-corrplot.html#可视化",
    "title": "相关性热图 (Corrplot)",
    "section": "可视化",
    "text": "可视化\n\n# 相关性热图 (Corrplot)\np &lt;- as.ggplot(function(){\n  corrplot(\n    corr, \n    method = \"circle\", \n    type = \"upper\",\n    tl.col = \"black\", \n    diag = F,\n    col = colorRampPalette(c(\"#4477AA\", \"#FFFFFF\", \"#BB4444\"))(200),\n    order = \"hclust\",\n    hclust.method = \"ward.D2\")\n  }) +\n  xlab(\"\") + ylab(\"\") +\n  ggtitle(\"Cor Heatmap Plot\") +\n  theme_void() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_blank(), axis.text.y = element_blank(),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\np\n\n\n\n\n\n\n\n图 1: 相关性热图 (Corrplot)\n\n\n\n\n\n红色系表示两个基因之间呈正相关，蓝色系表示两个基因之间呈负相关，每一格中的数字表示相关系数。",
    "crumbs": [
      "HIPLOT",
      "Corrplot"
    ]
  },
  {
    "objectID": "Hiplot/023-circular-barplot.html",
    "href": "Hiplot/023-circular-barplot.html",
    "title": "环状条形图",
    "section": "",
    "text": "绘制环状条形图",
    "crumbs": [
      "HIPLOT",
      "Circular Barplot"
    ]
  },
  {
    "objectID": "Hiplot/023-circular-barplot.html#环境配置",
    "href": "Hiplot/023-circular-barplot.html#环境配置",
    "title": "环状条形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Circular Barplot"
    ]
  },
  {
    "objectID": "Hiplot/023-circular-barplot.html#数据准备",
    "href": "Hiplot/023-circular-barplot.html#数据准备",
    "title": "环状条形图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/circular-barplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$group &lt;- as.factor(data$group)\nempty_bar &lt;- 2\nto_add &lt;- data.frame(matrix(NA, empty_bar*nlevels(data$group), ncol(data)))\ncolnames(to_add) &lt;- colnames(data)\nto_add$group &lt;- rep(levels(data$group), each=empty_bar)\ndata &lt;- rbind(data, to_add)\ndata &lt;- data %&gt;% arrange(group)\ndata$id &lt;- seq(1, nrow(data))\n\nlabel_data &lt;- data\nnumber_of_bar &lt;- nrow(label_data)\nangle &lt;- 90 - 360 * (label_data$id-0.5) /number_of_bar\nlabel_data$hjust &lt;- ifelse( angle &lt; -90, 1, 0)\nlabel_data$angle &lt;- ifelse(angle &lt; -90, angle+180, angle)\n\nbase_data &lt;- data %&gt;% \n  group_by(group) %&gt;% \n  summarize(start=min(id), end=max(id) - empty_bar) %&gt;% \n  rowwise() %&gt;% \n  mutate(title=mean(c(start, end)))\n\n# 查看数据\nhead(data)\n\n  individual group value id\n1   Mister 1     A    82  1\n2   Mister 2     A    98  2\n3   Mister 3     A    72  3\n4   Mister 4     A    34  4\n5   Mister 5     A    60  5\n6   Mister 6     A    61  6",
    "crumbs": [
      "HIPLOT",
      "Circular Barplot"
    ]
  },
  {
    "objectID": "Hiplot/023-circular-barplot.html#可视化",
    "href": "Hiplot/023-circular-barplot.html#可视化",
    "title": "环状条形图",
    "section": "可视化",
    "text": "可视化\n\n# 环状条形图\np &lt;- ggplot(data, aes(x=as.factor(id), y=value, fill=group)) +\n  geom_bar(aes(x=as.factor(id), y=value, fill=group), stat=\"identity\", alpha=0.5) +\n  ylim(-50,max(na.omit(data$value))+30) +\n  geom_segment(data=base_data, aes(x = start, y = -5, xend = end, yend = -5), colour = \"black\", alpha=0.8, size=0.8 , inherit.aes = FALSE )  +\n  geom_text(data=base_data, aes(x = title, y = -12, label=group), colour = \"black\", alpha=0.8, size=4, fontface=\"bold\", inherit.aes = FALSE) +\n  geom_text(data=label_data, aes(x=id, y=value+8, label=individual, hjust=hjust), color=\"black\", fontface=\"bold\",alpha=0.6, size=3, angle= label_data$angle, inherit.aes = FALSE ) +\n  geom_text(data=label_data, aes(x=id, y=value-10, label=value, hjust=hjust), color=\"black\", fontface=\"bold\",alpha=0.6, size=3, angle= label_data$angle, inherit.aes = FALSE ) +\n  coord_polar() + \n  scale_fill_manual(values = c(\"#3b4992ff\",\"#ee0000ff\",\"#008b45ff\",\"#631879ff\")) +\n  theme_minimal() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_blank(),\n        axis.text = element_blank(),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10),\n        panel.grid = element_blank(),\n        plot.margin = unit(rep(-1,4), \"cm\"))\n\np\n\n\n\n\n\n\n\n图 1: 环状条形图",
    "crumbs": [
      "HIPLOT",
      "Circular Barplot"
    ]
  },
  {
    "objectID": "Hiplot/178-venn.html",
    "href": "Hiplot/178-venn.html",
    "title": "韦恩图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Venn 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/venn?lang=zh_cn\n维恩图是一种表示不同有限集合之间所有可能的逻辑关系的图。这些图将集合内元素描述为平面上的点，将集合描述为封闭曲线内的区域。维恩图由多个重叠的闭合曲线 (通常是圆) 组成，每个曲线代表一个集合。标记为S曲线内的点表示集合 S 中的元素，而边界外的点表示集合 S 中不存在的元素。例如，两个集合中的所有元素的交集，S∩T，在视觉上用集合 S 和 T 的重叠区域来表示。在维恩图中，曲线以各种可能的方式重叠，显示了集合之间所有可能的关系。",
    "crumbs": [
      "HIPLOT",
      "Venn"
    ]
  },
  {
    "objectID": "Hiplot/178-venn.html#环境配置",
    "href": "Hiplot/178-venn.html#环境配置",
    "title": "韦恩图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; VennDiagram; grDevices\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"VennDiagram\", quietly = TRUE)) {\n  install.packages(\"VennDiagram\")\n}\nif (!requireNamespace(\"grDevices\", quietly = TRUE)) {\n  install.packages(\"grDevices\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(VennDiagram)\nlibrary(grDevices)",
    "crumbs": [
      "HIPLOT",
      "Venn"
    ]
  },
  {
    "objectID": "Hiplot/178-venn.html#数据准备",
    "href": "Hiplot/178-venn.html#数据准备",
    "title": "韦恩图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 5 个含有基因名称的集合。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/venn/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nfor (i in seq_len(ncol(data))) {\n  data[is.na(data[, i]), i] &lt;- \"\"\n}\nraw &lt;- data\ndata &lt;- as.data.frame(raw[raw[, 1] != \"\", 1])\ncolnames(data) &lt;- colnames(raw)[1]\nlist.num &lt;- 1\nfor (i in 2:ncol(raw)) {\n  if (any(!is.na(raw[, i]) & raw[, i] != \"\")) {\n    tmp &lt;- raw[i]\n    tmp &lt;- tmp[tmp[, 1] != \"\", ]\n    tmp &lt;- as.data.frame(tmp)\n    colnames(tmp) &lt;- colnames(raw)[i]\n    assign(paste0(\"data\", i), tmp)\n    list.num &lt;- list.num + 1\n  }\n}\ncolnames(data) &lt;- paste(\"V\", seq_len(ncol(data)), sep = \"\")\ncolnames(data2) &lt;- paste(\"V\", seq_len(ncol(data2)), sep = \"\")\ncolnames(data3) &lt;- paste(\"V\", seq_len(ncol(data3)), sep = \"\")\ncolnames(data4) &lt;- paste(\"V\", seq_len(ncol(data4)), sep = \"\")\ncolnames(data5) &lt;- paste(\"V\", seq_len(ncol(data5)), sep = \"\")\ndata_list &lt;- list(\n  n1 = data$V1, n2 = data2$V1, n3 = data3$V1,\n  n4 = data4$V1, n5 = data5$V1\n)\nnames(data_list) &lt;- colnames(raw)[1:5]\n\n# 查看数据\nhead(data)\n\n       V1\n1   ISG15\n2  TTLL10\n3    HES4\n4  OR4G4P\n5 MND2P28\n6  FAM87B",
    "crumbs": [
      "HIPLOT",
      "Venn"
    ]
  },
  {
    "objectID": "Hiplot/178-venn.html#可视化",
    "href": "Hiplot/178-venn.html#可视化",
    "title": "韦恩图",
    "section": "可视化",
    "text": "可视化\n\n# 韦恩图\ncol &lt;- c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\")\np &lt;- venn.diagram(\n  data_list, scaled = F, euler.d = F, filename = NULL, col = \"black\",\n  fill = col,\n  cex = c(\n    1.5, 1.5, 1.5, 1.5, 1.5, 1, 0.8, 1, 0.8, 1, 0.8, 1, 0.8,\n    1, 0.8, 1, 0.55, 1, 0.55, 1, 0.55, 1, 0.55, 1, 0.55, 1, 1, 1, 1, 1, 1.5\n  ),\n  cat.col = col, cat.cex = 1,\n  main.fontfamily = \"Arial\", fontfamily = \"Arial\", cat.fontface = \"bold\",\n  cat.fontfamily = \"Arial\", margin = 0.1, main = \"Vene Plot\", alpha = 0.8\n);grid::grid.draw(p)\n\n\n\n\n\n\n\n图 1: 韦恩图\n\n\n\n\n\n5 种颜色的闭合曲线代表 5 个集合，数字表示多个集合重叠或者未重叠的基因数，例如：示例图中 8 代表 5 个示例集合中均含有 8 个相同的基因名称。",
    "crumbs": [
      "HIPLOT",
      "Venn"
    ]
  },
  {
    "objectID": "Hiplot/093-line-errorbar.html",
    "href": "Hiplot/093-line-errorbar.html",
    "title": "线图（误差线）",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Line (errorbar) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/line-errorbar?lang=zh_cn\n误差线主要指示数据每一个数据点的误差范围，显示潜在的误差或相对于系列中每一个数据的的不确定程度。",
    "crumbs": [
      "HIPLOT",
      "Line (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/093-line-errorbar.html#环境配置",
    "href": "Hiplot/093-line-errorbar.html#环境配置",
    "title": "线图（误差线）",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Line (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/093-line-errorbar.html#数据准备",
    "href": "Hiplot/093-line-errorbar.html#数据准备",
    "title": "线图（误差线）",
    "section": "数据准备",
    "text": "数据准备\n载入数据为两种分组及其对应的数值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/line-errorbar/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 3] &lt;- factor(data[, 3], levels = unique(data[, 3]))\n\n# 查看数据\nhead(data)\n\n  Value Group2 Group1\n1   4.2 treat1    low\n2  11.5 treat1    low\n3   7.3 treat1    low\n4   5.8 treat1    low\n5   6.4 treat1    low\n6  10.0 treat1    low",
    "crumbs": [
      "HIPLOT",
      "Line (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/093-line-errorbar.html#可视化",
    "href": "Hiplot/093-line-errorbar.html#可视化",
    "title": "线图（误差线）",
    "section": "可视化",
    "text": "可视化\n\n# 线图（误差线）\np &lt;- ggline(\n  data, x = \"Group1\", y = \"Value\", color = \"Group2\",\n  add = \"mean_se\", title = \"Line plot with errorbar\", palette = \"npg\") +\n  stat_compare_means(aes_(group = as.name(\"Group2\"))) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 线图（误差线）\n\n\n\n\n\nlow 类型中的红色上线表示 treat1 中 low 类型中数值最大值，红色下线表示 treat1 中 low 类型中数值最小值，其他以此类推。分别对treat1 和 treat2 按照 low，mid，high 类型进行秩和检验，显示 P 值于图形上方。",
    "crumbs": [
      "HIPLOT",
      "Line (errorbar)"
    ]
  },
  {
    "objectID": "Hiplot/148-qqplot.html",
    "href": "Hiplot/148-qqplot.html",
    "title": "QQ 图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot QQ Plot 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/qqplot?lang=zh_cn\n用于直观验证一组数据是否来自某个分布，或者验证某两组数据是否来自同一（族）分布。",
    "crumbs": [
      "HIPLOT",
      "QQ Plot"
    ]
  },
  {
    "objectID": "Hiplot/148-qqplot.html#环境配置",
    "href": "Hiplot/148-qqplot.html#环境配置",
    "title": "QQ 图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)",
    "crumbs": [
      "HIPLOT",
      "QQ Plot"
    ]
  },
  {
    "objectID": "Hiplot/148-qqplot.html#数据准备",
    "href": "Hiplot/148-qqplot.html#数据准备",
    "title": "QQ 图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/qqplot/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, \"Genotype\"] &lt;- factor(data[, \"Genotype\"], levels = unique(data[, \"Genotype\"]))\n\n# 查看数据\nhead(data)\n\n  Genotype Cytokine Experiment facet\n1       WT 1.312322     Exp_ 1     A\n2       WT 2.171466     Exp_ 2     A\n3       WT 1.497610     Exp_ 3     A\n4       WT 1.088861     Exp_ 4     A\n5       WT 1.270528     Exp_ 5     A\n6       WT 3.012708     Exp_ 6     A",
    "crumbs": [
      "HIPLOT",
      "QQ Plot"
    ]
  },
  {
    "objectID": "Hiplot/148-qqplot.html#可视化",
    "href": "Hiplot/148-qqplot.html#可视化",
    "title": "QQ 图",
    "section": "可视化",
    "text": "可视化\n\n# QQ 图\np &lt;- plot_qqline(data = data, ycol = Cytokine, group = Genotype,\n                 symsize = 2, symthick = 0.5, s_alpha = 1) +\n  ggtitle(\"QQplot without facet\") +\n  xlab(\"theoretical\") + ylab(\"sample\") + \n  guides(fill = guide_legend(title = \"Genotype\")) +\n  scale_color_manual(values = c(\"#E69F00\",\"#4DB1DC\")) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: QQ 图",
    "crumbs": [
      "HIPLOT",
      "QQ Plot"
    ]
  },
  {
    "objectID": "Hiplot/038-density-hist-mirror.html",
    "href": "Hiplot/038-density-hist-mirror.html",
    "title": "镜像密度图和直方图",
    "section": "",
    "text": "镜像密度图和直方图是一种使用上下双侧绘制方法用来观察连续型变量分布的图形。",
    "crumbs": [
      "HIPLOT",
      "Mirror Density & Histogram"
    ]
  },
  {
    "objectID": "Hiplot/038-density-hist-mirror.html#环境配置",
    "href": "Hiplot/038-density-hist-mirror.html#环境配置",
    "title": "镜像密度图和直方图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Mirror Density & Histogram"
    ]
  },
  {
    "objectID": "Hiplot/038-density-hist-mirror.html#数据准备",
    "href": "Hiplot/038-density-hist-mirror.html#数据准备",
    "title": "镜像密度图和直方图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/density-hist-mirror/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nsides &lt;- data[1,]\ndata &lt;- data[-1,]\nfor (i in 1:ncol(data)) {\n  data[,i] &lt;- as.numeric(data[,i])\n}\n\n# 查看数据\nhead(data)\n\n         var1     var2     var3     var4     var5     var6\n2  0.54659146 1.575592 1.508968 2.504824 5.540246 6.198931\n3 -0.64052340 5.275076 1.498841 4.436792 4.987390 5.194154\n4  1.03196438 2.561983 4.018349 3.506171 5.030395 6.570980\n5  0.09518815 1.802874 2.057855 2.789252 4.797252 7.545844\n6  0.89147721 2.627927 2.218567 4.581939 4.791792 5.468657\n7  0.61786781 3.574565 2.051910 4.929031 5.830516 6.105716",
    "crumbs": [
      "HIPLOT",
      "Mirror Density & Histogram"
    ]
  },
  {
    "objectID": "Hiplot/038-density-hist-mirror.html#可视化",
    "href": "Hiplot/038-density-hist-mirror.html#可视化",
    "title": "镜像密度图和直方图",
    "section": "可视化",
    "text": "可视化\n\n1. 镜像密度图\n\n# 镜像密度图\np &lt;- ggplot(data, aes(x=x))\ncolrs &lt;- c(\"#e64b35ff\",\"#4dbbd5ff\",\"#00a087ff\",\"#3c5488ff\",\"#f39b7fff\",\"#8491b4ff\")\ncolrs2 &lt;- colnames(data)\nfor (i in seq_len(length(sides))) {\n  eval(parse(\n    text = sprintf(\"p &lt;- p + geom_density(aes(x = %s, y = %s..density.., color = '%s', fill = '%s'), kernel = '%s')\", \n                   colnames(data)[i], ifelse(sides[i] == \"top\", \"\", \"-\"), colnames(data)[i],\n                   colnames(data)[i], \"gaussian\")\n    ))\n  names(colrs)[i] &lt;- colnames(data)[i]\n  names(colrs2)[i] &lt;- colrs[i]\n}\np &lt;- p + \n  ggtitle(\"\") +\n  scale_fill_manual(values=colrs, name=\"Densities\") +\n  scale_color_manual(values=colrs, name=\"Densities\") +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 镜像密度图\n\n\n\n\n\n\n\n2. 镜像直方图\n\n# 镜像直方图\np &lt;- ggplot(data, aes(x=x))\ncolrs &lt;- c(\"#e64b35ff\",\"#4dbbd5ff\",\"#00a087ff\",\"#3c5488ff\",\"#f39b7fff\",\"#8491b4ff\")\ncolrs2 &lt;- colnames(data)\nfor (i in seq_len(length(sides))) {\n  eval(parse(\n    text = sprintf(\"p &lt;- p + geom_histogram(aes(x = %s, y = %s..density.., color = '%s', fill = '%s'), bins = %s)\", \n                   colnames(data)[i], ifelse(sides[i] == \"top\", \"\", \"-\"),\n                   colnames(data)[i], colnames(data)[i], 35)))\n  names(colrs)[i] &lt;- colnames(data)[i]\n  names(colrs2)[i] &lt;- colrs[i]\n}\np &lt;- p + \n  ggtitle(\"\") +\n  scale_fill_manual(values=colrs, name=\"Densities\") +\n  scale_color_manual(values=colrs, name=\"Densities\") +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 2: 镜像直方图",
    "crumbs": [
      "HIPLOT",
      "Mirror Density & Histogram"
    ]
  },
  {
    "objectID": "Hiplot/018-calibration-curve.html",
    "href": "Hiplot/018-calibration-curve.html",
    "title": "校准曲线",
    "section": "",
    "text": "校准曲线用于评估一致性/校准，即预测值和实际值之间的差异。",
    "crumbs": [
      "HIPLOT",
      "Calibration Curve"
    ]
  },
  {
    "objectID": "Hiplot/018-calibration-curve.html#环境配置",
    "href": "Hiplot/018-calibration-curve.html#环境配置",
    "title": "校准曲线",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; survival; rms; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"survival\", quietly = TRUE)) {\n  install.packages(\"survival\")\n}\nif (!requireNamespace(\"rms\", quietly = TRUE)) {\n  install.packages(\"rms\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(survival)\nlibrary(rms)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Calibration Curve"
    ]
  },
  {
    "objectID": "Hiplot/018-calibration-curve.html#数据准备",
    "href": "Hiplot/018-calibration-curve.html#数据准备",
    "title": "校准曲线",
    "section": "数据准备",
    "text": "数据准备\n多列数据的数据帧（数字允许NA）。ie生存数据（状态为0和1）。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/calibration-curve/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nres.lrm &lt;- lrm(as.formula(paste(\n  \"status ~ \", \n  paste(colnames(data)[3:length(colnames(data))], collapse = \"+\"))),\n  data = data, x = TRUE, y = TRUE)\n\nlrm.cal &lt;- calibrate(res.lrm, method = \"boot\", B = length(rownames(data)))\n\n# 查看数据\nhead(data)\n\n  time status age sex ph.ecog ph.karno pat.karno meal.cal wt.loss\n1  306      2  74   1       1       90       100     1175      NA\n2  455      2  68   1       0       90        90     1225      15\n3 1010      1  56   1       0       90        90       NA      15\n4  210      2  57   1       1       90        60     1150      11\n5  883      2  60   1       0      100        90       NA       0\n6 1022      1  74   1       1       50        80      513       0",
    "crumbs": [
      "HIPLOT",
      "Calibration Curve"
    ]
  },
  {
    "objectID": "Hiplot/018-calibration-curve.html#可视化",
    "href": "Hiplot/018-calibration-curve.html#可视化",
    "title": "校准曲线",
    "section": "可视化",
    "text": "可视化\n\n# 校准曲线\np &lt;- as.ggplot(function() {\n  plot(lrm.cal,\n       xlab = \"Nomogram Predicted Survival\",\n       ylab = \"Actual Survival\",\n       main = \"Calibration Curve\"\n       )\n})\n\n\nn=168   Mean absolute error=0.063   Mean squared error=0.00471\n0.9 Quantile of absolute error=0.093\n\np\n\n\n\n\n\n\n\n图 1: 校准曲线",
    "crumbs": [
      "HIPLOT",
      "Calibration Curve"
    ]
  },
  {
    "objectID": "Hiplot/144-pyramid-chart.html",
    "href": "Hiplot/144-pyramid-chart.html",
    "title": "金字塔图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Pyramid Chart 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pyramid-chart?lang=zh_cn\n金字塔图是一种将数据分布于中轴两侧类似金字塔的图形。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart"
    ]
  },
  {
    "objectID": "Hiplot/144-pyramid-chart.html#环境配置",
    "href": "Hiplot/144-pyramid-chart.html#环境配置",
    "title": "金字塔图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggcharts\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggcharts\", quietly = TRUE)) {\n  install.packages(\"ggcharts\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggcharts)",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart"
    ]
  },
  {
    "objectID": "Hiplot/144-pyramid-chart.html#数据准备",
    "href": "Hiplot/144-pyramid-chart.html#数据准备",
    "title": "金字塔图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为年龄段，性别分类及前两种变量组合后的人口数目。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pyramid-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n    age    sex    pop\n1   0-4   male 225817\n2   0-4 female 213072\n3   5-9   male 223656\n4   5-9 female 210508\n5 10-14   male 214782\n6 10-14 female 201672",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart"
    ]
  },
  {
    "objectID": "Hiplot/144-pyramid-chart.html#可视化",
    "href": "Hiplot/144-pyramid-chart.html#可视化",
    "title": "金字塔图",
    "section": "可视化",
    "text": "可视化\n\n# 金字塔图\np &lt;- pyramid_chart(data = data, x = age, y = pop, group = sex, \n                   title = \"\", sort = \"no\", bar_colors = c(\"#C20B01\",\"#196ABD\")) +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 金字塔图\n\n\n\n\n\n图示将年龄段按照顺序从下到上依次显示在中轴线上，左侧表示男性人数，右侧表示女性人数，x 轴表示人口数量，该图可以很明显看出男女在不同年龄段的人数占比情况以及相同性别中不同年龄组的占比情况。",
    "crumbs": [
      "HIPLOT",
      "Pyramid Chart"
    ]
  },
  {
    "objectID": "Hiplot/137-perspective.html",
    "href": "Hiplot/137-perspective.html",
    "title": "透视图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Perspective 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/perspective?lang=zh_cn\n三维透视图是一种能将一个矩阵中包含的高等数值用曲面连接起来的三维立体图形。",
    "crumbs": [
      "HIPLOT",
      "Perspective"
    ]
  },
  {
    "objectID": "Hiplot/137-perspective.html#环境配置",
    "href": "Hiplot/137-perspective.html#环境配置",
    "title": "透视图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; shape; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"shape\", quietly = TRUE)) {\n  install.packages(\"shape\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(shape)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Perspective"
    ]
  },
  {
    "objectID": "Hiplot/137-perspective.html#数据准备",
    "href": "Hiplot/137-perspective.html#数据准备",
    "title": "透视图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为一个矩阵。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/perspective/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata &lt;- as.matrix(data)\ncol &lt;- drapecol(data)\n\n# 查看数据\nhead(data[,1:5])\n\n      V1  V2  V3  V4  V5\n[1,] 100 101 102 103 104\n[2,] 100 101 102 103 104\n[3,] 101 102 103 104 105\n[4,] 101 102 103 104 105\n[5,] 101 102 103 104 105\n[6,] 101 102 103 104 105",
    "crumbs": [
      "HIPLOT",
      "Perspective"
    ]
  },
  {
    "objectID": "Hiplot/137-perspective.html#可视化",
    "href": "Hiplot/137-perspective.html#可视化",
    "title": "透视图",
    "section": "可视化",
    "text": "可视化\n\n# 透视图\np &lt;- as.ggplot(function() {\n  persp(as.matrix(data),\n    theta = 45, phi = 20,\n    expand = 0.5,\n    r = 180, col = col,\n    ltheta = 120,\n    shade = 0.5,\n    ticktype = \"detailed\",\n    xlab = \"X\", ylab = \"Y\", zlab = \"Z\",\n    border = \"black\" # could be NA\n  )\n  title(\"Perspective Plot\", line = 0)\n})\n\np\n\n\n\n\n\n\n\n图 1: 透视图\n\n\n\n\n\n清晰观测一个山峰的全貌。",
    "crumbs": [
      "HIPLOT",
      "Perspective"
    ]
  },
  {
    "objectID": "Hiplot/162-scatter2.html",
    "href": "Hiplot/162-scatter2.html",
    "title": "散点图2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Scatter2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/scatter2?lang=zh_cn\n二维空间散点展示多数值变量关系。",
    "crumbs": [
      "HIPLOT",
      "Scatter2"
    ]
  },
  {
    "objectID": "Hiplot/162-scatter2.html#环境配置",
    "href": "Hiplot/162-scatter2.html#环境配置",
    "title": "散点图2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Scatter2"
    ]
  },
  {
    "objectID": "Hiplot/162-scatter2.html#数据准备",
    "href": "Hiplot/162-scatter2.html#数据准备",
    "title": "散点图2",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/scatter2/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n                car  mpg cyl  disp  hp drat    wt  qsec vs am gear carb\n1    Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1\n2 Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2\n3           Valiant 18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1\n4        Duster 360 14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4\n5        Merc 450SE 16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3\n6        Merc 450SL 17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3",
    "crumbs": [
      "HIPLOT",
      "Scatter2"
    ]
  },
  {
    "objectID": "Hiplot/162-scatter2.html#可视化",
    "href": "Hiplot/162-scatter2.html#可视化",
    "title": "散点图2",
    "section": "可视化",
    "text": "可视化\n\n# 散点图2\nsymsize &lt;- data[,\"gear\"]\ndata[,\"gear\"] &lt;- factor(data[,\"gear\"], levels = unique(data[,\"gear\"]))\np &lt;- ggplot(data, aes(x = mpg, y = disp)) + \n  geom_point(alpha = 1, aes(size = gear, fill = gear), shape = 21, stroke = 0.5) +\n  labs(fill = \"gear\", color = \"gear\") +\n  guides(x = guide_axis(angle = 0),\n         fill = guide_legend(title = \"gear\"),\n         color = FALSE,\n         size = guide_legend(title = \"gear\")) +\n  ggtitle(\"Scatter2 Plot\") +\n  scale_fill_grafify() +\n  theme_classic(base_size = 20) +\n  theme(text = element_text(family = \"Arial\"),\n        strip.background = element_blank(),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 散点图2",
    "crumbs": [
      "HIPLOT",
      "Scatter2"
    ]
  },
  {
    "objectID": "Hiplot/121-metawho.html",
    "href": "Hiplot/121-metawho.html",
    "title": "元分析亚组比较",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Meta-Subgroup Analysis 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/metawho?lang=zh_cn\nmetawho 的目标是提供“使用元分析方法识别治疗获益最大的人群”的 R 实现。\nmetawho 由 R 包 metafor 提供支持，目前不支持包含个体的数据集。如果您更熟悉 Stata 代码，请使用 Stata 包 ipdmetan。",
    "crumbs": [
      "HIPLOT",
      "Meta-Subgroup Analysis"
    ]
  },
  {
    "objectID": "Hiplot/121-metawho.html#环境配置",
    "href": "Hiplot/121-metawho.html#环境配置",
    "title": "元分析亚组比较",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; meta; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"metawho\", quietly = TRUE)) {\n  install.packages(\"metawho\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(metawho)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Meta-Subgroup Analysis"
    ]
  },
  {
    "objectID": "Hiplot/121-metawho.html#数据准备",
    "href": "Hiplot/121-metawho.html#数据准备",
    "title": "元分析亚组比较",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/metawho/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata = deft_prepare(data, conf_level = 1 - 0.95)\nres = deft_do(data, group_level = unique(data$subgroup))\n\n# 查看数据\nhead(data)\n\n                 entry         trial subgroup   hr ci.lb ci.ub  ni   conf_q\n1      Rizvi 2015-Male    Rizvi 2015     Male 0.30  0.09  1.00  16 1.959964\n2    Rizvi 2015-Female    Rizvi 2015   Female 0.11  0.02  0.56  18 1.959964\n3      Rizvi 2018-Male    Rizvi 2018     Male 1.25  0.82  1.90 118 1.959964\n4    Rizvi 2018-Female    Rizvi 2018   Female 0.63  0.42  0.95 122 1.959964\n5   Hellmann 2018-Male Hellmann 2018     Male 0.90  0.41  1.99  37 1.959964\n6 Hellmann 2018-Female Hellmann 2018   Female 0.28  0.12  0.67  38 1.959964\n          yi       sei\n1 -1.2039728 0.6142831\n2 -2.2072749 0.8500678\n3  0.2231436 0.2143674\n4 -0.4620355 0.2082200\n5 -0.1053605 0.4030005\n6 -1.2729657 0.4387290",
    "crumbs": [
      "HIPLOT",
      "Meta-Subgroup Analysis"
    ]
  },
  {
    "objectID": "Hiplot/121-metawho.html#可视化",
    "href": "Hiplot/121-metawho.html#可视化",
    "title": "元分析亚组比较",
    "section": "可视化",
    "text": "可视化\n\n# 元分析亚组比较\np1 &lt;- deft_show(res, element = \"all\")\np2 &lt;- deft_show(res, element = \"subgroup\")\np &lt;- plot_grid(p1, p2, nrow = 2)\n\np\n\n\n\n\n\n\n\n图 1: 元分析亚组比较",
    "crumbs": [
      "HIPLOT",
      "Meta-Subgroup Analysis"
    ]
  },
  {
    "objectID": "Hiplot/006-barplot-errorbar2.html",
    "href": "Hiplot/006-barplot-errorbar2.html",
    "title": "误差线柱状图2",
    "section": "",
    "text": "带误差线和误差组的条形图。",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar2)"
    ]
  },
  {
    "objectID": "Hiplot/006-barplot-errorbar2.html#环境配置",
    "href": "Hiplot/006-barplot-errorbar2.html#环境配置",
    "title": "误差线柱状图2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; grafify; ggpubr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(grafify)\nlibrary(ggpubr)",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar2)"
    ]
  },
  {
    "objectID": "Hiplot/006-barplot-errorbar2.html#数据准备",
    "href": "Hiplot/006-barplot-errorbar2.html#数据准备",
    "title": "误差线柱状图2",
    "section": "数据准备",
    "text": "数据准备\n数据表:\n第一列: (数值) Y 轴值。\n第二列: (数值或字符串) X 轴类别。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-errorbar2/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n\n# 查看数据\nhead(data)\n\n  score   class\n1    60    math\n2    62    math\n3    70 chinese\n4    73 chinese\n5    80 english\n6    85 english",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar2)"
    ]
  },
  {
    "objectID": "Hiplot/006-barplot-errorbar2.html#可视化",
    "href": "Hiplot/006-barplot-errorbar2.html#可视化",
    "title": "误差线柱状图2",
    "section": "可视化",
    "text": "可视化\n\n# 误差线柱状图2\np &lt;- plot_scatterbar_sd(\n  data, ycol = get(colnames(data)[1]), xcol = get(colnames(data)[2]),\n  b_alpha = 1, ewid = 0.2, jitter = 0.1) +\n  stat_compare_means(data = data, aes(data[, 2], data[, 1], fill = data[, 2]),\n                     label = \"p.format\", ref.group = \".all.\", vjust = -2, \n                     method = \"t.test\") +\n  guides(fill=guide_legend(title=colnames(data)[2])) +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.2))) +\n  labs(x=\"class\", y=\"score\") +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")) +\n  theme_classic2() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5, vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 误差线柱状图2",
    "crumbs": [
      "HIPLOT",
      "Barplot (errorbar2)"
    ]
  },
  {
    "objectID": "Hiplot/059-gantt.html",
    "href": "Hiplot/059-gantt.html",
    "title": "甘特图",
    "section": "",
    "text": "甘特图是一种用来说明项目进度条形图。",
    "crumbs": [
      "HIPLOT",
      "Gantt"
    ]
  },
  {
    "objectID": "Hiplot/059-gantt.html#环境配置",
    "href": "Hiplot/059-gantt.html#环境配置",
    "title": "甘特图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; tidyverse; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(tidyverse)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Gantt"
    ]
  },
  {
    "objectID": "Hiplot/059-gantt.html#数据准备",
    "href": "Hiplot/059-gantt.html#数据准备",
    "title": "甘特图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 4 个样本即四位患者，3 个项目即 3 种治疗方法，以及每种治疗方法的起止时间。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gantt/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nusr_ylab &lt;- colnames(data)[1]\nif (!is.numeric(data[, 2])) {\n  data[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n}\ndata_gather &lt;- gather(data, \"state\", \"date\", 3:4)\nsample &lt;- levels(data_gather$sample)\ndata_gather$sample &lt;- factor(data_gather$sample,\n  levels = rev(unique(data_gather$sample))\n)\n\n# 查看数据\nhead(data_gather)\n\n    sample   item state date\n1 patient1 treat1 start    1\n2 patient2 treat1 start    2\n3 patient2 treat2 start    5\n4 patient2 treat3 start    7\n5 patient3 treat3 start    6\n6 patient3 treat1 start    3",
    "crumbs": [
      "HIPLOT",
      "Gantt"
    ]
  },
  {
    "objectID": "Hiplot/059-gantt.html#可视化",
    "href": "Hiplot/059-gantt.html#可视化",
    "title": "甘特图",
    "section": "可视化",
    "text": "可视化\n\n# 甘特图\np &lt;- ggplot(data_gather, aes(date, sample, color = item)) +\n  geom_line(size = 10, alpha = 1) +\n  labs(x = \"Time\", y = \"sample\", title = \"Gantt Plot\") +\n  theme(axis.ticks = element_blank()) +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5, vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 甘特图\n\n\n\n\n\n横轴表示时间进度，纵轴表示 4 位患者，3 种颜色表示 3 种治疗方法，该图可以观测到每位患者不同治疗方法使用的时间进度。",
    "crumbs": [
      "HIPLOT",
      "Gantt"
    ]
  },
  {
    "objectID": "Hiplot/172-treeheatr.html",
    "href": "Hiplot/172-treeheatr.html",
    "title": "热图决策树",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Treeheatr 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/treeheatr?lang=zh_cn\n热图决策图是一种拼接热图和决策树可视化即决策图两种图形的一种可视化图形。",
    "crumbs": [
      "HIPLOT",
      "Treeheatr"
    ]
  },
  {
    "objectID": "Hiplot/172-treeheatr.html#环境配置",
    "href": "Hiplot/172-treeheatr.html#环境配置",
    "title": "热图决策树",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; treeheatr; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"treeheatr\", quietly = TRUE)) {\n  install.packages(\"treeheatr\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(treeheatr)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Treeheatr"
    ]
  },
  {
    "objectID": "Hiplot/172-treeheatr.html#数据准备",
    "href": "Hiplot/172-treeheatr.html#数据准备",
    "title": "热图决策树",
    "section": "数据准备",
    "text": "数据准备\n第一列为物种种类名称，第二列为岛屿，其余列为物种特征。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/treeheatr/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nx &lt;- data\nwrong_cols &lt;- suppressWarnings(sapply(x, function(x) {\n  if (!is.numeric(x)) {\n    sum(!is.na(as.numeric(x))) &gt; 0.7 * length(x)\n  } else {\n    FALSE\n  }\n}))\nif (any(wrong_cols)) {\n  ix &lt;- which(wrong_cols)\n  for (i in ix) {\n    data[[i]] &lt;- suppressWarnings(as.numeric(data[[i]]))\n  }\n  rm(ix)\n}\nrm(x, wrong_cols)\n\n# 查看数据\nhead(data)\n\n  species    island culmen_length_mm culmen_depth_mm flipper_length_mm\n1  Adelie Torgersen             39.1            18.7               181\n2  Adelie Torgersen             39.5            17.4               186\n3  Adelie Torgersen             40.3            18.0               195\n4  Adelie Torgersen               NA              NA                NA\n5  Adelie Torgersen             36.7            19.3               193\n6  Adelie Torgersen             39.3            20.6               190\n  body_mass_g    sex\n1        3750   MALE\n2        3800 FEMALE\n3        3250 FEMALE\n4          NA   &lt;NA&gt;\n5        3450 FEMALE\n6        3650   MALE",
    "crumbs": [
      "HIPLOT",
      "Treeheatr"
    ]
  },
  {
    "objectID": "Hiplot/172-treeheatr.html#可视化",
    "href": "Hiplot/172-treeheatr.html#可视化",
    "title": "热图决策树",
    "section": "可视化",
    "text": "可视化\n\n# 热图决策树\np &lt;- as.ggplot(function() {\n  print(heat_tree(data,\n    target_lab = \"species\",\n    task = 'classification',\n    show = \"heat-tree\",\n    heat_rel_height = 0.2,\n    panel_space = 0.001,\n    clust_samps = T,\n    clust_target = T,\n    lev_fac = 1.3,\n    cont_legend = F,\n    cate_legend = F\n  ))\n})\n\np\n\n\n\n\n\n\n\n图 1: 热图决策树\n\n\n\n\n\n图示上半个图为决策图，下半个图为热图。\n决策图：最上层 island 对 species 分类影响最大，根据不同条件最终可以归为不同 species。\n热图：可以观测出每个物种每种条件下量的变化。\n图例：对于每种分类变量而言，不同颜色表示不同种类；对于连续性变量而言，数值越高颜色越浅，反之，越深。",
    "crumbs": [
      "HIPLOT",
      "Treeheatr"
    ]
  },
  {
    "objectID": "Hiplot/011-beanplot.html",
    "href": "Hiplot/011-beanplot.html",
    "title": "豆荚图",
    "section": "",
    "text": "豆荚图是一种描述一组数据分布特征的方法。",
    "crumbs": [
      "HIPLOT",
      "Beanplot"
    ]
  },
  {
    "objectID": "Hiplot/011-beanplot.html#环境配置",
    "href": "Hiplot/011-beanplot.html#环境配置",
    "title": "豆荚图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplotify; beanplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"beanplot\", quietly = TRUE)) {\n  install.packages(\"beanplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplotify)\nlibrary(beanplot)",
    "crumbs": [
      "HIPLOT",
      "Beanplot"
    ]
  },
  {
    "objectID": "Hiplot/011-beanplot.html#数据准备",
    "href": "Hiplot/011-beanplot.html#数据准备",
    "title": "豆荚图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集 (不同治疗方案的治疗效果数据)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/beanplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nGroupOrder &lt;- as.numeric(factor(data[, 2], levels = unique(data[, 2])))\ndata[, 2] &lt;- paste0(data[,2], \" \", as.numeric(factor(data[, 3])))\ndata &lt;- cbind(data, GroupOrder)\n\n# 查看数据\nhead(data)\n\n     Y     X  Group GroupOrder\n1  4.2 low 1 treat1          1\n2 11.5 low 1 treat1          1\n3  7.3 low 1 treat1          1\n4  5.8 low 1 treat1          1\n5  6.4 low 1 treat1          1\n6 10.0 low 1 treat1          1",
    "crumbs": [
      "HIPLOT",
      "Beanplot"
    ]
  },
  {
    "objectID": "Hiplot/011-beanplot.html#可视化",
    "href": "Hiplot/011-beanplot.html#可视化",
    "title": "豆荚图",
    "section": "可视化",
    "text": "可视化\n\n# 豆荚图\np &lt;- as.ggplot(function() {\n  beanplot(Y ~ reorder(X, GroupOrder, mean), data = data, ll = 0.04,\n           main = \"Bean Plot\", ylab = \"Y\", xlab = \"X\", side = \"both\",\n           border = NA, horizontal = F, \n           col = list(c(\"#2b70c4\", \"#2b70c4\"),c(\"#e9c216\", \"#e9c216\")),\n           beanlines = \"mean\", overallline = \"mean\", kernel = \"gaussian\")\n  \n  legend(\"bottomright\", fill = c(\"#2b70c4\", \"#e9c216\"),\n         legend = levels(factor(data[, 3])))\n})\n\np\n\n\n\n\n\n\n\n图 1: 豆荚图",
    "crumbs": [
      "HIPLOT",
      "Beanplot"
    ]
  },
  {
    "objectID": "Hiplot/149-r-code-flow.html",
    "href": "Hiplot/149-r-code-flow.html",
    "title": "R 脚本逻辑可视化",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot R Script Flow 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/r-code-flow?lang=zh_cn\nR 脚本逻辑可视化能够实现对 if，else 等逻辑函数进行可视化的窗口。",
    "crumbs": [
      "HIPLOT",
      "R Script Flow"
    ]
  },
  {
    "objectID": "Hiplot/149-r-code-flow.html#环境配置",
    "href": "Hiplot/149-r-code-flow.html#环境配置",
    "title": "R 脚本逻辑可视化",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: flow\n\n\n# 安装包\nif (!requireNamespace(\"flow\", quietly = TRUE)) {\n  install.packages(\"flow\")\n}\n\n# 加载包\nlibrary(flow)",
    "crumbs": [
      "HIPLOT",
      "R Script Flow"
    ]
  },
  {
    "objectID": "Hiplot/149-r-code-flow.html#数据准备",
    "href": "Hiplot/149-r-code-flow.html#数据准备",
    "title": "R 脚本逻辑可视化",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 R 语言 if，else 函数代码\n\n# 加载数据\ncode &lt;- function(){\n  if (x &lt; 10) {\n    a &lt;- 1\n  } else {\n    a &lt;- 2\n  }\n  if (a == 2) {\n    c &lt;- d\n  } else {\n    d &lt;- a\n  }\n}",
    "crumbs": [
      "HIPLOT",
      "R Script Flow"
    ]
  },
  {
    "objectID": "Hiplot/149-r-code-flow.html#可视化",
    "href": "Hiplot/149-r-code-flow.html#可视化",
    "title": "R 脚本逻辑可视化",
    "section": "可视化",
    "text": "可视化\n\n# R 脚本逻辑可视化\np &lt;- flow_view(code)\n\np\n\n\n\n\n\n\n\n图 1: R 脚本逻辑可视化\n\n\n\n图示表示如果变量 x &lt; 10，a = 1,如果变量 x &gt; 10，a = 2；如果 a = 2，则 c = d，如果 a 不等于2，则 d = a。",
    "crumbs": [
      "HIPLOT",
      "R Script Flow"
    ]
  },
  {
    "objectID": "Hiplot/163-scatterpie.html",
    "href": "Hiplot/163-scatterpie.html",
    "title": "散点饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Scatterpie 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/scatterpie?lang=zh_cn\n散点饼图用于可视化不同空间坐标中数据分类值的比例情况。",
    "crumbs": [
      "HIPLOT",
      "Scatterpie"
    ]
  },
  {
    "objectID": "Hiplot/163-scatterpie.html#环境配置",
    "href": "Hiplot/163-scatterpie.html#环境配置",
    "title": "散点饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; scatterpie\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"scatterpie\", quietly = TRUE)) {\n  install.packages(\"scatterpie\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(scatterpie)",
    "crumbs": [
      "HIPLOT",
      "Scatterpie"
    ]
  },
  {
    "objectID": "Hiplot/163-scatterpie.html#数据准备",
    "href": "Hiplot/163-scatterpie.html#数据准备",
    "title": "散点饼图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/scatterpie/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n            x          y          A        B        C        D\n1  -56.047565  12.665926 0.71040656 2.887786 1.309570 2.892264\n2  -23.017749  -1.427338 0.25688371 1.403569 1.375096 4.945092\n3    7.050839  68.430114 0.24669188 0.524395 3.189978 5.138863\n4   12.928774 -11.288549 0.34754260 3.144288 3.789556 2.295894\n5 -126.506123  29.230687 0.95161857 3.029335 1.048951 2.471943\n6  -68.685285   6.192712 0.04502772 3.203072 2.596539 4.439393",
    "crumbs": [
      "HIPLOT",
      "Scatterpie"
    ]
  },
  {
    "objectID": "Hiplot/163-scatterpie.html#可视化",
    "href": "Hiplot/163-scatterpie.html#可视化",
    "title": "散点饼图",
    "section": "可视化",
    "text": "可视化\n\n# 散点饼图\np &lt;- ggplot() +\n  geom_scatterpie(data = data, aes(x = x, y = y), cols = colnames(data)[-c(1, 2)]) +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\")) +\n  labs(x=\"x\", y=\"y\") +\n  theme_minimal() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 散点饼图",
    "crumbs": [
      "HIPLOT",
      "Scatterpie"
    ]
  },
  {
    "objectID": "Hiplot/081-group-bubble.html",
    "href": "Hiplot/081-group-bubble.html",
    "title": "分组气泡图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Group Bubble"
    ]
  },
  {
    "objectID": "Hiplot/081-group-bubble.html#环境配置",
    "href": "Hiplot/081-group-bubble.html#环境配置",
    "title": "分组气泡图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Group Bubble"
    ]
  },
  {
    "objectID": "Hiplot/081-group-bubble.html#数据准备",
    "href": "Hiplot/081-group-bubble.html#数据准备",
    "title": "分组气泡图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/group-bubble/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa",
    "crumbs": [
      "HIPLOT",
      "Group Bubble"
    ]
  },
  {
    "objectID": "Hiplot/081-group-bubble.html#可视化",
    "href": "Hiplot/081-group-bubble.html#可视化",
    "title": "分组气泡图",
    "section": "可视化",
    "text": "可视化\n\n# 分组气泡图\np &lt;- ggplot(data = data, aes(x = Sepal.Length, y = Sepal.Width, \n                             size = Petal.Width, color = Species)) +\n  geom_point(alpha = 0.7) +\n  scale_size(range = c(1, 4)) +\n  scale_color_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\")) +\n  theme_bw()\n\np\n\n\n\n\n\n\n\n图 1: 分组气泡图",
    "crumbs": [
      "HIPLOT",
      "Group Bubble"
    ]
  },
  {
    "objectID": "Hiplot/166-stack-violin.html",
    "href": "Hiplot/166-stack-violin.html",
    "title": "堆叠小提琴图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Stack Violin 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/stack-violin?lang=zh_cn\n单细胞转录组（single cell RNA-Seq）分析中每个簇关键基因的表达。",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/166-stack-violin.html#环境配置",
    "href": "Hiplot/166-stack-violin.html#环境配置",
    "title": "堆叠小提琴图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: readr; limma; Seurat; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"readr\", quietly = TRUE)) {\n  install.packages(\"readr\")\n}\nif (!requireNamespace(\"limma\", quietly = TRUE)) {\n  install.packages(\"limma\")\n}\nif (!requireNamespace(\"limma\", quietly = TRUE)) {\n  install.packages(\"limma\")\n}\nif (!requireNamespace(\"Seurat\", quietly = TRUE)) {\n  install.packages(\"Seurat\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(readr)\nlibrary(limma)\nlibrary(Seurat)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/166-stack-violin.html#数据准备",
    "href": "Hiplot/166-stack-violin.html#数据准备",
    "title": "堆叠小提琴图",
    "section": "数据准备",
    "text": "数据准备\n基因表达矩阵。单细胞转录组分析中所有细胞和组的基因表达矩阵（单细胞RNA序列）。\n\n# 加载数据\ndata &lt;- readr::read_delim(\"https://download.hiplot.cn/api/file/fetch/?path=/c622f9b0-54da-11f0-ba5f-8dc116702904/public/demo/stack-violin.txt\")\n\n# 整理数据格式\ndata &lt;- as.matrix(data)\nrownames(data) &lt;- data[, 1]\nexp &lt;- data[, 2:ncol(data)]\ndimnames &lt;- list(\n  rownames(exp),\n  colnames(exp)\n)\ndata &lt;- matrix(as.numeric(as.matrix(exp)),\n  nrow = nrow(exp),\n  dimnames = dimnames\n)\ndata &lt;- avereps(data,\n  ID = rownames(data)\n)\n## 将矩阵转换为Seurat对象，并对数据进行过滤\npbmc &lt;- CreateSeuratObject(\n  counts = data,\n  project = \"seurat\",\n  min.cells = 0,\n  min.features = 0,\n  names.delim = \"_\",\n)\n## 使用PercentageFeatureSet函数计算线粒体基因的百分比\npbmc[[\"percent.mt\"]] &lt;- PercentageFeatureSet(\n  object = pbmc,\n  pattern = \"^MT-\"\n)\n## 对数据进行过滤\npbmc &lt;- subset(\n  x = pbmc,\n  subset = nFeature_RNA &gt; 50 & percent.mt &lt; 5\n)\n## 对数据进行标准化\npbmc &lt;- NormalizeData(\n  object = pbmc,\n  normalization.method = \"LogNormalize\",\n  scale.factor = 10000, verbose = F\n)\n## 提取那些在细胞间变异系数较大的基因\npbmc &lt;- FindVariableFeatures(\n  object = pbmc,\n  selection.method = \"vst\",\n  nfeatures = 1500, verbose = F\n)\n## PCA降维之前的标准预处理步骤\npbmc &lt;- ScaleData(pbmc)\npbmc &lt;- RunPCA(\n  object = pbmc,\n  npcs = 20,\n  pc.genes = VariableFeatures(object = pbmc)\n)\n## 每个PC的p值分布和均匀分布\npbmc &lt;- JackStraw(\n  object = pbmc,\n  num.replicate = 100\n)\npbmc &lt;- ScoreJackStraw(\n  object = pbmc,\n  dims = 1:20\n)\n## 计算邻接距离\npbmc &lt;- FindNeighbors(\n  object = pbmc,\n  dims = 1:20\n)\n## 对细胞分组,优化标准模块化\npbmc &lt;- FindClusters(\n  object = pbmc,\n  resolution = 0.5\n)\n\nModularity Optimizer version 1.3.0 by Ludo Waltman and Nees Jan van Eck\n\nNumber of nodes: 653\nNumber of edges: 19073\n\nRunning Louvain algorithm...\nMaximum modularity in 10 random starts: 0.8659\nNumber of communities: 8\nElapsed time: 0 seconds\n\n## TSNE聚类\npbmc &lt;- RunTSNE(\n  object = pbmc,\n  dims = 1:20\n)\n## 寻找差异表达的特征\nlog_fc_filter &lt;- 0.5\nadj_pval_filter &lt;- 0.05\npbmc_markers &lt;- FindAllMarkers(\n  object = pbmc,\n  only.pos = FALSE,\n  min.pct = 0.25,\n  logfc.threshold = log_fc_filter\n)\npbmc_sig_markers &lt;- pbmc_markers[(abs(as.numeric(\n  as.vector(pbmc_markers$avg_logFC)\n)) &gt; log_fc_filter &\n  as.numeric(as.vector(pbmc_markers$p_val_adj)) &lt;\n    adj_pval_filter), ]\n\n# 查看数据\nhead(data[,1:5])\n\n         PT089_P1_A01 PT089_P1_A02 PT089_P1_A03 PT089_P1_A04 PT089_P1_A05\nA1BG             0.00            0            0            0            0\nA1BG-AS1         0.00            0            0            0            0\nA1CF             0.00            0            0            1            0\nA2M              0.00            0            0          339            0\nA2M-AS1          0.00            0            0            0            0\nA2ML1            1.08            0            0            0            0",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/166-stack-violin.html#可视化",
    "href": "Hiplot/166-stack-violin.html#可视化",
    "title": "堆叠小提琴图",
    "section": "可视化",
    "text": "可视化\n\n# 堆叠小提琴图\n## 定义绘图函数\nmodify_vlnplot &lt;- function(obj,\n                           feature,\n                           pt.size = 0,\n                           plot.margin = unit(c(-0.75, 0, -0.75, 0), \"cm\"),\n                           ...) {\n  p &lt;- VlnPlot(obj,\n    features = feature,\n    pt.size = pt.size,\n    ...\n  )\n\n  p &lt;- p +\n    xlab(\"\") +\n    ylab(feature) +\n    theme(\n      axis.text.x = element_blank(),\n      axis.text.y = element_blank(),\n      axis.ticks.x = element_blank(),\n      axis.ticks.y = element_line(),\n      axis.title.y = element_text(angle = 0, vjust = 0.5),\n      plot.margin = plot.margin,\n      text = element_text(\n        family = \"Arial\"\n      ),\n      plot.title = element_blank(),\n      axis.title = element_text(\n        size = 10\n      ),\n      legend.position = \"none\",\n      legend.direction = \"vertical\",\n      legend.title = element_text(\n        size = 10\n      ),\n      legend.text = element_text(\n        size = 10\n      )\n    ) +\n    scale_fill_manual(values = c(\"#00468BFF\",\"#ED0000FF\",\"#42B540FF\",\"#0099B4FF\",\n                                 \"#925E9FFF\",\"#FDAF91FF\",\"#AD002AFF\",\"#ADB6B6FF\"))\n  return(p)\n}\n\n## main function\nstacked_vln_plot &lt;- function(obj,\n                           features,\n                           pt.size = 0,\n                           plot.margin = unit(c(-0.75, 0, -0.75, 0), \"cm\"),\n                           ...) {\n  plot_list &lt;- purrr::map(\n    features,\n    function(x) {\n      modify_vlnplot(\n        obj = obj,\n        feature = x,\n        ...\n      )\n    }\n  )\n  plot_list[[length(plot_list)]] &lt;- plot_list[[length(plot_list)]] +\n    theme(\n      axis.text.x = element_text(),\n      axis.ticks.x = element_line()\n    )\n  p &lt;- patchwork::wrap_plots(\n    plotlist = plot_list,\n    ncol = 1\n  )\n  return(p)\n}\n\n## 绘图\np &lt;- stacked_vln_plot(pbmc, c(\"ACTG1\",\"ARF1\",\"ALDOA\",\"ARHGDIA\",\"ACTB\"), pt.size = 0)\n\np\n\n\n\n\n\n\n\n图 1: 堆叠小提琴图",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/064-ggbetweenstats.html",
    "href": "Hiplot/064-ggbetweenstats.html",
    "title": "小提琴图（Betweenstats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Betweenstats"
    ]
  },
  {
    "objectID": "Hiplot/064-ggbetweenstats.html#环境配置",
    "href": "Hiplot/064-ggbetweenstats.html#环境配置",
    "title": "小提琴图（Betweenstats）",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggstatsplot; ggplot2; cowplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggstatsplot\", quietly = TRUE)) {\n  install.packages(\"ggstatsplot\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"cowplot\", quietly = TRUE)) {\n  install.packages(\"cowplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggstatsplot)\nlibrary(ggplot2)\nlibrary(cowplot)",
    "crumbs": [
      "HIPLOT",
      "Betweenstats"
    ]
  },
  {
    "objectID": "Hiplot/064-ggbetweenstats.html#数据准备",
    "href": "Hiplot/064-ggbetweenstats.html#数据准备",
    "title": "小提琴图（Betweenstats）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggbetweenstats/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\naxis &lt;- c(\"mpaa\", \"length\", \"genre\")\ndata[, axis[1]] &lt;- factor(data[, axis[1]], levels = unique(data[, axis[1]]))\ndata[, axis[3]] &lt;- factor(data[, axis[3]], levels = unique(data[, axis[3]]))\n\n# 查看数据\nhead(data)\n\n                                                                 title year\n1                       Lord of the Rings: The Return of the King, The 2003\n2                   Lord of the Rings: The Fellowship of the Ring, The 2001\n3                               Lord of the Rings: The Two Towers, The 2002\n4                                                            Star Wars 1977\n5                       Star Wars: Episode V - The Empire Strikes Back 1980\n6 Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb 1964\n  length budget rating  votes  mpaa  genre\n1    251   94.0    9.0 103631 PG-13 Action\n2    208   93.0    8.8 157608 PG-13 Action\n3    223   94.0    8.8 114797 PG-13 Action\n4    125   11.0    8.8 134640    PG Action\n5    129   18.0    8.8 103706    PG Action\n6     93    1.8    8.7  63471    PG Comedy",
    "crumbs": [
      "HIPLOT",
      "Betweenstats"
    ]
  },
  {
    "objectID": "Hiplot/064-ggbetweenstats.html#可视化",
    "href": "Hiplot/064-ggbetweenstats.html#可视化",
    "title": "小提琴图（Betweenstats）",
    "section": "可视化",
    "text": "可视化\n\n# 小提琴图\ng &lt;- unique(data[,axis[3]])\nplist &lt;- list()\nfor (i in 1:length(g)) {\n  fil &lt;- data[,axis[3]] == g[i]\n  plist[[i]] &lt;- ggbetweenstats(\n    data = data[fil,], x = mpaa, y = length,\n    title= paste('', axis[3], g[i], sep = ':'),\n    p.adjust.method = \"holm\",\n    plot.type = \"boxviolin\",\n    pairwise.comparisons = T,\n    pairwise.display = \"significant\",\n    effsize.type = \"unbiased\",\n    notch = T,\n    type = \"parametric\",\n    plotgrid.args = list(ncol = 2)) +\n    scale_color_manual(values = c(\"#00468BFF\",\"#ED0000FF\",\"#42B540FF\"))\n}\np &lt;- plot_grid(plotlist = plist, ncol = 2)\n\np\n\n\n\n\n\n\n\n图 1: 小提琴图",
    "crumbs": [
      "HIPLOT",
      "Betweenstats"
    ]
  },
  {
    "objectID": "Hiplot/135-pca2.html",
    "href": "Hiplot/135-pca2.html",
    "title": "主成分分析2",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot PCA2 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pca2?lang=zh_cn\n主成分分析是以“降维”为核心，用较少的几个综合指标（主成分）代替多指标的数据，还原数据最本质特征的数据处理方式。",
    "crumbs": [
      "HIPLOT",
      "PCA2"
    ]
  },
  {
    "objectID": "Hiplot/135-pca2.html#环境配置",
    "href": "Hiplot/135-pca2.html#环境配置",
    "title": "主成分分析2",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; FactoMineR; factoextra\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"FactoMineR\", quietly = TRUE)) {\n  install.packages(\"FactoMineR\")\n}\nif (!requireNamespace(\"factoextra\", quietly = TRUE)) {\n  install.packages(\"factoextra\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(FactoMineR)\nlibrary(factoextra)",
    "crumbs": [
      "HIPLOT",
      "PCA2"
    ]
  },
  {
    "objectID": "Hiplot/135-pca2.html#数据准备",
    "href": "Hiplot/135-pca2.html#数据准备",
    "title": "主成分分析2",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集（基因名称及其对应的基因表达值）和样本信息（样本名称及分组）。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pca2/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\nsample_info &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pca2/data.json\")$exampleData[[1]]$textarea[[2]])\nsample_info &lt;- as.data.frame(sample_info)\n\n# 整理数据格式\nrow.names(sample_info) &lt;- sample_info[,1]\nsample_info &lt;- sample_info[colnames(data)[-1],]\n## tsne\nrownames(data) &lt;- data[, 1]\ndata &lt;- as.matrix(data[, -1])\npca_data &lt;- PCA(t(as.matrix(data)), scale.unit = TRUE, ncp = 5, graph = FALSE)\n\n# 查看数据\nhead(data[,1:5])\n\n              M1       M2        M3       M4       M5\nGBP4    6.599344 5.226266  3.693288 3.938501 4.527193\nBCAT1   5.760380 4.892783  5.448924 3.485413 3.855669\nCMPK2   9.561905 4.549168  3.998655 5.614384 3.904793\nSTOX2   8.396409 8.717055  8.039064 7.643060 9.274649\nPADI2   8.419766 8.268430  8.451181 9.200732 8.598207\nSCARNA5 7.653074 5.780393 10.633550 5.913684 8.805605",
    "crumbs": [
      "HIPLOT",
      "PCA2"
    ]
  },
  {
    "objectID": "Hiplot/135-pca2.html#可视化",
    "href": "Hiplot/135-pca2.html#可视化",
    "title": "主成分分析2",
    "section": "可视化",
    "text": "可视化\n\n# 主成分分析2\np &lt;- fviz_pca_ind(pca_data, geom.ind = \"point\", pointsize = 6, addEllipses = TRUE,\n                  mean.point = F, col.ind = sample_info[,\"Group\"]) +\n  ggtitle(\"Principal Component Analysis\") +\n  scale_fill_manual(values = c(\"#00468BFF\",\"#ED0000FF\")) +\n  scale_color_manual(values = c(\"#00468BFF\",\"#ED0000FF\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 主成分分析2\n\n\n\n\n\n不同颜色表示不同样本，可解读主成分与原变量的关系，如：M1 对 PC1 具有较大的贡献，而 M8 与 PC1 呈较大的负相关性。",
    "crumbs": [
      "HIPLOT",
      "PCA2"
    ]
  },
  {
    "objectID": "Hiplot/017-bumpchart.html",
    "href": "Hiplot/017-bumpchart.html",
    "title": "凹凸图",
    "section": "",
    "text": "凹凸图可以用于展示多组数值变化情况。",
    "crumbs": [
      "HIPLOT",
      "Bumpchart"
    ]
  },
  {
    "objectID": "Hiplot/017-bumpchart.html#环境配置",
    "href": "Hiplot/017-bumpchart.html#环境配置",
    "title": "凹凸图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggbump; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggbump\", quietly = TRUE)) {\n  install.packages(\"ggbump\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggbump)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Bumpchart"
    ]
  },
  {
    "objectID": "Hiplot/017-bumpchart.html#数据准备",
    "href": "Hiplot/017-bumpchart.html#数据准备",
    "title": "凹凸图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/bumpchart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n     x y group\n1 2019 4     A\n2 2020 2     A\n3 2021 2     A\n4 2019 3     B\n5 2020 1     B\n6 2021 4     B",
    "crumbs": [
      "HIPLOT",
      "Bumpchart"
    ]
  },
  {
    "objectID": "Hiplot/017-bumpchart.html#可视化",
    "href": "Hiplot/017-bumpchart.html#可视化",
    "title": "凹凸图",
    "section": "可视化",
    "text": "可视化\n\n# 凹凸图\np &lt;- ggplot(data, aes(x = x, y = y, color = group)) +\n  geom_bump(size = 1.5) +\n  geom_point(size = 5) +\n  geom_text(data = data %&gt;% filter(x == min(x)),\n            aes(x = x - 0.1, label = group),\n            size = 5, hjust = 1) +\n  geom_text(data = data %&gt;% filter(x == max(x)),\n            aes(x = x + 0.1, label = group),\n            size = 5, hjust = 0) +\n  theme_void() +\n  theme(legend.position = \"none\") +\n  scale_color_manual(values = c(\"#0571B0\",\"#92C5DE\",\"#F4A582\",\"#CA0020\"))\n\np\n\n\n\n\n\n\n\n图 1: 凹凸图",
    "crumbs": [
      "HIPLOT",
      "Bumpchart"
    ]
  },
  {
    "objectID": "Hiplot/164-simple-funnel-diagram.html",
    "href": "Hiplot/164-simple-funnel-diagram.html",
    "title": "自定义热图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Simple Funnel Diagram 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/simple-funnel-diagram?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/164-simple-funnel-diagram.html#环境配置",
    "href": "Hiplot/164-simple-funnel-diagram.html#环境配置",
    "title": "自定义热图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; magrittr; echarts4r\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"magrittr\", quietly = TRUE)) {\n  install.packages(\"magrittr\")\n}\nif (!requireNamespace(\"echarts4r\", quietly = TRUE)) {\n  install.packages(\"echarts4r\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(magrittr)\nlibrary(echarts4r)",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/164-simple-funnel-diagram.html#数据准备",
    "href": "Hiplot/164-simple-funnel-diagram.html#数据准备",
    "title": "自定义热图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/simple-funnel-diagram/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n       key value\n1     view    60\n2    click    30\n3 purchase    20",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/164-simple-funnel-diagram.html#可视化",
    "href": "Hiplot/164-simple-funnel-diagram.html#可视化",
    "title": "自定义热图",
    "section": "可视化",
    "text": "可视化\n\n# 自定义热图\np &lt;- data %&gt;%\n  e_charts() %&gt;%\n  e_funnel(value, key) %&gt;%\n  e_title(\"Funnel\") %&gt;%\n  e_theme(\"macarons\")\n\np\n\n\n\n\n\n\n\n图 1: 自定义热图",
    "crumbs": [
      "HIPLOT",
      "Simple Funnel Diagram"
    ]
  },
  {
    "objectID": "Hiplot/158-sankey.html",
    "href": "Hiplot/158-sankey.html",
    "title": "桑基图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Sankey 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/sankey?lang=zh_cn\n桑基图是一种流量图，其中箭头的宽度与流量成比例。",
    "crumbs": [
      "HIPLOT",
      "Sankey"
    ]
  },
  {
    "objectID": "Hiplot/158-sankey.html#环境配置",
    "href": "Hiplot/158-sankey.html#环境配置",
    "title": "桑基图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggalluvial; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggalluvial\", quietly = TRUE)) {\n  install.packages(\"ggalluvial\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggalluvial)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Sankey"
    ]
  },
  {
    "objectID": "Hiplot/158-sankey.html#数据准备",
    "href": "Hiplot/158-sankey.html#数据准备",
    "title": "桑基图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为 4 个变量及每4种变量组合下的频数。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/sankey/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nvalue &lt;- \"Freq\"\naxis &lt;- c(\"Class\", \"Sex\")\nusr_axis &lt;- c()\nfor (i in seq_len(length(axis))) {\n  usr_axis &lt;- c(usr_axis, axis[i])\n  assign(paste0(\"axis\", i), axis[i])\n}\nindex_axis &lt;- match(usr_axis, colnames(data))\nindex_value &lt;- match(value, colnames(data))\ndata1 &lt;- data[, c(index_value, index_axis)]\n## 定义带颜色\nnlevels &lt;- as.numeric(apply(data1[, -1], 2, function(data) {\n  return(length(unique(data)))\n}))\nband_color &lt;- c(\"#8DD3C7\", \"#FFFFB3\", \"#BEBADA\", \"#FB8072\", \"#8DD3C7\", \"#FFFFB3\")\n## 重命名数据\ndata_rename &lt;- data1\ncolnames(data_rename) &lt;- c(\n  \"value\",\n  paste(\"axis\", seq_len(length(usr_axis)), sep = \"\")\n)\n\n# 查看数据\nhead(data)\n\n  Class    Sex   Age Survived Freq\n1   1st   Male Child       No    0\n2   2nd   Male Child       No    0\n3   3rd   Male Child       No   35\n4  Crew   Male Child       No    0\n5   1st Female Child       No    0\n6   2nd Female Child       No    0",
    "crumbs": [
      "HIPLOT",
      "Sankey"
    ]
  },
  {
    "objectID": "Hiplot/158-sankey.html#可视化",
    "href": "Hiplot/158-sankey.html#可视化",
    "title": "桑基图",
    "section": "可视化",
    "text": "可视化\n\n# 桑基图\np &lt;- ggplot(data_rename, aes(y = value, axis1 = axis1, axis2 = axis2)) +\n  geom_alluvium(alpha = 1, aes(fill = data1[, colnames(data1) == \"Sex\"]),\n                width = 0, reverse = FALSE) +\n  scale_x_discrete(limits = usr_axis, expand = c(0.02, 0.1)) +\n  ylab(\"\") +\n  scale_fill_discrete(name = \"Sex\") +\n  coord_flip() +\n  geom_stratum(alpha = 1, width = 1 / 8, reverse = FALSE, fill = band_color,\n               color = \"white\") +\n  geom_text(stat = \"stratum\", infer.label = TRUE, reverse = FALSE) +\n  ggtitle(\"Sankey plot\") +\n  guides(fill = guide_legend(title = \"Sex\")) +\n  scale_fill_manual(values = c(\"#00468BFF\", \"#ED0000FF\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 桑基图\n\n\n\n\n\nfemale 分流的颜色为蓝色，male 分流的颜色为红色，蓝色分流出去的宽度和等于 female 的总宽度。",
    "crumbs": [
      "HIPLOT",
      "Sankey"
    ]
  },
  {
    "objectID": "Hiplot/002-barcode-plot.html",
    "href": "Hiplot/002-barcode-plot.html",
    "title": "条码图",
    "section": "",
    "text": "条码图适用于展示大量数据的分布情况。",
    "crumbs": [
      "HIPLOT",
      "Barcode Plot"
    ]
  },
  {
    "objectID": "Hiplot/002-barcode-plot.html#环境配置",
    "href": "Hiplot/002-barcode-plot.html#环境配置",
    "title": "条码图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Barcode Plot"
    ]
  },
  {
    "objectID": "Hiplot/002-barcode-plot.html#数据准备",
    "href": "Hiplot/002-barcode-plot.html#数据准备",
    "title": "条码图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为某商品在三个地区各500个门店的销售额。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barcode-plot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n     region    sales\n1 GuangDong 42.54612\n2 GuangDong 46.26102\n3 GuangDong 46.00448\n4 GuangDong 45.05684\n5 GuangDong 48.67611\n6 GuangDong 56.95071",
    "crumbs": [
      "HIPLOT",
      "Barcode Plot"
    ]
  },
  {
    "objectID": "Hiplot/002-barcode-plot.html#可视化",
    "href": "Hiplot/002-barcode-plot.html#可视化",
    "title": "条码图",
    "section": "可视化",
    "text": "可视化\n\n# 条码图\np &lt;- ggplot(data, aes(x = sales, y = region)) +\n  geom_tile(width = 0.01, height = 0.9, fill = \"#606fcc\") + # 控制条带的宽度和高度\n  theme_bw() +\n  labs(title = \"Sales report\", x = \"Sales\", y = \"Region\") +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 条码图\n\n\n\n\n\n通过条码图可以看到该商品在广东和福建地区销售额分布在50左右的门店数量较多，且在广东各门店之间销售额差异较小，分布较集中。\n\n\n\n\n\n\n提示\n\n\n\n特殊参数: \n\nwidth：条带宽度\nheight：条带高度\ncolor：条带颜色",
    "crumbs": [
      "HIPLOT",
      "Barcode Plot"
    ]
  },
  {
    "objectID": "Hiplot/009-barplot-line-multiple.html",
    "href": "Hiplot/009-barplot-line-multiple.html",
    "title": "多柱状图和线图",
    "section": "",
    "text": "在一个图表中显示多个条形图或线形图。",
    "crumbs": [
      "HIPLOT",
      "Multiple Barplot&Line"
    ]
  },
  {
    "objectID": "Hiplot/009-barplot-line-multiple.html#环境配置",
    "href": "Hiplot/009-barplot-line-multiple.html#环境配置",
    "title": "多柱状图和线图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; reshape2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"reshape2\", quietly = TRUE)) {\n  install.packages(\"reshape2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(reshape2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Multiple Barplot&Line"
    ]
  },
  {
    "objectID": "Hiplot/009-barplot-line-multiple.html#数据准备",
    "href": "Hiplot/009-barplot-line-multiple.html#数据准备",
    "title": "多柱状图和线图",
    "section": "数据准备",
    "text": "数据准备\n具有多列数据（数字）的数据框。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot-line-multiple/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata_melt &lt;- melt(data, id.vars = colnames(data)[1])\ndata_melt[, 1] &lt;- factor(data_melt[, 1], level = unique(data_melt[, 1]))\n\n# 查看数据\nhead(data)\n\n  age height weight math biology english chinese\n1  12    158    100  120      90     115     140\n2  15    160    110  145      80     120     120\n3  18    175    120  132      95     118     110\n4  20    176    121  124      99     118     136\n5  21    176    120  135      98     114     150\n6  22    177    124  140      87     110     150",
    "crumbs": [
      "HIPLOT",
      "Multiple Barplot&Line"
    ]
  },
  {
    "objectID": "Hiplot/009-barplot-line-multiple.html#可视化",
    "href": "Hiplot/009-barplot-line-multiple.html#可视化",
    "title": "多柱状图和线图",
    "section": "可视化",
    "text": "可视化\n\n1. 多线图\n\n# 多线图\np &lt;- ggplot(data = data_melt, aes(x = age, y = value, group = variable,\n                                  colour = variable)) +\n  geom_line(alpha = 1, size = 1) +\n  geom_point(aes(shape = variable), alpha = 1, size = 3) +\n  labs(title = \"Line (Multiple)\", x = \"X Lable\", y = \"Value\") +\n  scale_color_manual(values = c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\",\"#631879FF\",\n                               \"#008280FF\",\"#BB0021FF\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 多线图\n\n\n\n\n\n\n\n2. 多柱状图\n\n# 多柱状图\np &lt;- ggplot(data = data_melt, aes(x = age, y = value, fill = variable)) +\n  geom_bar(stat = \"identity\", position = position_dodge(), colour = \"black\",\n           alpha = 1) +\n  labs(title = \"\", x = \"X Lable\", y = \"Value\") +\n  \n  scale_fill_manual(values = c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\",\"#631879FF\",\n                               \"#008280FF\",\"#BB0021FF\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 2: 多柱状图",
    "crumbs": [
      "HIPLOT",
      "Multiple Barplot&Line"
    ]
  },
  {
    "objectID": "Hiplot/160-scatter-gradient.html",
    "href": "Hiplot/160-scatter-gradient.html",
    "title": "渐变散点图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Gradient Scatter 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/scatter-gradient?lang=zh_cn\n二维空间散点展示多数值变量关系。",
    "crumbs": [
      "HIPLOT",
      "Gradient Scatter"
    ]
  },
  {
    "objectID": "Hiplot/160-scatter-gradient.html#环境配置",
    "href": "Hiplot/160-scatter-gradient.html#环境配置",
    "title": "渐变散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Gradient Scatter"
    ]
  },
  {
    "objectID": "Hiplot/160-scatter-gradient.html#数据准备",
    "href": "Hiplot/160-scatter-gradient.html#数据准备",
    "title": "渐变散点图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/scatter-gradient/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data[,1:5])\n\n                car  mpg cyl disp  hp\n1         Mazda RX4 21.0   6  160 110\n2     Mazda RX4 Wag 21.0   6  160 110\n3        Datsun 710 22.8   4  108  93\n4    Hornet 4 Drive 21.4   6  258 110\n5 Hornet Sportabout 18.7   8  360 175\n6           Valiant 18.1   6  225 105",
    "crumbs": [
      "HIPLOT",
      "Gradient Scatter"
    ]
  },
  {
    "objectID": "Hiplot/160-scatter-gradient.html#可视化",
    "href": "Hiplot/160-scatter-gradient.html#可视化",
    "title": "渐变散点图",
    "section": "可视化",
    "text": "可视化\n\n# 渐变散点图\np &lt;- ggplot(data, aes(x = mpg, y = disp)) + \n  geom_point(aes(fill = gear), size = 5, alpha = 1, shape = 21, stroke = 0.5) +\n  labs(fill = \"gear\", color = \"gear\") +\n  theme_classic(base_size = 10) +\n  theme(strip.background = element_blank()) +\n  guides(x = guide_axis(angle = 0)) +\n  scale_fill_gradient(low = \"#00438E\", high = \"#E43535\") +\n  scale_color_gradient(low = \"#00438E\", high = \"#E43535\") + \n  guides(fill = guide_legend(title = \"gear\"),\n         size = guide_legend(title = \"gear\")) +\n  ggtitle(\"Scatter-gradient Plot\") +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 渐变散点图",
    "crumbs": [
      "HIPLOT",
      "Gradient Scatter"
    ]
  },
  {
    "objectID": "Hiplot/076-ggwordcloud.html",
    "href": "Hiplot/076-ggwordcloud.html",
    "title": "ggplot2 词云",
    "section": "",
    "text": "词云是通过形成“关键字云层”或“关键字渲染”来可视化Web文本中经常出现的“关键字”。",
    "crumbs": [
      "HIPLOT",
      "ggwordcloud"
    ]
  },
  {
    "objectID": "Hiplot/076-ggwordcloud.html#环境配置",
    "href": "Hiplot/076-ggwordcloud.html#环境配置",
    "title": "ggplot2 词云",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggwordcloud\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggwordcloud\", quietly = TRUE)) {\n  install.packages(\"ggwordcloud\")\n}\nif (!requireNamespace(\"curl\", quietly = TRUE)) {\n  install.packages(\"curl\")\n}\nif (!requireNamespace(\"png\", quietly = TRUE)) {\n  install.packages(\"png\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggwordcloud)\nlibrary(curl)\nlibrary(png)",
    "crumbs": [
      "HIPLOT",
      "ggwordcloud"
    ]
  },
  {
    "objectID": "Hiplot/076-ggwordcloud.html#数据准备",
    "href": "Hiplot/076-ggwordcloud.html#数据准备",
    "title": "ggplot2 词云",
    "section": "数据准备",
    "text": "数据准备\n加载数据名词和名词频率。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/ggwordcloud/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ninmask &lt;- \"https://download.hiplot.cn/api/file/fetch/?path=public/demo/ggwordcloud/hearth.png\"\n\n# 整理数据格式\ncol &lt;- data[, 2]\ndata &lt;- cbind(data, col)\n\n# 查看数据\nhead(data)\n\n    word freq col\n1    oil   85  85\n2   said   73  73\n3 prices   48  48\n4   opec   42  42\n5    mln   31  31\n6    the   26  26",
    "crumbs": [
      "HIPLOT",
      "ggwordcloud"
    ]
  },
  {
    "objectID": "Hiplot/076-ggwordcloud.html#可视化",
    "href": "Hiplot/076-ggwordcloud.html#可视化",
    "title": "ggplot2 词云",
    "section": "可视化",
    "text": "可视化\n\n# ggplot2 词云\np &lt;- ggplot(data, aes(label = word, size = freq, color = col)) +\n  scale_size_area(max_size = 40) +\n  theme_minimal() + \n  geom_text_wordcloud_area(\n    mask = png::readPNG(curl::curl_fetch_memory(inmask)$content), \n    rm_outside = TRUE) +\n  scale_color_gradient(low = \"#8B0000\", high = \"#FF0000\")\n\np\n\n\n\n\n\n\n\n图 1: ggplot2 词云\n\n\n\n\n\n根据名词的频率在词云图中显示名词的比例。",
    "crumbs": [
      "HIPLOT",
      "ggwordcloud"
    ]
  },
  {
    "objectID": "Hiplot/036-d3-wordcloud.html",
    "href": "Hiplot/036-d3-wordcloud.html",
    "title": "D3 词云",
    "section": "",
    "text": "文云文本展示。",
    "crumbs": [
      "HIPLOT",
      "D3 Wordcloud"
    ]
  },
  {
    "objectID": "Hiplot/036-d3-wordcloud.html#环境配置",
    "href": "Hiplot/036-d3-wordcloud.html#环境配置",
    "title": "D3 词云",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; d3wordcloud\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"d3wordcloud\", quietly = TRUE)) {\n  devtools::install_github(\"jbkunst/d3wordcloud\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(d3wordcloud)",
    "crumbs": [
      "HIPLOT",
      "D3 Wordcloud"
    ]
  },
  {
    "objectID": "Hiplot/036-d3-wordcloud.html#数据准备",
    "href": "Hiplot/036-d3-wordcloud.html#数据准备",
    "title": "D3 词云",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/d3-wordcloud/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nrow.names(data) &lt;- data[, 1]\n\n# 查看数据\nhead(data)\n\n         word freq\noil       oil   85\nsaid     said   73\nprices prices   48\nopec     opec   42\nmln       mln   31\nthe       the   26",
    "crumbs": [
      "HIPLOT",
      "D3 Wordcloud"
    ]
  },
  {
    "objectID": "Hiplot/036-d3-wordcloud.html#可视化",
    "href": "Hiplot/036-d3-wordcloud.html#可视化",
    "title": "D3 词云",
    "section": "可视化",
    "text": "可视化\n\n# D3 词云\np &lt;- d3wordcloud(\n  words = data[, 1], \n  freqs = data[, 2],\n  padding = 0,\n  rotate.min = 0,\n  rotate.max = 0,\n  size.scale = \"linear\",\n  color.scale = \"linear\",\n  spiral = \"archimedean\",\n  font = \"Arial\",\n  rangesizefont = c(10, 90)\n)\n\np\n\n\n\n\n\n\n\n图 1: D3 词云",
    "crumbs": [
      "HIPLOT",
      "D3 Wordcloud"
    ]
  },
  {
    "objectID": "Hiplot/054-fan.html",
    "href": "Hiplot/054-fan.html",
    "title": "扇形图",
    "section": "",
    "text": "扇形图是旨在以所占扇形的大小清楚表示各组数据所占百分比的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Fan Plot"
    ]
  },
  {
    "objectID": "Hiplot/054-fan.html#环境配置",
    "href": "Hiplot/054-fan.html#环境配置",
    "title": "扇形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; plotrix; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"plotrix\", quietly = TRUE)) {\n  install.packages(\"plotrix\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(plotrix)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Fan Plot"
    ]
  },
  {
    "objectID": "Hiplot/054-fan.html#数据准备",
    "href": "Hiplot/054-fan.html#数据准备",
    "title": "扇形图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同分组及其数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/fan/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n   group value\n1 Group1    13\n2 Group2    34\n3 Group3    21\n4 Group4    43",
    "crumbs": [
      "HIPLOT",
      "Fan Plot"
    ]
  },
  {
    "objectID": "Hiplot/054-fan.html#可视化",
    "href": "Hiplot/054-fan.html#可视化",
    "title": "扇形图",
    "section": "可视化",
    "text": "可视化\n\n# Cox 模型森林图\np &lt;- as.ggplot(function() {\n  fan.plot(data[, 2], main = \"\", labels = as.character(data[, 1]),\n           col = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\"))\n  })\n\np\n\n\n\n\n\n\n\n图 1: Cox 模型森林图\n\n\n\n\n\n不同颜色表示不同组群 ，不同面积表示数据及占比。",
    "crumbs": [
      "HIPLOT",
      "Fan Plot"
    ]
  },
  {
    "objectID": "Hiplot/142-point-sd.html",
    "href": "Hiplot/142-point-sd.html",
    "title": "点图（标准差）",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Point (SD) 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/point-sd?lang=zh_cn\n用于展示多组数据点标准差。",
    "crumbs": [
      "HIPLOT",
      "Point (SD)"
    ]
  },
  {
    "objectID": "Hiplot/142-point-sd.html#环境配置",
    "href": "Hiplot/142-point-sd.html#环境配置",
    "title": "点图（标准差）",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; grafify; dplyr\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"grafify\", quietly = TRUE)) {\n  install.packages(\"grafify\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(grafify)\nlibrary(dplyr)",
    "crumbs": [
      "HIPLOT",
      "Point (SD)"
    ]
  },
  {
    "objectID": "Hiplot/142-point-sd.html#数据准备",
    "href": "Hiplot/142-point-sd.html#数据准备",
    "title": "点图（标准差）",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/point-sd/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ny &lt;- \"Doubling_time\"\ngroup &lt;- \"Student\"\ndata[, group] &lt;- factor(data[, group], levels = unique(data[, group]))\ndata &lt;- data %&gt;% \n  mutate(median = median(get(y), na.rm = TRUE),\n         mean = mean(get(y), na.rm = TRUE))\n\n# 查看数据\nhead(data)\n\n  Experiment Student Doubling_time facet   median     mean\n1       Exp1       A      17.36765    F1 20.18114 19.91642\n2       Exp1       B      18.04119    F1 20.18114 19.91642\n3       Exp1       C      18.70120    F1 20.18114 19.91642\n4       Exp1       D      20.06762    F1 20.18114 19.91642\n5       Exp1       E      20.19807    F2 20.18114 19.91642\n6       Exp1       F      22.11908    F2 20.18114 19.91642",
    "crumbs": [
      "HIPLOT",
      "Point (SD)"
    ]
  },
  {
    "objectID": "Hiplot/142-point-sd.html#可视化",
    "href": "Hiplot/142-point-sd.html#可视化",
    "title": "点图（标准差）",
    "section": "可视化",
    "text": "可视化\n\n# 点图（标准差）\np &lt;- plot_point_sd(data = data, Student, Doubling_time, symsize = 5,\n                   symthick = 0.5, s_alpha = 1, ewid = 0, symshape = 21,\n                   all_alpha = 0) +\n  geom_hline(aes(yintercept = median), colour = 'black', linetype = 2, \n             size = 0.5) +\n  xlab(group) + ylab(y) + \n  guides(fill = guide_legend(title = group)) +\n  ggtitle(\"Point-SD\") +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n    \n  \np\n\n\n\n\n\n\n\n图 1: 点图（标准差）",
    "crumbs": [
      "HIPLOT",
      "Point (SD)"
    ]
  },
  {
    "objectID": "Hiplot/187-pca.html",
    "href": "Hiplot/187-pca.html",
    "title": "主成分分析",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot PCA 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/pca?lang=zh_cn\n主成分分析是以“降维”*” 为核心，用较少的几个综合指标（主成分）代替多指标的数据，还原数据最本质特征的数据处理方式。",
    "crumbs": [
      "HIPLOT",
      "PCA"
    ]
  },
  {
    "objectID": "Hiplot/187-pca.html#环境配置",
    "href": "Hiplot/187-pca.html#环境配置",
    "title": "主成分分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: 跨平台 (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; gmodels, ggpubr, ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"gmodels\", quietly = TRUE)) {\n  install.packages(\"gmodels\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(gmodels)\nlibrary(ggpubr)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "PCA"
    ]
  },
  {
    "objectID": "Hiplot/187-pca.html#数据准备",
    "href": "Hiplot/187-pca.html#数据准备",
    "title": "主成分分析",
    "section": "数据准备",
    "text": "数据准备\n加载的数据包括基因表达值（基因名称及对应表达量）和样本信息（样本名称及分组）。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pca/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\ngroup &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/pca/data.json\")$exampleData[[1]]$textarea[[2]])\ngroup &lt;- as.data.frame(group)\n\n# 整理数据格式\nrownames(data) &lt;- data[, 1]\ndata &lt;- as.matrix(data[, -1])\npca_info &lt;- fast.prcomp(data)\n## 创建配置\nconf &lt;- list(\n  dataArg = list(\n    list(list(value = \"group\")),  # 按group列着色\n    list(list(value = \"\"))         # 无形状分组\n  ),\n  general = list(\n    title = \"Principal Component Analysis\",\n    palette = \"Set1\"\n  )\n)\n## 执行PCA - 注意需要转置数据，因为PCA是对样本（列）进行分析\npca_info &lt;- prcomp(t(data), scale. = TRUE)\n## 准备绘图数据\naxis &lt;- sapply(conf$dataArg[[1]], function(x) x$value)\n## 处理颜色分组\nif (is.null(axis[1]) || axis[1] == \"\") {\n  colorBy &lt;- rep('ALL', ncol(data))\n} else {\n  ## 确保样本顺序匹配\n  colorBy &lt;- group[match(colnames(data), group$sample), axis[1]]\n}\ncolorBy &lt;- factor(colorBy, levels = unique(colorBy))\n## 创建PCA数据框\npca_data &lt;- data.frame(\n  sample = rownames(pca_info$x),\n  PC1 = pca_info$x[, 1],\n  PC2 = pca_info$x[, 2],\n  colorBy = colorBy\n)\n## 计算解释方差\nvariance_explained &lt;- round(pca_info$sdev^2 / sum(pca_info$sdev^2) * 100, 1)\n\n# 查看数据\nstr(data)\n\n num [1:9, 1:6] 6.6 5.76 9.56 8.4 8.42 ...\n - attr(*, \"dimnames\")=List of 2\n  ..$ : chr [1:9] \"GBP4\" \"BCAT1\" \"CMPK2\" \"STOX2\" ...\n  ..$ : chr [1:6] \"M1\" \"M2\" \"M3\" \"M8\" ...\n\nstr(group)\n\n'data.frame':   6 obs. of  2 variables:\n $ sample: chr  \"M1\" \"M2\" \"M3\" \"M8\" ...\n $ group : chr  \"G1\" \"G1\" \"G1\" \"G2\" ...\n\nhead(pca_data)\n\n    sample        PC1         PC2 colorBy\nM1      M1  0.8626164  2.17168331      G1\nM2      M2  2.1114348  0.50696347      G1\nM3      M3  2.9706882 -1.81112892      G1\nM8      M8 -3.0779404 -0.85045239      G2\nM9      M9 -2.5038211  0.08748266      G2\nM10    M10 -0.3629779 -0.10454813      G2",
    "crumbs": [
      "HIPLOT",
      "PCA"
    ]
  },
  {
    "objectID": "Hiplot/187-pca.html#可视化",
    "href": "Hiplot/187-pca.html#可视化",
    "title": "主成分分析",
    "section": "可视化",
    "text": "可视化\n\n# 主成分分析\np &lt;- ggplot(pca_data, aes(x = PC1, y = PC2, color = colorBy)) +\n  geom_point(size = 4, alpha = 0.8) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray70\") +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray70\") +\n  stat_ellipse(level = 0.95, show.legend = FALSE) +\n  ggtitle(conf$general$title) +\n  labs(\n    x = paste0(\"PC1 (\", variance_explained[1], \"%)\"),\n    y = paste0(\"PC2 (\", variance_explained[2], \"%)\"),\n    color = axis[1]\n  ) +\n  \n  # 自定义颜色方案\n  scale_color_brewer(palette = conf$general$palette) +\n  \n  # 添加样本标签\n  geom_text(aes(label = sample), \n            hjust = 0.5, vjust = -1, size = 3.5, show.legend = FALSE) +\n  \n  # 主题设置\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\", size = 16),\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    legend.title = element_text(size = 12, face = \"bold\"),\n    legend.text = element_text(size = 11),\n    legend.position = \"right\",\n    panel.grid.major = element_line(color = \"grey90\", linewidth = 0.3),\n    panel.grid.minor = element_blank(),\n    panel.border = element_rect(fill = NA, color = \"grey50\", linewidth = 0.5),\n    aspect.ratio = 1\n  )\n\n# 显示图形\np\n\nToo few points to calculate an ellipse\nToo few points to calculate an ellipse\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_path()`).\n\n\n\n\n\n主成分分析\n\n\n\n\n不同颜色表示不同样本，可解读主成分与原变量的关系，如：M1 对 PC1 具有较大的贡献，而 M8 与 PC1 呈较大的负相关性。",
    "crumbs": [
      "HIPLOT",
      "PCA"
    ]
  },
  {
    "objectID": "Hiplot/180-violin-group.html",
    "href": "Hiplot/180-violin-group.html",
    "title": "双分组小提琴图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Violin Group 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/violin-group?lang=zh_cn\nT检验分组数据的小提琴图和盒图。",
    "crumbs": [
      "HIPLOT",
      "Violin Group"
    ]
  },
  {
    "objectID": "Hiplot/180-violin-group.html#环境配置",
    "href": "Hiplot/180-violin-group.html#环境配置",
    "title": "双分组小提琴图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Violin Group"
    ]
  },
  {
    "objectID": "Hiplot/180-violin-group.html#数据准备",
    "href": "Hiplot/180-violin-group.html#数据准备",
    "title": "双分组小提琴图",
    "section": "数据准备",
    "text": "数据准备\n\n&lt;1st col&gt;：（数字）值数据\n&lt;2nd col&gt;：（String）第1列组\n&lt;3rd col&gt;：（字符串）第2列组\n\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/violin-group/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 3] &lt;- factor(data[, 3], levels = unique(data[, 3]))\n\n# 查看数据\nhead(data)\n\n  Value Group1 Group2\n1   4.2    low treat1\n2  11.5    low treat1\n3   7.3    low treat1\n4   5.8    low treat1\n5   6.4    low treat1\n6  10.0    low treat1",
    "crumbs": [
      "HIPLOT",
      "Violin Group"
    ]
  },
  {
    "objectID": "Hiplot/180-violin-group.html#可视化",
    "href": "Hiplot/180-violin-group.html#可视化",
    "title": "双分组小提琴图",
    "section": "可视化",
    "text": "可视化\n\n# 双分组小提琴图\np &lt;- ggviolin(data, x = \"Group1\", y = \"Value\", color = \"Group2\", add = \"dotplot\",\n              add.params = list(fill = \"white\",size = 1), title = \"Violin Diagram\",\n              xlab = \"Group1\", ylab = \"Value\", fill = \"Group2\",\n              palette = c(\"#374E55FF\", \"#DF8F44FF\"), alpha = 0.5, trim = F) +\n  stat_compare_means(aes(group = data[, colnames(data)[3]]),\n    method = \"t.test\", vjust = -6, label.x.npc = \"left\", label.y.npc = \"top\",\n    tip.length = 0.03, bracket.size = 0.3, step.increase = 0, position = \"identity\",\n    na.rm = FALSE, show.legend = NA, inherit.aes = TRUE, geom = \"text\") +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 双分组小提琴图",
    "crumbs": [
      "HIPLOT",
      "Violin Group"
    ]
  },
  {
    "objectID": "Hiplot/014-bivariate.html",
    "href": "Hiplot/014-bivariate.html",
    "title": "双变量图",
    "section": "",
    "text": "展示双变量关系。",
    "crumbs": [
      "HIPLOT",
      "Bivariate Chart"
    ]
  },
  {
    "objectID": "Hiplot/014-bivariate.html#环境配置",
    "href": "Hiplot/014-bivariate.html#环境配置",
    "title": "双变量图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GGally\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GGally\", quietly = TRUE)) {\n  install.packages(\"GGally\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GGally)",
    "crumbs": [
      "HIPLOT",
      "Bivariate Chart"
    ]
  },
  {
    "objectID": "Hiplot/014-bivariate.html#数据准备",
    "href": "Hiplot/014-bivariate.html#数据准备",
    "title": "双变量图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/bivariate/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  total_bill  tip gender smoker day   time size\n1      16.99 1.01 Female     No Sun Dinner    2\n2      10.34 1.66   Male     No Sun Dinner    3\n3      21.01 3.50   Male     No Sun Dinner    3\n4      23.68 3.31   Male     No Sun Dinner    2\n5      24.59 3.61 Female     No Sun Dinner    4\n6      25.29 4.71   Male     No Sun Dinner    4",
    "crumbs": [
      "HIPLOT",
      "Bivariate Chart"
    ]
  },
  {
    "objectID": "Hiplot/014-bivariate.html#可视化",
    "href": "Hiplot/014-bivariate.html#可视化",
    "title": "双变量图",
    "section": "可视化",
    "text": "可视化\n\n# 双变量图\np &lt;- ggbivariate(data, outcome = \"smoker\", \n                 explanatory = c(\"day\",\"time\",\"gender\",\"tip\")) +\n  ggtitle(\"Bivariate\") +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 双变量图",
    "crumbs": [
      "HIPLOT",
      "Bivariate Chart"
    ]
  },
  {
    "objectID": "Hiplot/021-circle-packing.html",
    "href": "Hiplot/021-circle-packing.html",
    "title": "圆堆图",
    "section": "",
    "text": "用于展示不同类型之间的数量差异。",
    "crumbs": [
      "HIPLOT",
      "Circle Packing"
    ]
  },
  {
    "objectID": "Hiplot/021-circle-packing.html#环境配置",
    "href": "Hiplot/021-circle-packing.html#环境配置",
    "title": "圆堆图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; packcircles; ggplot2; viridis\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"packcircles\", quietly = TRUE)) {\n  install.packages(\"packcircles\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"viridis\", quietly = TRUE)) {\n  install.packages(\"viridis\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(packcircles)\nlibrary(ggplot2)\nlibrary(viridis)",
    "crumbs": [
      "HIPLOT",
      "Circle Packing"
    ]
  },
  {
    "objectID": "Hiplot/021-circle-packing.html#数据准备",
    "href": "Hiplot/021-circle-packing.html#数据准备",
    "title": "圆堆图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/circle-packing/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\npacking &lt;- circleProgressiveLayout(data[[\"v\"]], sizetype = \"area\")\ndata &lt;- cbind(data, packing)\ndat_gg &lt;- circleLayoutVertices(packing, npoints = 50)\ncolors &lt;- c(\"#E57164\",\"#F8ECA7\",\"#9389C1\",\"#3F9C78\",\"#769F8D\",\"#E5F9A9\",\"#7CE9A4\",\n            \"#CE9FCA\",\"#78F197\",\"#8BB085\",\"#D88880\",\"#A6E4C3\",\"#F7F6B1\",\"#C5E69A\",\n            \"#F45FDE\",\"#5CF371\",\"#9259CF\",\"#2B6D9B\",\"#F3C096\",\"#EEADBE\")\ndat_gg$value &lt;- rep(colors, each = 51)\n\n# 查看数据\nhead(data)\n\n  g   v           x          y   radius\n1 A 100  -5.6418958  0.0000000 5.641896\n2 B 120   6.1803872  0.0000000 6.180387\n3 C  80  -0.2298516 -9.2166458 5.046265\n4 D  10  -6.7961670 -7.3357638 1.784124\n5 E  60 -12.9322538 -6.8624061 4.370194\n6 F  30 -14.3618753  0.4597221 3.090194",
    "crumbs": [
      "HIPLOT",
      "Circle Packing"
    ]
  },
  {
    "objectID": "Hiplot/021-circle-packing.html#可视化",
    "href": "Hiplot/021-circle-packing.html#可视化",
    "title": "圆堆图",
    "section": "可视化",
    "text": "可视化\n\n# 圆堆图\np &lt;- ggplot() +\n  geom_polygon(data = dat_gg, aes(x, y, group = id, fill = value), colour = \"black\", alpha = 0.4) +\n  scale_fill_manual(values = magma(nrow(data))) +\n  theme_void() +\n  theme(legend.position = \"none\") +\n  coord_equal() +\n  scale_size_continuous(range = c(2.3, 4.5)) +\n  geom_text(data = data, aes(x, y, size = v, label = g), vjust = 0) +\n  geom_text(data = data, aes(x, y, label = v, size = v), vjust = 1.2)\n\np\n\n\n\n\n\n\n\n图 1: 圆堆图",
    "crumbs": [
      "HIPLOT",
      "Circle Packing"
    ]
  },
  {
    "objectID": "Hiplot/019-chi-square-fisher.html",
    "href": "Hiplot/019-chi-square-fisher.html",
    "title": "卡方与 Fisher 检验",
    "section": "",
    "text": "卡方与 Fisher 检验可用于分类变量频数差异检验，该工具将自动选择卡方和 Fisher 确切性检验统计方法。",
    "crumbs": [
      "HIPLOT",
      "Chi-square-fisher Test"
    ]
  },
  {
    "objectID": "Hiplot/019-chi-square-fisher.html#环境配置",
    "href": "Hiplot/019-chi-square-fisher.html#环境配置",
    "title": "卡方与 Fisher 检验",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; visdat; aplot\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"visdat\", quietly = TRUE)) {\n  install.packages(\"visdat\")\n}\nif (!requireNamespace(\"aplot\", quietly = TRUE)) {\n  install.packages(\"aplot\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(visdat)\nlibrary(aplot)",
    "crumbs": [
      "HIPLOT",
      "Chi-square-fisher Test"
    ]
  },
  {
    "objectID": "Hiplot/019-chi-square-fisher.html#数据准备",
    "href": "Hiplot/019-chi-square-fisher.html#数据准备",
    "title": "卡方与 Fisher 检验",
    "section": "数据准备",
    "text": "数据准备\n数据表支持两种格式：列联表（示例 1）和单行记录表（示例 2）\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/chi-square-fisher/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\nrownames(data) &lt;- data[,1]\ndata &lt;- data[,-1]\ncb &lt;- combn(nrow(data), 2)\nfinal &lt;- data.frame()\nfor (i in 1:ncol(cb)) {\n  tmp &lt;- data[cb[,i],]\n  groups &lt;- paste0(rownames(data)[cb[,i]], collapse = \" | \")\n  \n  res &lt;- tryCatch({\n    chisq.test(tmp)\n    }, warning = function(w) {\n      tryCatch({fisher.test(tmp)}, error = function(e) {\n        return(fisher.test(tmp, simulate.p.value = TRUE))\n        })\n  })\n  val_percent &lt;- apply(tmp, 1, function(x) {\n    sprintf(\"%s (%s%%)\", x, round(x / sum(x), 2) * 100)\n  })\n  val_percent1 &lt;- paste0(colnames(tmp), \":\", val_percent[,1])\n  val_percent1 &lt;- paste0(val_percent1, collapse = \" | \")\n  val_percent2 &lt;- paste0(colnames(tmp), \":\", val_percent[,2])\n  val_percent2 &lt;- paste0(val_percent2, collapse = \" | \")\n  tmp &lt;- data.frame(\n    groups = groups,\n    val_percent_left = val_percent1,\n    val_percent_right = val_percent2,\n    statistic = ifelse(is.null(res$statistic), NA,\n      as.numeric(res$statistic)),\n    pvalue = as.numeric(res$p.value),\n    method = res$method\n  )\n  final &lt;- rbind(final, tmp)\n}\nfinal &lt;- as.data.frame(final)\nfinal$pvalue &lt; as.numeric(final$pvalue)\n\n [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n\nfinal$statistic &lt; as.numeric(final$statistic)\n\n [1] FALSE FALSE FALSE    NA FALSE FALSE    NA FALSE    NA    NA\n\n# 查看数据\nhead(final)\n\n  groups                        val_percent_left\n1  A | B L:401 (48%) | M:216 (26%) | H:221 (26%)\n2  A | C L:401 (48%) | M:216 (26%) | H:221 (26%)\n3  A | D L:401 (48%) | M:216 (26%) | H:221 (26%)\n4  A | E L:401 (48%) | M:216 (26%) | H:221 (26%)\n5  B | C L:254 (37%) | M:259 (38%) | H:169 (25%)\n6  B | D L:254 (37%) | M:259 (38%) | H:169 (25%)\n                        val_percent_right    statistic       pvalue\n1 L:254 (37%) | M:259 (38%) | H:169 (25%) 2.810229e+01 7.900708e-07\n2 L:400 (48%) | M:215 (26%) | H:220 (26%) 4.566425e-04 9.997717e-01\n3 L:252 (38%) | M:251 (38%) | H:162 (24%) 2.614390e+01 2.103411e-06\n4       L:3 (23%) | M:5 (38%) | H:5 (38%)           NA 1.633146e-01\n5 L:400 (48%) | M:215 (26%) | H:220 (26%) 2.821998e+01 7.449197e-07\n6 L:252 (38%) | M:251 (38%) | H:162 (24%) 6.689139e-02 9.671074e-01\n                              method\n1         Pearson's Chi-squared test\n2         Pearson's Chi-squared test\n3         Pearson's Chi-squared test\n4 Fisher's Exact Test for Count Data\n5         Pearson's Chi-squared test\n6         Pearson's Chi-squared test",
    "crumbs": [
      "HIPLOT",
      "Chi-square-fisher Test"
    ]
  },
  {
    "objectID": "Hiplot/019-chi-square-fisher.html#可视化",
    "href": "Hiplot/019-chi-square-fisher.html#可视化",
    "title": "卡方与 Fisher 检验",
    "section": "可视化",
    "text": "可视化\n\n# 卡方与 Fisher 检验\np1 &lt;- vis_value(final[\"statistic\"]) + \n  scale_fill_gradientn(colours = c(\"#3362ab\",\"#87b7d7\",\"#e8e0db\",\"#eea07d\",\"#ad1c2e\"))\n\np2 &lt;- vis_expect(final[\"pvalue\"], ~.x &lt; 0.05) +\n  scale_fill_manual(values = c(\"#1c438a\",\"#e7120c\"))\n\np &lt;- p1+p2\np\n\n\n\n\n\n\n\n图 1: 卡方与 Fisher 检验",
    "crumbs": [
      "HIPLOT",
      "Chi-square-fisher Test"
    ]
  },
  {
    "objectID": "Hiplot/089-interval-area-chart.html",
    "href": "Hiplot/089-interval-area-chart.html",
    "title": "区间区域图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Interval Area Chart"
    ]
  },
  {
    "objectID": "Hiplot/089-interval-area-chart.html#环境配置",
    "href": "Hiplot/089-interval-area-chart.html#环境配置",
    "title": "区间区域图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Interval Area Chart"
    ]
  },
  {
    "objectID": "Hiplot/089-interval-area-chart.html#数据准备",
    "href": "Hiplot/089-interval-area-chart.html#数据准备",
    "title": "区间区域图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为一年十二个月份的最高和最低温度和对应的月份简称。通过案例数据绘制了每个月份的温度区间及温度均线。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/interval-area-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[[\"month\"]] &lt;- factor(data[[\"month\"]], levels = data[[\"month\"]])\n\n# 查看数据\nhead(data)\n\n  month min_temperature max_temperature mean\n1   Jan              15              20   16\n2   Feb              17              25   20\n3   Mar              20              26   23\n4   Apr              25              30   27\n5   May              30              35   32\n6   Jun              32              35   34",
    "crumbs": [
      "HIPLOT",
      "Interval Area Chart"
    ]
  },
  {
    "objectID": "Hiplot/089-interval-area-chart.html#可视化",
    "href": "Hiplot/089-interval-area-chart.html#可视化",
    "title": "区间区域图",
    "section": "可视化",
    "text": "可视化\n\n# 区间区域图\np &lt;- ggplot(data, aes(x = month, group = 1)) +\n  geom_line(aes(y = max_temperature), size = 1.2, color = \"#EA3323\", \n            linetype = \"solid\") +\n  geom_line(aes(y = min_temperature), size = 1.2, color = \"#0000F5\", \n            linetype = \"solid\") +\n  geom_line(aes(x = month, y = mean), size = 1.2, color = \"#BEBEBE\", \n            linetype = \"dashed\") +\n  geom_ribbon(aes(ymin = min_temperature, ymax = max_temperature), \n              fill = \"#F2F2F2\", alpha = 0.5) +\n  geom_text(aes(x = month, y = max_temperature + 1, label = max_temperature),\n            color = \"#EA3323\", size = 2.5, vjust = -0.5, hjust = 0) +\n  geom_text(aes(x = month, y = min_temperature - 1, label = min_temperature),\n            color = \"#0000F5\", size = 2.5, vjust = 1.5, hjust = 0) +\n  geom_text(aes(x = month, y = mean, label = mean),\n            color = \"#BEBEBE\", size = 2.5, vjust = 1.5, hjust = 0) +\n  labs(title = \"Temperature\", x = \"Month\", y = \"Temperature\") +\n  scale_color_manual(values = c(max = \"#EA3323\", min = \"#0000F5\")) +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5))\n\np\n\n\n\n\n\n\n\n图 1: 区间区域图",
    "crumbs": [
      "HIPLOT",
      "Interval Area Chart"
    ]
  },
  {
    "objectID": "Hiplot/181-violin.html",
    "href": "Hiplot/181-violin.html",
    "title": "小提琴图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Violin 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/violin?lang=zh_cn\n小提琴图，因形似小提琴而得名，是结合了箱形图和核密度图，用于显示数据分布及概率密度的统计图表。",
    "crumbs": [
      "HIPLOT",
      "Violin"
    ]
  },
  {
    "objectID": "Hiplot/181-violin.html#环境配置",
    "href": "Hiplot/181-violin.html#环境配置",
    "title": "小提琴图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggpubr; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggpubr\", quietly = TRUE)) {\n  install.packages(\"ggpubr\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggpubr)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Violin"
    ]
  },
  {
    "objectID": "Hiplot/181-violin.html#数据准备",
    "href": "Hiplot/181-violin.html#数据准备",
    "title": "小提琴图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为数据集 (不同肿瘤中基因名称及表达水平)。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/violin/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ngroups &lt;- unique(data[, 2])\nngroups &lt;- length(groups)\ncomb &lt;- combn(1:ngroups, 2)\nmy_comparisons &lt;- list()\nfor (i in seq_len(ncol(comb))) {\n  my_comparisons[[i]] &lt;- groups[comb[, i]]\n}\n\n# 查看数据\nhead(data)\n\n  Expresssion Tumor\n1    12.10228   AML\n2    12.61382   AML\n3    12.52741   AML\n4    12.67990   AML\n5    12.64837   AML\n6    12.12146   AML",
    "crumbs": [
      "HIPLOT",
      "Violin"
    ]
  },
  {
    "objectID": "Hiplot/181-violin.html#可视化",
    "href": "Hiplot/181-violin.html#可视化",
    "title": "小提琴图",
    "section": "可视化",
    "text": "可视化\n\n# 小提琴图\np &lt;- ggviolin(data, x = \"Tumor\", y = \"Expresssion\", fill = \"Tumor\", add = \"boxplot\",\n              xlab = \"Tumor\", ylab = \"Expresssion\", \n              add.params = list(fill = \"white\"),\n              palette = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\"),\n              title = \"Violin Plot\", alpha = 1) + \n  stat_compare_means(comparisons = my_comparisons, label = \"p.signif\") +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 小提琴图\n\n\n\n\n\n小提琴图可以反映数据分布，同箱形图类似，方框中黑色横线显示各肿瘤中基因表达水平的中位数， 白色方框中上下框边代表数据集中的上，下四分位点；小提琴图还可以反映数据密度，数据集数据越集中则图形越胖。图示中BLGG 组中的基因表达分布更集中，BIC 组次之，AML组则分布最分散。",
    "crumbs": [
      "HIPLOT",
      "Violin"
    ]
  },
  {
    "objectID": "Hiplot/100-map-china.html",
    "href": "Hiplot/100-map-china.html",
    "title": "中国地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot China Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-china?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "China Map"
    ]
  },
  {
    "objectID": "Hiplot/100-map-china.html#环境配置",
    "href": "Hiplot/100-map-china.html#环境配置",
    "title": "中国地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "China Map"
    ]
  },
  {
    "objectID": "Hiplot/100-map-china.html#数据准备",
    "href": "Hiplot/100-map-china.html#数据准备",
    "title": "中国地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-china/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-china/china.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$FCNAME, data$name)]\n\n# 查看数据\nhead(data)\n\n    name value\n1 安徽省  6118\n2 福建省  3581\n3 甘肃省  2617\n4 广东省  9449\n5 贵州省  3762\n6 海南省   845",
    "crumbs": [
      "HIPLOT",
      "China Map"
    ]
  },
  {
    "objectID": "Hiplot/100-map-china.html#可视化",
    "href": "Hiplot/100-map-china.html#可视化",
    "title": "中国地图",
    "section": "可视化",
    "text": "可视化\n\n# 中国地图\np &lt;- ggplot(dt_map, aes(x = long, y = lat, group = group, fill = Value)) +\n  labs(fill = \"Value\") +\n  geom_polygon() +\n  geom_path() +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    na.value = \"grey10\",\n    limits = c(0, max(dt_map$Value) * 1.2)) +\n    ggtitle(\"China Map Plot\") +\n  theme_minimal()\n\np\n\n\n\n\n\n\n\n图 1: 中国地图",
    "crumbs": [
      "HIPLOT",
      "China Map"
    ]
  },
  {
    "objectID": "Hiplot/122-moon-charts.html",
    "href": "Hiplot/122-moon-charts.html",
    "title": "月亮饼图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Moon charts 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/moon-charts?lang=zh_cn\n月亮图是一种使用月亮的盈缺来反应数据大小的图形。",
    "crumbs": [
      "HIPLOT",
      "Moon charts"
    ]
  },
  {
    "objectID": "Hiplot/122-moon-charts.html#环境配置",
    "href": "Hiplot/122-moon-charts.html#环境配置",
    "title": "月亮饼图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; gggibbous; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"gggibbous\", quietly = TRUE)) {\n  install.packages(\"gggibbous\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(gggibbous)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Moon charts"
    ]
  },
  {
    "objectID": "Hiplot/122-moon-charts.html#数据准备",
    "href": "Hiplot/122-moon-charts.html#数据准备",
    "title": "月亮饼图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为餐厅名称及各种餐厅内食物种类数，装饰风格种类数，成套餐具种类数和价格种类数。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/moon-charts/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- factor(data[, 1], levels = unique(data[, 1]))\nrest_cols &lt;- colnames(data)[-1]\ntidyrest &lt;- reshape(\n  data,\n  varying = rest_cols,\n  v.names = \"Score\",\n  timevar = \"Category\",\n  times = factor(rest_cols, levels = rest_cols),\n  idvar = colnames(data)[1],\n  direction = \"long\"\n)\n\n# 查看数据\nhead(data)\n\n                     Restaurant Food Decor Service Price\n1       Anscombe\"s Luncheonette    5     2       4     4\n2                  Chai Squared    3     5       2     5\n3 Tukey\"s Honest Southern Diner    4     3       3     2\n4                  Bagels ANOVA    4     1       3     5\n5                 Spearmint Row    1     5       5     2",
    "crumbs": [
      "HIPLOT",
      "Moon charts"
    ]
  },
  {
    "objectID": "Hiplot/122-moon-charts.html#可视化",
    "href": "Hiplot/122-moon-charts.html#可视化",
    "title": "月亮饼图",
    "section": "可视化",
    "text": "可视化\n\n# 月亮饼图\np &lt;- ggplot(tidyrest, aes(0, 0)) +\n  geom_moon(aes(ratio = (Score - 1) / 4), fill = \"black\") +\n  geom_moon(aes(ratio = 1 - (Score - 1) / 4), right = FALSE) +\n  facet_grid(Category ~ Restaurant, switch = \"y\") +\n  theme_minimal() +\n  theme(\n    panel.grid = element_blank(),\n    axis.text = element_blank(),\n    axis.title = element_blank()\n  )\n\np\n\n\n\n\n\n\n\n图 1: 月亮饼图\n\n\n\n\n\n图示第一行表示餐厅名称，第一列表示餐厅内不同变量，空白月亮表示数目为 1（数目最少），黑色月亮表示数目为 5（数目最多）的数据，随着数据的增多月亮黑色区域逐渐变大，即逐渐变为满月。",
    "crumbs": [
      "HIPLOT",
      "Moon charts"
    ]
  },
  {
    "objectID": "Hiplot/051-eulerr.html",
    "href": "Hiplot/051-eulerr.html",
    "title": "比例韦恩图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; eulerr; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"eulerr\", quietly = TRUE)) {\n  install.packages(\"eulerr\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(eulerr)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Eulerr Plot"
    ]
  },
  {
    "objectID": "Hiplot/051-eulerr.html#环境配置",
    "href": "Hiplot/051-eulerr.html#环境配置",
    "title": "比例韦恩图",
    "section": "",
    "text": "系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; eulerr; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"eulerr\", quietly = TRUE)) {\n  install.packages(\"eulerr\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(eulerr)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Eulerr Plot"
    ]
  },
  {
    "objectID": "Hiplot/051-eulerr.html#数据准备",
    "href": "Hiplot/051-eulerr.html#数据准备",
    "title": "比例韦恩图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/eulerr/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ngenes &lt;- as.numeric(data[, 2])\nnames(genes) &lt;- as.character(data[, 1])\neuler_set &lt;- euler(genes)\n  \n# 查看数据\nhead(data)\n\n      Term Value\n1       SE    13\n2    Treat    28\n3 Anti-CCP   101\n4    DAS28    91\n5 SE&Treat     1\n6 SE&DAS28    14",
    "crumbs": [
      "HIPLOT",
      "Eulerr Plot"
    ]
  },
  {
    "objectID": "Hiplot/051-eulerr.html#可视化",
    "href": "Hiplot/051-eulerr.html#可视化",
    "title": "比例韦恩图",
    "section": "可视化",
    "text": "可视化\n\n# 比例韦恩图\nfill &lt;- c(\"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\",\"#631879FF\",\"#008280FF\",\"#BB0021FF\",\n          \"#5F559BFF\",\"#A20056FF\")\np &lt;- as.ggplot(\n  plot(euler_set,\n    labels = list(col = rep(\"white\", length(genes))),\n    fills = list(fill = fill),\n    quantities = list(type = c(\"percent\", \"counts\"),\n    col = rep(\"white\", length(genes))),\n    main = \"Eulerr\")\n)\n\np\n\n\n\n\n\n\n\n图 1: 比例韦恩图",
    "crumbs": [
      "HIPLOT",
      "Eulerr Plot"
    ]
  },
  {
    "objectID": "Hiplot/186-waterfalls.html",
    "href": "Hiplot/186-waterfalls.html",
    "title": "瀑布图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Waterfalls 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/waterfalls?lang=zh_cn\n瀑布图用于显示顺序引入正值或负值的累积效应。这些中间值可以基于时间或基于类别。",
    "crumbs": [
      "HIPLOT",
      "Waterfalls"
    ]
  },
  {
    "objectID": "Hiplot/186-waterfalls.html#环境配置",
    "href": "Hiplot/186-waterfalls.html#环境配置",
    "title": "瀑布图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; waterfalls; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"waterfalls\", quietly = TRUE)) {\n  install.packages(\"waterfalls\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(waterfalls)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Waterfalls"
    ]
  },
  {
    "objectID": "Hiplot/186-waterfalls.html#数据准备",
    "href": "Hiplot/186-waterfalls.html#数据准备",
    "title": "瀑布图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据具有两个列，其中第一个针对类别的项目，第二个针对其相应的值。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/waterfalls/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  label value\n1     a   100\n2     b   -20\n3     c    10\n4     d    20\n5     e   110",
    "crumbs": [
      "HIPLOT",
      "Waterfalls"
    ]
  },
  {
    "objectID": "Hiplot/186-waterfalls.html#可视化",
    "href": "Hiplot/186-waterfalls.html#可视化",
    "title": "瀑布图",
    "section": "可视化",
    "text": "可视化\n\n# 瀑布图\np &lt;- waterfall(data, rect_text_labels = data$value, rect_text_size = 1,\n    rect_text_labels_anchor = \"centre\", calc_total = T,\n    total_axis_text = \"Total\", total_rect_text = sum(data$value),\n    total_rect_color = \"steelblue\", total_rect_text_color = \"black\",\n    rect_width = 0.7, rect_border = \"black\", draw_lines = TRUE,\n    linetype = 2, fill_by_sign = F, \n    fill_colours = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\",\"#3C5488FF\",\"#F39B7FFF\",\n                     \"#8491B4FF\"),\n    scale_y_to_waterfall = T) +\n  theme_bw() +\n  theme(axis.text = element_text(size = 12),\n        plot.title = element_text(hjust = 0.5)) +\n  labs(title = \"Waterfalls Plot\")\n\np\n\n\n\n\n\n\n\n图 1: 瀑布图\n\n\n\n\n\n如示例图所示，X轴表示每个基于类别的项目，y轴显示其累积值。足够极端的增量和减小会导致累积总数在各个点上方降低和低于轴的高于轴的上方。",
    "crumbs": [
      "HIPLOT",
      "Waterfalls"
    ]
  },
  {
    "objectID": "Hiplot/182-visdat.html",
    "href": "Hiplot/182-visdat.html",
    "title": "数据概览图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Visdat 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/visdat?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Visdat"
    ]
  },
  {
    "objectID": "Hiplot/182-visdat.html#环境配置",
    "href": "Hiplot/182-visdat.html#环境配置",
    "title": "数据概览图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; visdat; ggplot2; dplyr; patchwork\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"visdat\", quietly = TRUE)) {\n  install.packages(\"visdat\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"patchwork\", quietly = TRUE)) {\n  install.packages(\"patchwork\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(visdat)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork)",
    "crumbs": [
      "HIPLOT",
      "Visdat"
    ]
  },
  {
    "objectID": "Hiplot/182-visdat.html#数据准备",
    "href": "Hiplot/182-visdat.html#数据准备",
    "title": "数据概览图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/visdat/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  RowNames Ozone Solar.R Wind Temp Month Day\n1        1    41     190  7.4   67     5   1\n2        2    36     118  8.0   72     5   2\n3        3    12     149 12.6   74     5   3\n4        4    18     313 11.5   62     5   4\n5        5    NA      NA 14.3   56     5   5\n6        6    28      NA 14.9   66     5   6",
    "crumbs": [
      "HIPLOT",
      "Visdat"
    ]
  },
  {
    "objectID": "Hiplot/182-visdat.html#可视化",
    "href": "Hiplot/182-visdat.html#可视化",
    "title": "数据概览图",
    "section": "可视化",
    "text": "可视化\n\n# 数据概览图\nadd_palette &lt;- function (p) {\n  ## 添加配色\n  p &lt;- p + scale_fill_manual(values = c(\"#3B4992FF\", \"#EE0000FF\"))\n}\npobj &lt;- list()\npobj[[\"p1\"]] &lt;- add_palette(vis_dat(data)) + ggtitle(':vis_dat')\npobj[[\"p2\"]] &lt;- add_palette(vis_guess(data)) + ggtitle(':vis_guess')\npobj[[\"p3\"]] &lt;- vis_miss(data, cluster = T, sort_miss = T) + ggtitle(':vis_miss')\npobj[[\"p4\"]] &lt;- add_palette(vis_expect(data, ~.x &gt;= 20 )) + ggtitle(':vis_expect')\npobj[[\"p5\"]] &lt;- vis_cor(data) + \n  scale_fill_gradientn(colours = c(\"#0571B0\", \"#92C5DE\", \"#F4A582\", \"#CA0020\")) +\n  ggtitle(':vis_cor')\npobj[[\"p6\"]] &lt;- data %&gt;%\n      select_if(is.numeric) %&gt;%\n      vis_value() + ggtitle(':vis_value')\npobj[[\"p6\"]] &lt;- pobj[[\"p6\"]] + \n  scale_fill_gradientn(colours = c(\"#0571B0\",\"#92C5DE\",\"#F7F7F7\",\"#F4A582\",\n                                   \"#CA0020\"))\n\npstr &lt;- paste0(sprintf(\"pobj[[%s]]\", 1:length(pobj)), collapse = \" + \")\np &lt;- eval(parse(text = \n  sprintf(\"%s + plot_layout(ncol = 2) +\nplot_annotation(tag_levels = 'A')\", pstr)))\n\np\n\n\n\n\n\n\n\n图 1: 数据概览图",
    "crumbs": [
      "HIPLOT",
      "Visdat"
    ]
  },
  {
    "objectID": "Hiplot/109-map-oceania-antarc.html",
    "href": "Hiplot/109-map-oceania-antarc.html",
    "title": "大洋洲/南极洲地图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Oceania/Antarc Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-oceania-antarc?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/109-map-oceania-antarc.html#环境配置",
    "href": "Hiplot/109-map-oceania-antarc.html#环境配置",
    "title": "大洋洲/南极洲地图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/109-map-oceania-antarc.html#数据准备",
    "href": "Hiplot/109-map-oceania-antarc.html#数据准备",
    "title": "大洋洲/南极洲地图",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-oceania-antarc/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-oceania-antarc/oca.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$ENG_NAME, data$region)]\n\n# 查看数据\nhead(data)\n\n                      region value\n1        American Samoa (US)   672\n2                 Antarctica     3\n3    Pacific Is Refuges (US)   320\n4 Cook Islands (NEW ZEALAND)   740\n5                       FIJI   303\n6  French Polynesia (FRANCE)   879",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/109-map-oceania-antarc.html#可视化",
    "href": "Hiplot/109-map-oceania-antarc.html#可视化",
    "title": "大洋洲/南极洲地图",
    "section": "可视化",
    "text": "可视化\n\n# 大洋洲/南极洲地图\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"Color Key\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"Oceania/Antarc Map\")\n\np\n\n\n\n\n\n\n\n图 1: 大洋洲/南极洲地图",
    "crumbs": [
      "HIPLOT",
      "Oceania/Antarc Map"
    ]
  },
  {
    "objectID": "Hiplot/118-matrix-bubble.html",
    "href": "Hiplot/118-matrix-bubble.html",
    "title": "矩阵气泡图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Matrix Bubble 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/matrix-bubble?lang=zh_cn\n彩色矩阵气泡用于可视化不同细胞（列）中多个基因（行）的表达矩阵数据。",
    "crumbs": [
      "HIPLOT",
      "Matrix Bubble"
    ]
  },
  {
    "objectID": "Hiplot/118-matrix-bubble.html#环境配置",
    "href": "Hiplot/118-matrix-bubble.html#环境配置",
    "title": "矩阵气泡图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggalluvial; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggalluvial\", quietly = TRUE)) {\n  install.packages(\"ggalluvial\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggalluvial)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Matrix Bubble"
    ]
  },
  {
    "objectID": "Hiplot/118-matrix-bubble.html#数据准备",
    "href": "Hiplot/118-matrix-bubble.html#数据准备",
    "title": "矩阵气泡图",
    "section": "数据准备",
    "text": "数据准备\n数据结构：\n\n&lt;1st-col&gt;: (String) 单元格样本名称作为 X 轴\n&lt;2nd-col&gt;: (String) 基因名作为Y轴\n&lt;3rd-col&gt;: (Numeric) 基因表达\n&lt;4rd-col&gt;: (Numeric) 组\n\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/matrix-bubble/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 1] &lt;- factor(data[, 1], levels = unique(data[, 1]))\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\n\n# 查看数据\nhead(data)\n\n      x     y value  group\n1 cell1 gene1     1 groupC\n2 cell1 gene2     5 groupC\n3 cell1 gene3    10 groupC\n4 cell1 gene4    15 groupC\n5 cell1 gene5    20 groupC\n6 cell1 gene6    25 groupC",
    "crumbs": [
      "HIPLOT",
      "Matrix Bubble"
    ]
  },
  {
    "objectID": "Hiplot/118-matrix-bubble.html#可视化",
    "href": "Hiplot/118-matrix-bubble.html#可视化",
    "title": "矩阵气泡图",
    "section": "可视化",
    "text": "可视化\n\n# 矩阵气泡图\np &lt;- ggplot(data = data, aes(x = x, y = y, size = value, color = y)) +\n  geom_point(alpha = 1) +\n  labs(title = \"Matrix Bubble\") +\n  guides(color = FALSE) +\n  theme(panel.background = element_blank(),\n        panel.grid.major = element_line(colour = \"gray\"),\n        strip.background = element_blank(),\n        panel.border = element_rect(colour = \"black\", fill = NA),\n        panel.spacing = unit(0, \"lines\"),\n        plot.title = element_text(size = 12, hjust = 0.5),\n        text = element_text(family = \"Arial\"),\n        legend.title = element_text(size = 10),\n        axis.text.x = element_text(angle=0, hjust=0.5, vjust=1)) +\n  facet_grid(~group, scales = 'fixed', margins = F) +\n  scale_color_manual(values = c(\n    \"#3B4992FF\",\"#EE0000FF\",\"#008B45FF\",\"#631879FF\",\"#008280FF\",\"#BB0021FF\",\n    \"#5F559BFF\",\"#A20056FF\",\"#808180FF\",\"#1B1919FF\"))\n\np\n\n\n\n\n\n\n\n图 1: 矩阵气泡图",
    "crumbs": [
      "HIPLOT",
      "Matrix Bubble"
    ]
  },
  {
    "objectID": "Hiplot/167-stacked-percentage-bar-chart.html",
    "href": "Hiplot/167-stacked-percentage-bar-chart.html",
    "title": "百分比堆叠条形图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Percentsge Stacked Bar Chart 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/stacked-percentage-bar-chart?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "Percentsge Stacked Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/167-stacked-percentage-bar-chart.html#环境配置",
    "href": "Hiplot/167-stacked-percentage-bar-chart.html#环境配置",
    "title": "百分比堆叠条形图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; dplyr; tidyr; scales\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"dplyr\", quietly = TRUE)) {\n  install.packages(\"dplyr\")\n}\nif (!requireNamespace(\"tidyr\", quietly = TRUE)) {\n  install.packages(\"tidyr\")\n}\nif (!requireNamespace(\"scales\", quietly = TRUE)) {\n  install.packages(\"scales\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(scales)",
    "crumbs": [
      "HIPLOT",
      "Percentsge Stacked Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/167-stacked-percentage-bar-chart.html#数据准备",
    "href": "Hiplot/167-stacked-percentage-bar-chart.html#数据准备",
    "title": "百分比堆叠条形图",
    "section": "数据准备",
    "text": "数据准备\n案例数据为某商场中三种商品在一星期内的销量，销量数据会被自动计算为百分比的形式进行绘图。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/stacked-percentage-bar-chart/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata$total &lt;- rowSums(data[, -1])\ndata_long &lt;- gather(data, kinds, value, -days, -total)\ndata_long &lt;- data_long %&gt;%\n  group_by(days) %&gt;%\n  mutate(percent = value / total * 100)\ndata_long[[\"days\"]] &lt;- factor(data_long[[\"days\"]], levels = data[[\"days\"]])\n\n# 查看数据\nhead(data)\n\n       days goods1 goods2 goods3 total\n1    Monday    150    300      0   450\n2   Tuesday    200    250      0   450\n3 Wednesday    300    100      0   400\n4  Thursday    200    300      0   500\n5    Friday    100    300      0   400\n6  Saturday     50     50    400   500",
    "crumbs": [
      "HIPLOT",
      "Percentsge Stacked Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/167-stacked-percentage-bar-chart.html#可视化",
    "href": "Hiplot/167-stacked-percentage-bar-chart.html#可视化",
    "title": "百分比堆叠条形图",
    "section": "可视化",
    "text": "可视化\n\n# 百分比堆叠条形图\np &lt;- ggplot(data_long, aes(x = percent, y = days, fill = kinds)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  geom_text(aes(label = ifelse(percent != 0, paste0(round(percent), \"%\"), \"\")),\n            position = position_stack(vjust = 0.5)) +\n  labs(title = \"Percentage Stacked Bar Chart\", x = \"Percentage\", y = \"Days\") +\n  scale_x_continuous(labels = percent_format(scale = 1)) +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  scale_fill_manual(values = c(\"#E64B35FF\",\"#4DBBD5FF\",\"#00A087FF\"))\n\np\n\n\n\n\n\n\n\n图 1: 百分比堆叠条形图",
    "crumbs": [
      "HIPLOT",
      "Percentsge Stacked Bar Chart"
    ]
  },
  {
    "objectID": "Hiplot/169-survival.html",
    "href": "Hiplot/169-survival.html",
    "title": "生存分析",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Survival Analysis 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/survival?lang=zh_cn\n生存曲线是显示特定物种或群体 (如雄性或雌性) 在每个年龄存活下来的个体数量或比例的图表。",
    "crumbs": [
      "HIPLOT",
      "Survival Analysis"
    ]
  },
  {
    "objectID": "Hiplot/169-survival.html#环境配置",
    "href": "Hiplot/169-survival.html#环境配置",
    "title": "生存分析",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; survminer; survival; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"survminer\", quietly = TRUE)) {\n  install.packages(\"survminer\")\n}\nif (!requireNamespace(\"survival\", quietly = TRUE)) {\n  install.packages(\"survival\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(survminer)\nlibrary(survival)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "Survival Analysis"
    ]
  },
  {
    "objectID": "Hiplot/169-survival.html#数据准备",
    "href": "Hiplot/169-survival.html#数据准备",
    "title": "生存分析",
    "section": "数据准备",
    "text": "数据准备\n载入数据为时间点，生存状态及分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/survival/data.json\")$exampleData[[1]]$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"Time\", \"Status\", \"Group\")\ndata[,1] &lt;- as.numeric(data[,1])\nfit &lt;- survfit(Surv(Time, Status == 1) ~ Group, data = data)\ndata &lt;- data[data[,1] &lt; 1100,]\n\n# 查看数据\nhead(data)\n\n  Time Status Group\n1  306      1    G1\n2  455      1    G1\n3 1010      0    G1\n4  210      1    G1\n5  883      1    G1\n6 1022      0    G1",
    "crumbs": [
      "HIPLOT",
      "Survival Analysis"
    ]
  },
  {
    "objectID": "Hiplot/169-survival.html#可视化",
    "href": "Hiplot/169-survival.html#可视化",
    "title": "生存分析",
    "section": "可视化",
    "text": "可视化\n\n# 生存分析\np &lt;- ggsurvplot(\n  fit, data = data, risk.table = T, pval = T, conf.int = T, fun = \"pct\", \n  size = 0.5, xlab = \"Time\", ylab = \"Survival probability\",\n  ggtheme = theme_bw(), risk.table.y.text.col = TRUE,\n  risk.table.height = 0.25, risk.table.y.text = T,\n  ncensor.plot = T, ncensor.plot.height = 0.25,\n  conf.int.style = \"ribbon\", surv.median.line = \"hv\",\n  palette = c(\"#00468BFF\", \"#ED0000FF\"),\n  xlim = c(0, 1100), ylim = c(0, 100),\n  break.x.by = 150)\n\np\n\n\n\n\n\n\n\n图 1: 生存分析\n\n\n\n\n\n横轴表示时间轴，纵轴表示生存概率。蓝色曲线表示 G1 组生存曲线，红色曲线表示 G2 组生存曲线。经过 logrank 检验后发现 P 值 = 0.0013 &lt; 0.05，表明两组患者生存状况的差异不能用抽样误差来解释，分组因素才是导致两条曲线生存率出现差异的原因。该示例图形表明，G2 组的总体生存率要好于 G1 组。",
    "crumbs": [
      "HIPLOT",
      "Survival Analysis"
    ]
  },
  {
    "objectID": "Hiplot/062-gene-trend.html",
    "href": "Hiplot/062-gene-trend.html",
    "title": "基因聚类趋势图",
    "section": "",
    "text": "基因聚类趋势图用于显示不同的基因表达趋势，多条线显示了每个类群中相似的表达模式。",
    "crumbs": [
      "HIPLOT",
      "Gene Cluster Trend"
    ]
  },
  {
    "objectID": "Hiplot/062-gene-trend.html#环境配置",
    "href": "Hiplot/062-gene-trend.html#环境配置",
    "title": "基因聚类趋势图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; Mfuzz; ggplotify; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"Mfuzz\", quietly = TRUE)) {\n  install_github(\"MatthiasFutschik/Mfuzz\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(Mfuzz)\nlibrary(ggplotify)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "Gene Cluster Trend"
    ]
  },
  {
    "objectID": "Hiplot/062-gene-trend.html#数据准备",
    "href": "Hiplot/062-gene-trend.html#数据准备",
    "title": "基因聚类趋势图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据是行为基因列为时间点样本的基因表达矩阵。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gene-trend/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\n## 将基因表达矩阵转换为 ExpressionSet 对象\nrow.names(data) &lt;- data[,1]\ndata &lt;- data[,-1]\ndata &lt;- as.matrix(data)\neset &lt;- new(\"ExpressionSet\", exprs = data)\n## 过滤缺失值超过 25% 的基因\neset &lt;- filter.NA(eset, thres=0.25)\n\n0 genes excluded.\n\n## 根据标准差去除样本间差异太小的基因\neset &lt;- filter.std(eset, min.std=0, visu = F)\n\n0 genes excluded.\n\n## 数据标准化\neset &lt;- standardise(eset)\n## 设定聚类数目\nc &lt;- 6\n## 评估出最佳的m值\nm &lt;- mestimate(eset)\n## 进行mfuzz聚类\ncl &lt;- mfuzz(eset, c = c, m = m)\n\n# 查看数据\nhead(data)\n\n           Time1      Time2       Time3\nGene1  0.1774993  1.6563226 -1.15259948\nGene2 -0.5037254 -0.5207024  0.46416071\nGene3  0.1050310  0.6079246  0.72893247\nGene4 -1.1791537  0.4340085  0.41061745\nGene5  0.8368975 -0.7047414 -1.46114720\nGene6  0.2611762  0.1351524 -0.01890809",
    "crumbs": [
      "HIPLOT",
      "Gene Cluster Trend"
    ]
  },
  {
    "objectID": "Hiplot/062-gene-trend.html#可视化",
    "href": "Hiplot/062-gene-trend.html#可视化",
    "title": "基因聚类趋势图",
    "section": "可视化",
    "text": "可视化\n\n# 基因聚类趋势图\np &lt;- as.ggplot(function(){\n  mfuzz.plot2(\n  eset,\n  cl,\n  xlab = \"Time\",\n  ylab = \"Expression changes\",\n  mfrow = c(2,(c/2+0.5)),\n  colo = \"fancy\",\n  centre = T,\n  centre.col = \"red\",\n  time.labels = colnames(eset),\n  x11=F)\n  })\n\np\n\n\n\n\n\n\n\n图 1: 基因聚类趋势图\n\n\n\n\n\n如示例图所示，将基因聚集到不同的组中，每个组在不同时间点上显示出相似的表达模式。每个类群中突出显示了平均表达趋势。",
    "crumbs": [
      "HIPLOT",
      "Gene Cluster Trend"
    ]
  },
  {
    "objectID": "Hiplot/010-barplot.html",
    "href": "Hiplot/010-barplot.html",
    "title": "柱状图",
    "section": "",
    "text": "条形图用于显示带有矩形条的类别数据，矩形条的高度或长度与它们所代表的值成比例。条形图可以垂直或水平绘制。条形图显示了离散类别之间的比较。图表的一个轴显示要比较的特定类别，另一个轴代表测量值。一些条形图显示的条形也可显示多个测量变量的值。",
    "crumbs": [
      "HIPLOT",
      "Barplot"
    ]
  },
  {
    "objectID": "Hiplot/010-barplot.html#环境配置",
    "href": "Hiplot/010-barplot.html#环境配置",
    "title": "柱状图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; ggthemes\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"ggthemes\", quietly = TRUE)) {\n  install.packages(\"ggthemes\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(ggthemes)",
    "crumbs": [
      "HIPLOT",
      "Barplot"
    ]
  },
  {
    "objectID": "Hiplot/010-barplot.html#数据准备",
    "href": "Hiplot/010-barplot.html#数据准备",
    "title": "柱状图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为不同治疗方案中不同剂量药物作用效果数据。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/barplot/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ndata[, 2] &lt;- factor(data[, 2], levels = unique(data[, 2]))\ndata[, 3] &lt;- factor(data[, 3], levels = unique(data[, 3]))\n\n# 查看数据\nhead(data)\n\n  value  treat dose\n1    13 Group1 high\n2    34 Group2 high\n3    21 Group3 high\n4    43 Group4 high\n5    25 Group1  mid\n6     8 Group2  mid",
    "crumbs": [
      "HIPLOT",
      "Barplot"
    ]
  },
  {
    "objectID": "Hiplot/010-barplot.html#可视化",
    "href": "Hiplot/010-barplot.html#可视化",
    "title": "柱状图",
    "section": "可视化",
    "text": "可视化\n\n# 柱状图\np &lt;- ggplot(data, aes(x = dose, y = value, fill = treat)) +\n  geom_bar(position = position_dodge(0.9), stat = \"identity\") +\n  ggtitle(\"Bar Plot\") +\n  geom_text(aes(label = value), position = position_dodge(0.9), vjust = 1.5, color = \"white\", size = 3.5) +\n  scale_fill_manual(values = c(\"#e04d39\",\"#5bbad6\",\"#1e9f86\",\"#3c5488ff\")) +\n  theme_stata() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 柱状图\n\n\n\n\n\n该条形图展示了不同治疗组（组 1 ~ 组 4）分别用低、中、高剂量进行治疗时，不同的治疗效果。组 1 使用中剂量治疗时效果最好，组 2 使用高剂量治疗时效果最好，组 3 使用剂量治疗时无较大差距，组 4 使用高剂量治疗时效果最好。",
    "crumbs": [
      "HIPLOT",
      "Barplot"
    ]
  },
  {
    "objectID": "Hiplot/161-scatter.html",
    "href": "Hiplot/161-scatter.html",
    "title": "散点图",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Scatter 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/scatter?lang=zh_cn\n用两组数据构成多个坐标点，通过观察坐标点的分布，判断变量间是否存在关联或总结坐标点分布模式的数据处理方式。",
    "crumbs": [
      "HIPLOT",
      "Scatter"
    ]
  },
  {
    "objectID": "Hiplot/161-scatter.html#环境配置",
    "href": "Hiplot/161-scatter.html#环境配置",
    "title": "散点图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)",
    "crumbs": [
      "HIPLOT",
      "Scatter"
    ]
  },
  {
    "objectID": "Hiplot/161-scatter.html#数据准备",
    "href": "Hiplot/161-scatter.html#数据准备",
    "title": "散点图",
    "section": "数据准备",
    "text": "数据准备\n载入数据为横轴数值及其对应的纵轴数值和分组。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/scatter/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 查看数据\nhead(data)\n\n  Value1 Value2  Group\n1      1      1 treat1\n2      2      4 treat1\n3      3      9 treat1\n4      4     16 treat1\n5      5     25 treat1\n6      6     36 treat1",
    "crumbs": [
      "HIPLOT",
      "Scatter"
    ]
  },
  {
    "objectID": "Hiplot/161-scatter.html#可视化",
    "href": "Hiplot/161-scatter.html#可视化",
    "title": "散点图",
    "section": "可视化",
    "text": "可视化\n\n# 散点图\np &lt;- ggplot(data, aes(x = Value1, y = Value2)) +\n  geom_point(size = 1, alpha = 1, aes(color = Group, shape = Group)) +\n  ggtitle(\"Scatter Plot\") +\n  scale_color_manual(values = c(\"#00468BFF\", \"#ED0000FF\")) +\n  theme_bw() +\n  theme(text = element_text(family = \"Arial\"),\n        plot.title = element_text(size = 12,hjust = 0.5),\n        axis.title = element_text(size = 12),\n        axis.text = element_text(size = 10),\n        axis.text.x = element_text(angle = 0, hjust = 0.5,vjust = 1),\n        legend.position = \"right\",\n        legend.direction = \"vertical\",\n        legend.title = element_text(size = 10),\n        legend.text = element_text(size = 10))\n\np\n\n\n\n\n\n\n\n图 1: 散点图\n\n\n\n\n\nValue1 表示横轴，Value2 表示纵轴，图示表示治疗方案一中 Value1 与 Value2 两个变量呈正相关： 即 Value1 变大时， Value2 随之变大； 治疗方案二中两个变量则呈负相关： 即 Value1 变大时，Value2 随之变小。",
    "crumbs": [
      "HIPLOT",
      "Scatter"
    ]
  },
  {
    "objectID": "Hiplot/078-gobubble.html",
    "href": "Hiplot/078-gobubble.html",
    "title": "GO气泡图",
    "section": "",
    "text": "GO气泡图用于显示按z-score或adjusted p-value的负相对序列的Z-score彩色气泡图。",
    "crumbs": [
      "HIPLOT",
      "GOBubble Plot"
    ]
  },
  {
    "objectID": "Hiplot/078-gobubble.html#环境配置",
    "href": "Hiplot/078-gobubble.html#环境配置",
    "title": "GO气泡图",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; GOplot; ggplotify\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"GOplot\", quietly = TRUE)) {\n  install.packages(\"GOplot\")\n}\nif (!requireNamespace(\"ggplotify\", quietly = TRUE)) {\n  install.packages(\"ggplotify\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(GOplot)\nlibrary(ggplotify)",
    "crumbs": [
      "HIPLOT",
      "GOBubble Plot"
    ]
  },
  {
    "objectID": "Hiplot/078-gobubble.html#数据准备",
    "href": "Hiplot/078-gobubble.html#数据准备",
    "title": "GO气泡图",
    "section": "数据准备",
    "text": "数据准备\n加载的数据是具有七个列的GO富集的结果：category, GO id, GO term, gene count, gene name, logFC, adjust pvalue and zscore。\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/gobubble/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\n\n# 整理数据格式\ncolnames(data) &lt;- c(\"category\",\"ID\",\"term\",\"count\",\"genes\",\"logFC\",\"adj_pval\",\"zscore\")\ndata &lt;- data[data$category %in% c(\"BP\",\"CC\",\"MF\"),]\ndata &lt;- data[!is.na(data$adj_pval),]\ndata$adj_pval &lt;- as.numeric(data$adj_pval)\ndata$zscore &lt;- as.numeric(data$zscore)\n\n# 查看数据\nhead(data)\n\n  category         ID              term count  genes      logFC adj_pval\n1       BP GO:0007507 heart development    54   DLC1 -0.9707875 2.17e-06\n2       BP GO:0007507 heart development    54   NRP2 -1.5153173 2.17e-06\n3       BP GO:0007507 heart development    54   NRP1 -1.1412315 2.17e-06\n4       BP GO:0007507 heart development    54   EDN1  1.3813006 2.17e-06\n5       BP GO:0007507 heart development    54 PDLIM3 -0.8876939 2.17e-06\n6       BP GO:0007507 heart development    54   GJA1 -0.8179480 2.17e-06\n      zscore\n1 -0.8164966\n2 -0.8164966\n3 -0.8164966\n4 -0.8164966\n5 -0.8164966\n6 -0.8164966",
    "crumbs": [
      "HIPLOT",
      "GOBubble Plot"
    ]
  },
  {
    "objectID": "Hiplot/078-gobubble.html#可视化",
    "href": "Hiplot/078-gobubble.html#可视化",
    "title": "GO气泡图",
    "section": "可视化",
    "text": "可视化\n\n# GO气泡图\np &lt;- function () {\n  GOBubble(data, display = \"single\", title = \"GO Enrichment Bubbleplot\",\n           colour = c(\"#FC8D59\",\"#FFFFBF\",\"#99D594\"),\n           labels = 0,  ID = T, table.legend = T, table.col = T, bg.col = F) + \n  theme(plot.title = element_text(hjust = 0.5))\n}\np &lt;- as.ggplot(p)\n\np\n\n\n\n\n\n\n\n图 1: GO气泡图\n\n\n\n\n\n如示例图所示，图的x轴表示z-score。y轴上显示了 adjusted p-value 的负对数（对应于该 term 的重要性）。绘制圆圈的面积与分配给该 term 的基因数量成正比。每个圆都根据其类别进行着色，并用 ID 或 term 名称标记。",
    "crumbs": [
      "HIPLOT",
      "GOBubble Plot"
    ]
  },
  {
    "objectID": "Hiplot/098-map-china-city.html",
    "href": "Hiplot/098-map-china-city.html",
    "title": "中国地图 (市)",
    "section": "",
    "text": "注记\n\n\n\nHiplot 网站\n本页面为 Hiplot Americas Map 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:\nhttps://hiplot.cn/basic/map-china-city?lang=zh_cn",
    "crumbs": [
      "HIPLOT",
      "China Map (City)"
    ]
  },
  {
    "objectID": "Hiplot/098-map-china-city.html#环境配置",
    "href": "Hiplot/098-map-china-city.html#环境配置",
    "title": "中国地图 (市)",
    "section": "环境配置",
    "text": "环境配置\n\n系统: Cross-platform (Linux/MacOS/Windows)\n编程语言: R\n依赖包: data.table; jsonlite; ggplot2; RColorBrewer\n\n\n# 安装包\nif (!requireNamespace(\"data.table\", quietly = TRUE)) {\n  install.packages(\"data.table\")\n}\nif (!requireNamespace(\"jsonlite\", quietly = TRUE)) {\n  install.packages(\"jsonlite\")\n}\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\nif (!requireNamespace(\"RColorBrewer\", quietly = TRUE)) {\n  install.packages(\"RColorBrewer\")\n}\n\n# 加载包\nlibrary(data.table)\nlibrary(jsonlite)\nlibrary(ggplot2)\nlibrary(RColorBrewer)",
    "crumbs": [
      "HIPLOT",
      "China Map (City)"
    ]
  },
  {
    "objectID": "Hiplot/098-map-china-city.html#数据准备",
    "href": "Hiplot/098-map-china-city.html#数据准备",
    "title": "中国地图 (市)",
    "section": "数据准备",
    "text": "数据准备\n\n# 加载数据\ndata &lt;- data.table::fread(jsonlite::read_json(\"https://hiplot.cn/ui/basic/map-china-city/data.json\")$exampleData$textarea[[1]])\ndata &lt;- as.data.frame(data)\ndt_map &lt;- readRDS(url(\"https://download.hiplot.cn/ui/basic/map-china-city/china.city.rds\"))\n\n# 整理数据格式\ndt_map$Value &lt;- data$value[match(dt_map$city, data$name)]\n\n# 查看数据\nhead(data)\n\n      name value\n1   北京市   756\n2   天津市   321\n3 石家庄市   232\n4   唐山市   467\n5 秦皇岛市   549\n6   邯郸市   226",
    "crumbs": [
      "HIPLOT",
      "China Map (City)"
    ]
  },
  {
    "objectID": "Hiplot/098-map-china-city.html#可视化",
    "href": "Hiplot/098-map-china-city.html#可视化",
    "title": "中国地图 (市)",
    "section": "可视化",
    "text": "可视化\n\n# 中国地图 (市)\np &lt;- ggplot(dt_map) +\n  geom_polygon(aes(x = long, y = lat, group = group, fill = Value),\n               alpha = 0.9, size = 0.5) +\n  geom_path(aes(x = long, y = lat, group = group), color = \"black\", size = 0.2) +\n  coord_fixed() +\n  scale_fill_gradientn(\n    colours = colorRampPalette(rev(brewer.pal(11,\"RdYlBu\")))(500),\n    breaks = seq(min(data$value), max(data$value), \n                 round((max(data$value)-min(data$value))/7)),\n    name = \"\",\n    guide = guide_legend(\n      direction = \"vertical\", keyheight = unit(1, units = \"mm\"),\n      keywidth = unit(8, units = \"mm\"),\n      title.position = \"top\", title.hjust = 0.5, label.hjust = 0.5,\n      nrow = 1, byrow = T, reverse = F, label.position = \"bottom\")) +\n  theme(text = element_text(color = \"#3A3F4A\"),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        legend.position = \"top\",\n        legend.text = element_text(size = 4 * 1.5, color = \"black\"),\n        legend.title = element_text(size = 5 * 1.5, color = \"black\"),\n        plot.title = element_text(\n          face = \"bold\", size = 5 * 1.5, hjust = 0.5, \n          margin = margin(t = 4, b = 5), color = \"black\"),\n        plot.background = element_rect(fill = \"#FFFFFF\", color = \"#FFFFFF\"),\n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        legend.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        plot.margin = unit(c(1.5, 1.5, 1.5, 1.5), \"cm\")) +\n  labs(x = NULL, y = NULL, title = \"China City Map\")\n\np\n\n\n\n\n\n\n\n图 1: 中国地图 (市)",
    "crumbs": [
      "HIPLOT",
      "China Map (City)"
    ]
  }
]